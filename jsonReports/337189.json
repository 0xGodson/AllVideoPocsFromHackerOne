{"id":337189,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8zMzcxODk=","url":"https://hackerone.com/reports/337189","title":"Tracking Bitwarden firefox addon users","state":"Closed","substate":"resolved","severity_rating":"high","readable_substate":"Resolved","created_at":"2018-04-13T09:21:24.054Z","submitted_at":"2018-04-13T09:21:24.054Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"kmodi","url":"/kmodi","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":21024,"url":"https://hackerone.com/bitwarden","handle":"bitwarden","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/uHvBgHfLjcd9SPWDmjdYVf21/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/uHvBgHfLjcd9SPWDmjdYVf21/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Bitwarden","twitter_handle":"bitwarden","website":"https://bitwarden.com","about":"Open source password management solutions for individuals, teams, and business organizations."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2018-05-23T17:31:30.197Z","bug_reporter_agreed_on_going_public_at":null,"team_member_agreed_on_going_public_at":"2018-04-23T17:31:19.080Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Firefox web extension, generate a UUID for each web-extension and is specific to a user. Unlike chrome extensions. \nWhich means whenever the user installs Bitwarden on Firefox, it generates a different extension ID for each user.\nYou can check the extension ID by about:debugging -\u003e under extensions.\n\nThe problem occurs when Bitwarden prompts the user with the message:\n `Should Bitwarden remember this password for you?`.  [Screenshot attached]\n\nThis prompt is loaded as a local resource from `moz-extension://UUID/bar.html?add=1`, and this can be easily read by the website and any Javascript running on that page.\n\n## Impact\n\nNow, because this is UUID is unique to each user, it is a potential userID which can be used for tracking a user:\n1. That a user is a Bitwarden user.\n2. Multiple accounts used by the user across normal windows, private windows, containers.\n3. Because this ID can also be read by a third-party javascript on the page:\n    A.com/login.html has a third-party T.com\n    B.com/login.html has a third-party T.com\nNow because T.com can also read the UUID for Bitwarden, T.com can on their backend track that it's the same user visiting A.com and B.com. It will not matter whether the user has third-party cookies disabled or not, or is using some tracking protection. Hence, Bitwarden infects the browser ecosystem and breaks the privacy protections / private browsing mode.\n\nThis ID is accessible and remains same irrespective of :\n- Private mode\n -Normal mode\n- After browser restart\n- Extension update.\n- Clearing History / Local storage\n\nThe only way to remove this UUID is by deleting and re-installing the extension.\n\nI am happy to help you with more concrete examples if needed. \nAs a demo:\n1. Firefox with Bitwarden extension installed.\n2. Visit the page: https://cdn.cliqz.com/browser-f/fun-demo/tracking-bw-users.html\n\nThis is a known issue with Firefox webextensions you can find the details here:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1372288\n\nAs far as I can see, this needs to fixed at the extension level and not at Firefox level.\n\nPlease note, as of now I have only tested the resource loaded from this prompt. But this would be a problem anywhere the resource being loaded which is using the same pattern.","vulnerability_information_html":"\u003cp\u003eFirefox web extension, generate a UUID for each web-extension and is specific to a user. Unlike chrome extensions. \u003cbr\u003e\nWhich means whenever the user installs Bitwarden on Firefox, it generates a different extension ID for each user.\u003cbr\u003e\nYou can check the extension ID by about:debugging -\u0026gt; under extensions.\u003c/p\u003e\n\n\u003cp\u003eThe problem occurs when Bitwarden prompts the user with the message:\u003cbr\u003e\n \u003ccode\u003eShould Bitwarden remember this password for you?\u003c/code\u003e.  [Screenshot attached]\u003c/p\u003e\n\n\u003cp\u003eThis prompt is loaded as a local resource from \u003ccode\u003emoz-extension://UUID/bar.html?add=1\u003c/code\u003e, and this can be easily read by the website and any Javascript running on that page.\u003c/p\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eNow, because this is UUID is unique to each user, it is a potential userID which can be used for tracking a user:\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eThat a user is a Bitwarden user.\u003c/li\u003e\n\u003cli\u003eMultiple accounts used by the user across normal windows, private windows, containers.\u003c/li\u003e\n\u003cli\u003eBecause this ID can also be read by a third-party javascript on the page:\nA.com/login.html has a third-party T.com\nB.com/login.html has a third-party T.com\nNow because T.com can also read the UUID for Bitwarden, T.com can on their backend track that it\u0026#39;s the same user visiting A.com and B.com. It will not matter whether the user has third-party cookies disabled or not, or is using some tracking protection. Hence, Bitwarden infects the browser ecosystem and breaks the privacy protections / private browsing mode.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eThis ID is accessible and remains same irrespective of :\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ePrivate mode\n-Normal mode\u003c/li\u003e\n\u003cli\u003eAfter browser restart\u003c/li\u003e\n\u003cli\u003eExtension update.\u003c/li\u003e\n\u003cli\u003eClearing History / Local storage\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe only way to remove this UUID is by deleting and re-installing the extension.\u003c/p\u003e\n\n\u003cp\u003eI am happy to help you with more concrete examples if needed. \u003cbr\u003e\nAs a demo:\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eFirefox with Bitwarden extension installed.\u003c/li\u003e\n\u003cli\u003eVisit the page: \u003ca title=\"https://cdn.cliqz.com/browser-f/fun-demo/tracking-bw-users.html\" href=\"/redirect?url=https%3A%2F%2Fcdn.cliqz.com%2Fbrowser-f%2Ffun-demo%2Ftracking-bw-users.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://cdn.cliqz.com/browser-f/fun-demo/tracking-bw-users.html\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eThis is a known issue with Firefox webextensions you can find the details here:\u003cbr\u003e\n\u003ca title=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1372288\" href=\"/redirect?url=https%3A%2F%2Fbugzilla.mozilla.org%2Fshow_bug.cgi%3Fid%3D1372288\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://bugzilla.mozilla.org/show_bug.cgi?id=1372288\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAs far as I can see, this needs to fixed at the extension level and not at Firefox level.\u003c/p\u003e\n\n\u003cp\u003ePlease note, as of now I have only tested the resource loaded from this prompt. But this would be a problem anywhere the resource being loaded which is using the same pattern.\u003c/p\u003e\n","original_report_id":null,"original_report_url":null,"attachments":[{"id":285332,"file_name":"bitwarden-prompt.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/285/332/49313121e0e783ee40215e4c95d23f13f3c4a9fe/bitwarden-prompt.png?response-content-disposition=attachment%3B%20filename%3D%22bitwarden-prompt.png%22%3B%20filename%2A%3DUTF-8%27%27bitwarden-prompt.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQYENXQUKC%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T053826Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHXwr%2Bz%2B7j54GXjIZDeFjE7V4KhtcLVpveDKyRp%2FgHMpAiEA%2FzBLaI4tlPUnNvgzY0X8n68OkDDLSfCBmjTZSd2A%2BM8qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDOLyu53NKIhzdiDnLyqRA1YiznmwUquOZL6cfEwHlrCEbfV1uip5mxrCKpzmpc9DKyYejzEqNMg8%2Fo1XQZiQbQ9Mn8QGMjtqUBvpzsRmfLsdw4KO6Yix26%2Foq9H6jcEfUIX3EyFaY0ofGk42HT5lnakJ%2FUAtv5lyqirA3laDcoq6u60WpxBZh0jLi92Ajs9kGkzDbgWJPXMK2%2FlVglZWa%2BjQNhDftrEqJh4ZV%2FIwfbcJ6s89eju9B4Xkun1IUiVjrUtA5LTMlkDAEwqtGdl3pucepUSB2hZBvbqUfgiT65T%2BpLDNg0LFqEXPPPqqyrYG3%2BqTXIZxR1FfbdXOQjx1UoPwboCHOwSOpOKGaPs6TEM2o6Sg2U%2BGvuy3dMdtNBCfH4SIfBdeUa84eWUftCR4OwBiC0F1Cl6iPIZXa92zkJSAVTz9swPvr%2BghYLYGIjX%2F8jqVGlADsLB1sl%2BqlNRFkwYrvTDOWwnYmDuvQmmhpAQ6Mg%2Fp05v07WKHRsbG%2BAUzVJ3M02i0HIdWCGKjqKXgGZi%2FLBrHUEV9bzaVWmpeFEE3MObUqv8FOusBMEus3670kEKa62xVKQkID%2Fav5Xylzf384wPv9i4fBKmwghqKR67wSDPkErUtnTlN6wJNos0uBd5jibop6zjPh%2BDMaeI%2Bt4z0CbNpMS83WKn2xS%2FvSK0QFyg217PkDWCKklNPmbumtDteHdU2qRRX%2BQwVoTBmoRFgs97OyKXEz2rc7ZIcHuDnAibsNVPNZEuX9m%2B04KKBBkwdIr0sY3zEiVHvTVxPYBSsKfBPuZwzi6W3T3aq%2BF9l860FnFBaV964%2BlbASqZkuTd4cEZ8C2GJad6RyY164GfHgpKnmQ6aYbLhiDTz0xF3adlmhg%3D%3D\u0026X-Amz-Signature=6ee94653d609dfd1cb23261489e284dd34fee05bf5eb701444463f8356878b1b","file_size":34610,"type":"image/png"}],"allow_singular_disclosure_at":"2018-05-23T17:31:19.181Z","allow_singular_disclosure_after":-82123627.6660954,"singular_disclosure_allowed":true,"vote_count":6,"voters":["akaash_pantherdefence","eveeez","apapedulimu","faisalahmed","luigigubello","itx"],"severity":{"rating":"high","author_type":"Team"},"structured_scope":{"databaseId":777,"asset_type":"OTHER","asset_identifier":"https://addons.mozilla.org/en-US/firefox/addon/bitwarden-password-manager/","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":2603337,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi, thanks for the report! Is there a suggested fix for this? I am not sure how we could provide this feature without loading a local resource onto the page. It's a shame that resource URLs are not static like Chromium browsers. I think Edge might also suffer from this same problem.","markdown_message":"\u003cp\u003eHi, thanks for the report! Is there a suggested fix for this? I am not sure how we could provide this feature without loading a local resource onto the page. It\u0026#39;s a shame that resource URLs are not static like Chromium browsers. I think Edge might also suffer from this same problem.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T13:07:24.434Z","updated_at":"2018-04-13T13:08:34.946Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2603341,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"","markdown_message":"","automated_response":false,"created_at":"2018-04-13T13:07:56.690Z","updated_at":"2018-04-13T13:07:56.690Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2603424,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"Hi @kspearrin : Yes, there are definitely different ways to avoid these issues in Firefox. Lot of extensions like Ghostery, Privacy Badger, Last pass add local resources on the page but are not impacted by this.\n\nIf you can point me to the part of the codebase which is loading these resources, I can try and come up with some solution.\n\nCannot comment for Edge, did not test it. But would be worth knowing, what happens with it.","markdown_message":"\u003cp\u003eHi \u003ca href=\"/kspearrin\"\u003e@kspearrin\u003c/a\u003e : Yes, there are definitely different ways to avoid these issues in Firefox. Lot of extensions like Ghostery, Privacy Badger, Last pass add local resources on the page but are not impacted by this.\u003c/p\u003e\n\n\u003cp\u003eIf you can point me to the part of the codebase which is loading these resources, I can try and come up with some solution.\u003c/p\u003e\n\n\u003cp\u003eCannot comment for Edge, did not test it. But would be worth knowing, what happens with it.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T13:33:46.458Z","updated_at":"2018-04-13T13:33:46.458Z","actor":{"username":"kmodi","cleared":false,"url":"/kmodi","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2603428,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Here is where we inject the notification bar iframe into the page: https://github.com/bitwarden/browser/blob/master/src/content/notificationBar.js#L382 . We use the `chrome.extension.getURL` API.","markdown_message":"\u003cp\u003eHere is where we inject the notification bar iframe into the page: \u003ca title=\"https://github.com/bitwarden/browser/blob/master/src/content/notificationBar.js#L382\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fbitwarden%2Fbrowser%2Fblob%2Fmaster%2Fsrc%2Fcontent%2FnotificationBar.js%23L382\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/bitwarden/browser/blob/master/src/content/notificationBar.js#L382\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e . We use the \u003ccode\u003echrome.extension.getURL\u003c/code\u003e API.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T13:37:35.842Z","updated_at":"2018-04-13T13:37:35.842Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2603433,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Perhaps the solution is we need to move away from injecting an iFrame and generate the DOM directly on the page?","markdown_message":"\u003cp\u003ePerhaps the solution is we need to move away from injecting an iFrame and generate the DOM directly on the page?\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T13:43:08.281Z","updated_at":"2018-04-13T13:43:08.281Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2603457,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Would be worth checking, also try and use `url(data:image/png;base64--------` technique to load resources.","markdown_message":"\u003cp\u003eWould be worth checking, also try and use \u003ccode\u003eurl(data:image/png;base64--------\u003c/code\u003e technique to load resources.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T13:47:24.205Z","updated_at":"2018-04-13T13:47:24.205Z","actor":{"username":"kmodi","cleared":false,"url":"/kmodi","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2603467,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"This is loading an HTML page though, not a simple binary image.","markdown_message":"\u003cp\u003eThis is loading an HTML page though, not a simple binary image.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T13:48:35.557Z","updated_at":"2018-04-13T13:48:35.557Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2603554,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"This comment in the referenced Bugzilla thread seems to provide a viable solution for our use case: https://bugzilla.mozilla.org/show_bug.cgi?id=1372288#c25\n\n","markdown_message":"\u003cp\u003eThis comment in the referenced Bugzilla thread seems to provide a viable solution for our use case: \u003ca title=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1372288#c25\" href=\"/redirect?url=https%3A%2F%2Fbugzilla.mozilla.org%2Fshow_bug.cgi%3Fid%3D1372288%23c25\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://bugzilla.mozilla.org/show_bug.cgi?id=1372288#c25\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T14:14:08.883Z","updated_at":"2018-04-13T14:14:25.589Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2603641,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I added this simple fix: https://github.com/bitwarden/browser/commit/46dabd5d8ab015554c7854f62e5f914004b8276f\n\nTrying it on your test page seems to demonstrate that the resource URL is no longer being leaked through iframe src.\n\nCan you confirm?","markdown_message":"\u003cp\u003eI added this simple fix: \u003ca title=\"https://github.com/bitwarden/browser/commit/46dabd5d8ab015554c7854f62e5f914004b8276f\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fbitwarden%2Fbrowser%2Fcommit%2F46dabd5d8ab015554c7854f62e5f914004b8276f\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/bitwarden/browser/commit/46dabd5d8ab015554c7854f62e5f914004b8276f\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eTrying it on your test page seems to demonstrate that the resource URL is no longer being leaked through iframe src.\u003c/p\u003e\n\n\u003cp\u003eCan you confirm?\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T14:23:08.299Z","updated_at":"2018-04-13T14:23:08.299Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2603761,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"","markdown_message":"","automated_response":false,"created_at":"2018-04-13T14:56:50.812Z","updated_at":"2018-04-13T14:56:50.812Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2604545,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"I'll check. But would need a little help.\nCurrently while building the extension : \nWhen running: `npm run build:watch`/\nI get the following error:\n```\n/browser/webpack.config.js:114\n        ),\n        ^\nSyntaxError: Unexpected token )\n    at Object.exports.runInThisContext (vm.js:73:16)\n    at Module._compile (module.js:543:28)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n```","markdown_message":"\u003cp\u003eI\u0026#39;ll check. But would need a little help.\u003cbr\u003e\nCurrently while building the extension : \u003cbr\u003e\nWhen running: \u003ccode\u003enpm run build:watch\u003c/code\u003e/\u003cbr\u003e\nI get the following error:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e/browser/webpack.config.js:114\n        ),\n        ^\nSyntaxError: Unexpected token )\n    at Object.exports.runInThisContext (vm.js:73:16)\n    at Module._compile (module.js:543:28)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (module.js:498:17)\n    at require (internal/module.js:20:19)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","automated_response":false,"created_at":"2018-04-13T18:19:32.050Z","updated_at":"2018-04-13T18:19:32.050Z","actor":{"username":"kmodi","cleared":false,"url":"/kmodi","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2604550,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"What version of node are you using? `node --version`","markdown_message":"\u003cp\u003eWhat version of node are you using? \u003ccode\u003enode --version\u003c/code\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T18:20:50.375Z","updated_at":"2018-04-13T18:21:02.576Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2604567,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Try pulling latest. I fixed the syntax error mentioned in the webpack file. Not sure why it compiled fine on my machine. Maybe I am using a more forgiving version of node.","markdown_message":"\u003cp\u003eTry pulling latest. I fixed the syntax error mentioned in the webpack file. Not sure why it compiled fine on my machine. Maybe I am using a more forgiving version of node.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T18:25:17.269Z","updated_at":"2018-04-13T18:25:17.269Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2604570,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"","markdown_message":"","automated_response":false,"created_at":"2018-04-13T18:25:32.130Z","updated_at":"2018-04-13T18:25:32.130Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2604696,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"`node --version` : v7.5.0\nThanks, the webpack error is fixed. But I have a different error now :)\n\n```\n [10] ./src/2fa/2fa.ts 0 bytes {8} [built]\n\nERROR in jslib/src/services/crypto.service.ts(471,69): error TS2345: Argument of type '{ name: string; }' is not assignable to parameter of type 'string | EcKeyImportParams | HmacImportParams | RsaHashedImportParams | DhImportKeyParams'.\n  Type '{ name: string; }' is not assignable to type 'DhImportKeyParams'.\n    Property 'generator' is missing in type '{ name: string; }'.\njslib/src/services/crypto.service.ts(525,69): error TS2345: Argument of type '{ name: string; }' is not assignable to parameter of type 'string | EcKeyImportParams | HmacImportParams | RsaHashedImportParams | DhImportKeyParams'.\n  Type '{ name: string; }' is not assignable to type 'DhImportKeyParams'.\n```","markdown_message":"\u003cp\u003e\u003ccode\u003enode --version\u003c/code\u003e : v7.5.0\u003cbr\u003e\nThanks, the webpack error is fixed. But I have a different error now :)\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e [10] ./src/2fa/2fa.ts 0 bytes {8} [built]\n\nERROR in jslib/src/services/crypto.service.ts(471,69): error TS2345: Argument of type \u0026#39;{ name: string; }\u0026#39; is not assignable to parameter of type \u0026#39;string | EcKeyImportParams | HmacImportParams | RsaHashedImportParams | DhImportKeyParams\u0026#39;.\n  Type \u0026#39;{ name: string; }\u0026#39; is not assignable to type \u0026#39;DhImportKeyParams\u0026#39;.\n    Property \u0026#39;generator\u0026#39; is missing in type \u0026#39;{ name: string; }\u0026#39;.\njslib/src/services/crypto.service.ts(525,69): error TS2345: Argument of type \u0026#39;{ name: string; }\u0026#39; is not assignable to parameter of type \u0026#39;string | EcKeyImportParams | HmacImportParams | RsaHashedImportParams | DhImportKeyParams\u0026#39;.\n  Type \u0026#39;{ name: string; }\u0026#39; is not assignable to type \u0026#39;DhImportKeyParams\u0026#39;.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","automated_response":false,"created_at":"2018-04-13T18:58:38.005Z","updated_at":"2018-04-13T18:58:38.005Z","actor":{"username":"kmodi","cleared":false,"url":"/kmodi","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2604762,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I am not sure. This is during build? I am running node 9.7.1","markdown_message":"\u003cp\u003eI am not sure. This is during build? I am running node 9.7.1\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T19:08:50.130Z","updated_at":"2018-04-13T19:08:50.130Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2604886,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Ok, so got it working. Upgraded the node version.\n\nSo, I can confirm it fixes the issue. However, Bitwarden will be still vulnerable to some attacks:\n1. Users can still be tracked if they are using Bitwarden (document.getElementById('bit-notification-bar-iframe'))\n2. It might be possible to emulate button click. (Need to be verified).\n\nAs a suggestion, for a long term fix you might want to explore Shadow Dom.(https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM), (https://glazkov.com/2011/01/14/what-the-heck-is-shadow-dom/)","markdown_message":"\u003cp\u003eOk, so got it working. Upgraded the node version.\u003c/p\u003e\n\n\u003cp\u003eSo, I can confirm it fixes the issue. However, Bitwarden will be still vulnerable to some attacks:\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eUsers can still be tracked if they are using Bitwarden (document.getElementById(\u0026#39;bit-notification-bar-iframe\u0026#39;))\u003c/li\u003e\n\u003cli\u003eIt might be possible to emulate button click. (Need to be verified).\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eAs a suggestion, for a long term fix you might want to explore Shadow Dom.(\u003ca title=\"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM\" href=\"/redirect?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FWeb_Components%2FUsing_shadow_DOM\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e), (\u003ca title=\"https://glazkov.com/2011/01/14/what-the-heck-is-shadow-dom/\" href=\"/redirect?url=https%3A%2F%2Fglazkov.com%2F2011%2F01%2F14%2Fwhat-the-heck-is-shadow-dom%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://glazkov.com/2011/01/14/what-the-heck-is-shadow-dom/\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e)\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T19:55:51.015Z","updated_at":"2018-04-13T19:55:51.015Z","actor":{"username":"kmodi","cleared":false,"url":"/kmodi","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2604913,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2018-04-13T20:10:10.433Z","updated_at":"2018-04-13T20:10:10.433Z","additional_data":{"old_severity":"High","new_severity":"High","old_severity_id":139479,"new_severity_id":139688},"actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2604914,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Great.\n\nIt's possible to track that someone is a user of Bitwarden is other ways as well. For example, we modify the original page's DOM elements (adding data attributes) to keep track of page state for our content scripts (autofilling, form listening for adding new logins, etc). Other password managers will suffer from this as well unfortunately.\n\nI will go ahead and close this now since the issue of tracking *individual* Bitwarden users is now resolved. This fix will go out with our release next week.\n\nThanks!!","markdown_message":"\u003cp\u003eGreat.\u003c/p\u003e\n\n\u003cp\u003eIt\u0026#39;s possible to track that someone is a user of Bitwarden is other ways as well. For example, we modify the original page\u0026#39;s DOM elements (adding data attributes) to keep track of page state for our content scripts (autofilling, form listening for adding new logins, etc). Other password managers will suffer from this as well unfortunately.\u003c/p\u003e\n\n\u003cp\u003eI will go ahead and close this now since the issue of tracking \u003cem\u003eindividual\u003c/em\u003e Bitwarden users is now resolved. This fix will go out with our release next week.\u003c/p\u003e\n\n\u003cp\u003eThanks!!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T20:10:21.661Z","updated_at":"2018-04-13T20:13:15.808Z","actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"reporter":{"username":"kmodi","url":"/kmodi"},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2604921,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks! Love the lighting fixes.","markdown_message":"\u003cp\u003eThanks! Love the lighting fixes.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-13T20:12:26.349Z","updated_at":"2018-04-13T20:12:26.349Z","actor":{"username":"kmodi","cleared":false,"url":"/kmodi","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2652923,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"If the fixed has been released and pushed on stores, is it safe to make this bug public?","markdown_message":"\u003cp\u003eIf the fixed has been released and pushed on stores, is it safe to make this bug public?\u003c/p\u003e\n","automated_response":false,"created_at":"2018-04-23T10:01:37.576Z","updated_at":"2018-04-23T10:01:37.576Z","actor":{"username":"kmodi","cleared":false,"url":"/kmodi","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/164/034/95df7d59a39c078497891cefff825eaf86197a04_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2655464,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2018-04-23T17:31:19.119Z","updated_at":"2018-04-23T17:31:19.119Z","first_to_agree":true,"actor":{"username":"kspearrin","cleared":false,"url":"/kspearrin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/NfF9KdzShJTHMmhSb4ajYq1p/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2787376,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2018-05-23T17:31:30.239Z","updated_at":"2018-05-23T17:31:30.239Z","actor":{"url":"/bitwarden","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/uHvBgHfLjcd9SPWDmjdYVf21/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Bitwarden"}},"genius_execution_id":null,"team_handle":"bitwarden","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}