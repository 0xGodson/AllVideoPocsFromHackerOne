{"id":241008,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8yNDEwMDg=","url":"https://hackerone.com/reports/241008","title":"Stored XSS in *.myshopify.com","state":"Closed","substate":"resolved","severity_rating":"medium","readable_substate":"Resolved","created_at":"2017-06-17T13:20:45.777Z","submitted_at":"2017-06-17T13:20:45.777Z","is_member_of_team?":false,"reporter":{"disabled":true,"username":"jamesclyde","url":"/jamesclyde","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":1382,"url":"https://hackerone.com/shopify","handle":"shopify","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/fjjiC5585s8WoDGHv2M5okbJ/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/fjjiC5585s8WoDGHv2M5okbJ/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Shopify","twitter_handle":"","website":"https://www.shopify.com","about":"Shopify is a multi-channel commerce platform that helps people sell online, in-store, and everywhere in between."}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2017-06-27T13:33:49.917Z","bug_reporter_agreed_on_going_public_at":"2017-06-27T12:26:10.955Z","team_member_agreed_on_going_public_at":"2017-06-27T13:33:49.885Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hello,\n\nFirst of all in noticed that this is out of scope \"Any issue related to the storefront area being displayed in a \u003ciframe\u003e element in the admin area, for example in the Theme Editor.\" \n\nThis is not in the store front and this will be set in an XSS payload.\n\n1. Go to https://(YOUR SHOP).myshopify.com/admin/themes/THEME id)/editor\n2. Select header and scroll down to \"annoucement text\".\n3. Fill there as payload: \"\u0026gt;\u003cimg src=\"x\" onerror=\"alert(document.cookie)\"\u003e\n4. Click save and the XSS will be popped up.\n\nI have checked it twice and it is not gonna reflect on the store front. This XSS is in the myshopify/admin section.\n\nPOC screen:\nhttps://snag.gy/FImTKd.jpg","vulnerability_information_html":"\u003cp\u003eHello,\u003c/p\u003e\n\n\u003cp\u003eFirst of all in noticed that this is out of scope \u0026quot;Any issue related to the storefront area being displayed in a \u0026lt;iframe\u0026gt; element in the admin area, for example in the Theme Editor.\u0026quot; \u003c/p\u003e\n\n\u003cp\u003eThis is not in the store front and this will be set in an XSS payload.\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eGo to https://(YOUR SHOP).myshopify.com/admin/themes/THEME id)/editor\u003c/li\u003e\n\u003cli\u003eSelect header and scroll down to \u0026quot;annoucement text\u0026quot;.\u003c/li\u003e\n\u003cli\u003eFill there as payload: \u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;x\u0026quot; onerror=\u0026quot;alert(document.cookie)\u0026quot;\u0026gt;\u003c/li\u003e\n\u003cli\u003eClick save and the XSS will be popped up.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eI have checked it twice and it is not gonna reflect on the store front. This XSS is in the myshopify/admin section.\u003c/p\u003e\n\n\u003cp\u003ePOC screen:\u003cbr\u003e\n\u003ca title=\"https://snag.gy/FImTKd.jpg\" href=\"/redirect?url=https%3A%2F%2Fsnag.gy%2FFImTKd.jpg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://snag.gy/FImTKd.jpg\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","bounty_amount":"500.0","formatted_bounty":"$500","weakness":{"id":62,"name":"Cross-site Scripting (XSS) - Stored"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":null,"vote_count":11,"voters":["bogdantcaciuc","hackedbrain","eveeez","pappan","japz","ereda","sumit7","jamesclyde","clarckowen_","amir22hr","and 1 more..."],"severity":{"rating":"medium","score":5.4,"author_type":"Team","metrics":{"attack_vector":"network","attack_complexity":"low","privileges_required":"low","user_interaction":"none","scope":"unchanged","confidentiality":"low","integrity":"low","availability":"none"}},"structured_scope":{"databaseId":413,"asset_type":"URL","asset_identifier":"your-store.myshopify.com","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1763229,"is_internal":false,"editable":false,"type":"Activities::BugNotApplicable","message":"Thank you for reporting this issue.\n\nThe issue that you describe in your report is listed on our [program page](https://hackerone.com/shopify) under **Known issues or previously reported vulnerabilities**. \n\n\u003e Any issue where a store administrator is able to insert javascript in the storefront area of their own store, including the checkout pages.\n\nShopify gives merchants complete control over their store front so they can customize it and make it their own. For this reason, we allow javascript to be included throughout the store by store administrators. This brings risks that we are already aware of, which is why we have excluded the issue from our bounty program and we ask that researchers do not report this kind of issue.","markdown_message":"\u003cp\u003eThank you for reporting this issue.\u003c/p\u003e\n\n\u003cp\u003eThe issue that you describe in your report is listed on our \u003ca href=\"https://hackerone.com/shopify\"\u003eprogram page\u003c/a\u003e under \u003cstrong\u003eKnown issues or previously reported vulnerabilities\u003c/strong\u003e. \u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eAny issue where a store administrator is able to insert javascript in the storefront area of their own store, including the checkout pages.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eShopify gives merchants complete control over their store front so they can customize it and make it their own. For this reason, we allow javascript to be included throughout the store by store administrators. This brings risks that we are already aware of, which is why we have excluded the issue from our bounty program and we ask that researchers do not report this kind of issue.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-17T14:43:43.687Z","updated_at":"2017-06-17T14:43:43.687Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1763266,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@francoischagnon Please check my report before you make an comment like this. I told before that the XSS is not executing in the storefront of there own shop. The XSS here reflects in the admin editor and had nothing to do with the storefront.\n\nCheck it again,,, please","markdown_message":"\u003cp\u003e\u003ca href=\"/francoischagnon\"\u003e@francoischagnon\u003c/a\u003e Please check my report before you make an comment like this. I told before that the XSS is not executing in the storefront of there own shop. The XSS here reflects in the admin editor and had nothing to do with the storefront.\u003c/p\u003e\n\n\u003cp\u003eCheck it again,,, please\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-17T15:29:48.900Z","updated_at":"2017-06-17T15:29:48.900Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1763289,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"The XSS executes in the storefront, inside the iframe shown in your screenshot. This issue is excluded from our bug bounty program since it occurs in the storefront.","markdown_message":"\u003cp\u003eThe XSS executes in the storefront, inside the iframe shown in your screenshot. This issue is excluded from our bug bounty program since it occurs in the storefront.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-17T15:58:41.648Z","updated_at":"2017-06-17T15:58:41.648Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1763302,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Did you tried to reproduce it? Go also to your store front, the XSS will there not be executed. The XSS is not executing in the store front. The XSS is executing in the announce text in Admin","markdown_message":"\u003cp\u003eDid you tried to reproduce it? Go also to your store front, the XSS will there not be executed. The XSS is not executing in the store front. The XSS is executing in the announce text in Admin\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-17T16:31:10.472Z","updated_at":"2017-06-17T16:31:10.472Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1763309,"is_internal":false,"editable":false,"type":"Activities::BugReopened","message":"","markdown_message":"","automated_response":false,"created_at":"2017-06-17T16:39:49.475Z","updated_at":"2017-06-17T16:39:49.475Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1763312,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"In the future, it would be useful if you investigated the root cause of the issue and included it in your report, so we can quickly see whether this is an excluded issue or not.","markdown_message":"\u003cp\u003eIn the future, it would be useful if you investigated the root cause of the issue and included it in your report, so we can quickly see whether this is an excluded issue or not.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-17T16:41:03.914Z","updated_at":"2017-06-17T16:41:03.914Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1763330,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Ok i will do, my bad. But did you verified it now?","markdown_message":"\u003cp\u003eOk i will do, my bad. But did you verified it now?\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-17T16:51:35.403Z","updated_at":"2017-06-17T16:51:35.403Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1764658,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Is this be triaged now?","markdown_message":"\u003cp\u003eIs this be triaged now?\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-19T08:01:56.738Z","updated_at":"2017-06-19T08:01:56.738Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1768069,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Is this triaged or should i make an poc video?","markdown_message":"\u003cp\u003eIs this triaged or should i make an poc video?\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-20T11:45:55.827Z","updated_at":"2017-06-20T11:45:55.827Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1769350,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@francoischagnon ??","markdown_message":"\u003cp\u003e\u003ca href=\"/francoischagnon\"\u003e@francoischagnon\u003c/a\u003e ??\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-20T18:59:17.307Z","updated_at":"2017-06-20T18:59:17.307Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1769576,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"@jamesclyde in the future, please be patient while we review issues. Asking for updates every day is unnecessary and unwelcome.\n\nI've tracked the issue to the source and let our engineering team know about it. While investigating I confirmed that this is a self-xss, and it will only trigger in the merchant's own browser if they copy and paste the payload themselves. Because of this, the issue will likely not be eligible for a bounty.","markdown_message":"\u003cp\u003e\u003ca href=\"/jamesclyde\"\u003e@jamesclyde\u003c/a\u003e in the future, please be patient while we review issues. Asking for updates every day is unnecessary and unwelcome.\u003c/p\u003e\n\n\u003cp\u003eI\u0026#39;ve tracked the issue to the source and let our engineering team know about it. While investigating I confirmed that this is a self-xss, and it will only trigger in the merchant\u0026#39;s own browser if they copy and paste the payload themselves. Because of this, the issue will likely not be eligible for a bounty.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-20T20:16:28.103Z","updated_at":"2017-06-20T20:16:28.103Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1769637,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@francoischagnon Since when is self xss out of scope. I think 60% of all shopify xss reports are self xss then. By the way check this report: https://hackerone.com/reports/214044. He even needs to edit the landing page cookie. So please dont come with this reasons now. \n\nAlso i just ask of you need some poc video. You reopend with any clarification. But you answer on other reports, so just want to know if it is triaged. I am sorry if it was unnecessary and unwelcome.","markdown_message":"\u003cp\u003e\u003ca href=\"/francoischagnon\"\u003e@francoischagnon\u003c/a\u003e Since when is self xss out of scope. I think 60% of all shopify xss reports are self xss then. By the way check this report: \u003ca title=\"https://hackerone.com/reports/214044\" href=\"https://hackerone.com/reports/214044\"\u003ehttps://hackerone.com/reports/214044\u003c/a\u003e. He even needs to edit the landing page cookie. So please dont come with this reasons now. \u003c/p\u003e\n\n\u003cp\u003eAlso i just ask of you need some poc video. You reopend with any clarification. But you answer on other reports, so just want to know if it is triaged. I am sorry if it was unnecessary and unwelcome.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-20T20:40:08.213Z","updated_at":"2017-06-20T20:42:10.391Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1778745,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"This is one is already fixed! Good job.\n\nBy the way this can not only done by copy and paste, it can simply be done by an http request.\n\nCan we set as resolved?","markdown_message":"\u003cp\u003eThis is one is already fixed! Good job.\u003c/p\u003e\n\n\u003cp\u003eBy the way this can not only done by copy and paste, it can simply be done by an http request.\u003c/p\u003e\n\n\u003cp\u003eCan we set as resolved?\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-24T14:24:30.957Z","updated_at":"2017-06-24T14:24:30.957Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1784118,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Hi @jamesclyde, our development team has solved this issue on Friday. I updated the summary of this issue with our findings.","markdown_message":"\u003cp\u003eHi \u003ca href=\"/jamesclyde\"\u003e@jamesclyde\u003c/a\u003e, our development team has solved this issue on Friday. I updated the summary of this issue with our findings.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-27T11:57:36.547Z","updated_at":"2017-06-27T11:57:36.547Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"jamesclyde","url":"/jamesclyde"},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1784172,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@francoischagnon Thanks!! ","markdown_message":"\u003cp\u003e\u003ca href=\"/francoischagnon\"\u003e@francoischagnon\u003c/a\u003e Thanks!! \u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-27T12:25:50.765Z","updated_at":"2017-06-27T12:25:50.765Z","actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1784173,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-06-27T12:26:10.978Z","updated_at":"2017-06-27T12:26:10.978Z","first_to_agree":true,"actor":{"username":"jamesclyde","cleared":false,"url":"/jamesclyde","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1784333,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"","markdown_message":"","automated_response":false,"created_at":"2017-06-27T13:28:33.682Z","updated_at":"2017-06-27T13:28:33.682Z","actor":{"url":"/shopify","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/fjjiC5585s8WoDGHv2M5okbJ/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Shopify"}},"bounty_amount":"500.0","bounty_currency":"usd","bonus_amount":"0.0","genius_execution_id":null,"team_handle":"shopify","collaborator":{"username":"jamesclyde","url":"/jamesclyde"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1784351,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I think it's important to add a precision here: even though this issue appeared to fall under one of our exclusion at first glance (XSS in the storefront), it turned out that the javascript was being executed not in the storefront but in the parent frame, so this issue did not fall under the XSS exclusion, and this is the reason it was awarded a bounty.","markdown_message":"\u003cp\u003eI think it\u0026#39;s important to add a precision here: even though this issue appeared to fall under one of our exclusion at first glance (XSS in the storefront), it turned out that the javascript was being executed not in the storefront but in the parent frame, so this issue did not fall under the XSS exclusion, and this is the reason it was awarded a bounty.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-06-27T13:33:43.759Z","updated_at":"2017-06-27T13:33:43.759Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1784352,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-06-27T13:33:49.900Z","updated_at":"2017-06-27T13:33:49.900Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1784353,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-06-27T13:33:49.931Z","updated_at":"2017-06-27T13:33:49.931Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2890071,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2018-06-15T19:01:51.742Z","updated_at":"2018-06-15T19:01:51.742Z","additional_data":{"old_severity":null,"new_severity":"Medium (5.4)","old_severity_id":null,"new_severity_id":168663},"actor":{"username":"shopify-peteryaworski","cleared":false,"url":"/shopify-peteryaworski","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/175/526/7ba4844078e290c91c4c46a345b4f9e7666f3ed4_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2890072,"is_internal":false,"editable":false,"type":"Activities::ChangedScope","message":"","markdown_message":"","automated_response":false,"created_at":"2018-06-15T19:01:59.060Z","updated_at":"2018-06-15T19:01:59.060Z","actor":{"username":"shopify-peteryaworski","cleared":false,"url":"/shopify-peteryaworski","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/175/526/7ba4844078e290c91c4c46a345b4f9e7666f3ed4_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"old_scope":"None","new_scope":"your-store.myshopify.com","genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"id":4600,"category":"team","content":"The researcher reported an issue where any html typed in a input field in the Theme Editor would be instantiated in the document's DOM. We traced the issue to some creative sanitization code that attempted to fix unclosed html tags by doing something like `document.createElement('div').innerHTML = value` any time a onblur or onchange event was triggered on a input field in the Theme Editor. We've changed the offending code to run in a sandboxed iframe without script execution privileges.","can_view?":true,"can_edit?":false,"content_html":"\u003cp\u003eThe researcher reported an issue where any html typed in a input field in the Theme Editor would be instantiated in the document\u0026#39;s DOM. We traced the issue to some creative sanitization code that attempted to fix unclosed html tags by doing something like \u003ccode\u003edocument.createElement(\u0026#39;div\u0026#39;).innerHTML = value\u003c/code\u003e any time a onblur or onchange event was triggered on a input field in the Theme Editor. We\u0026#39;ve changed the offending code to run in a sandboxed iframe without script execution privileges.\u003c/p\u003e\n"},{"category":"researcher","can_view?":true,"can_create?":false}]}