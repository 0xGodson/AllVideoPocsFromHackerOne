{"id":161193,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xNjExOTM=","url":"https://hackerone.com/reports/161193","title":"imagegammacorrect allows arbitrary write access","state":"Closed","substate":"resolved","readable_substate":"Resolved","created_at":"2016-08-19T02:58:07.154Z","submitted_at":"2016-08-19T02:58:07.154Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"fms","url":"/fms","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":29,"url":"https://hackerone.com/ibb-php","handle":"ibb-php","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/029/99087dbbdf52fc3ce3acbf16aa33a5c4f5e2c111_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/029/99087dbbdf52fc3ce3acbf16aa33a5c4f5e2c111_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"paused","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"PHP (IBB)","twitter_handle":"","website":"http://www.php.net","about":""}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2019-10-13T18:15:54.600Z","bug_reporter_agreed_on_going_public_at":"2019-10-13T18:15:54.544Z","team_member_agreed_on_going_public_at":"2019-10-13T09:30:51.907Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Upstream Bug\n---\n2016-08-02 03:46 UTC\nhttps://bugs.php.net/bug.php?id=72730\n\nSummary\n--\nimagegammacorrect accepts two gamma values, if they don't have the same sign then the palette colors will be assigned values bigger than 0xFF, later this values are used to calculate the transparent color using the gdTrueColorAlpha macro, and a negative value will be assigned to the transparent color.  This negative value is used as an index and allows writing an arbitrary null, similar to bug #72512 \n\nPatch\n--\n2016-08-10 07:16 UTC\nhttp://git.php.net/?p=php-src.git;a=commit;h=4d76676101f8814520ea988e42b3bda54eb9e255\n\nFixed for PHP 5.6.25, PHP 7.0.10\n--\nhttp://php.net/ChangeLog-5.php\nhttp://php.net/ChangeLog-7.php#7.0.10","vulnerability_information_html":"\u003ch2 id=\"upstream-bug\"\u003eUpstream Bug\u003c/h2\u003e\n\n\u003cp\u003e2016-08-02 03:46 UTC\u003cbr\u003e\n\u003ca title=\"https://bugs.php.net/bug.php?id=72730\" href=\"/redirect?url=https%3A%2F%2Fbugs.php.net%2Fbug.php%3Fid%3D72730\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://bugs.php.net/bug.php?id=72730\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2 id=\"summary\"\u003eSummary\u003c/h2\u003e\n\n\u003cp\u003eimagegammacorrect accepts two gamma values, if they don\u0026#39;t have the same sign then the palette colors will be assigned values bigger than 0xFF, later this values are used to calculate the transparent color using the gdTrueColorAlpha macro, and a negative value will be assigned to the transparent color.  This negative value is used as an index and allows writing an arbitrary null, similar to bug \u003ca href=\"/reports/72512\"\u003e#72512\u003c/a\u003e \u003c/p\u003e\n\n\u003ch2 id=\"patch\"\u003ePatch\u003c/h2\u003e\n\n\u003cp\u003e2016-08-10 07:16 UTC\u003cbr\u003e\n\u003ca title=\"http://git.php.net/?p=php-src.git%3Ba=commit%3Bh=4d76676101f8814520ea988e42b3bda54eb9e255\" href=\"/redirect?url=http%3A%2F%2Fgit.php.net%2F%3Fp%3Dphp-src.git%253Ba%3Dcommit%253Bh%3D4d76676101f8814520ea988e42b3bda54eb9e255\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://git.php.net/?p=php-src.git%3Ba=commit%3Bh=4d76676101f8814520ea988e42b3bda54eb9e255\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2 id=\"fixed-for-php-5-6-25-php-7-0-10\"\u003eFixed for PHP 5.6.25, PHP 7.0.10\u003c/h2\u003e\n\n\u003cp\u003e\u003ca title=\"http://php.net/ChangeLog-5.php\" href=\"/redirect?url=http%3A%2F%2Fphp.net%2FChangeLog-5.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://php.net/ChangeLog-5.php\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca title=\"http://php.net/ChangeLog-7.php#7.0.10\" href=\"/redirect?url=http%3A%2F%2Fphp.net%2FChangeLog-7.php%237.0.10\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://php.net/ChangeLog-7.php#7.0.10\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","bounty_amount":"1000.0","formatted_bounty":"$1,000","weakness":{"id":2,"name":"Memory Corruption - Generic"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2019-11-12T09:30:51.991Z","allow_singular_disclosure_after":-35665571.006722994,"singular_disclosure_allowed":true,"vote_count":2,"voters":["dyabla","mainio"],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1205773,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"","markdown_message":"","automated_response":false,"created_at":"2016-09-20T04:41:39.205Z","updated_at":"2016-09-20T04:41:39.205Z","actor":{"username":"arice","cleared":false,"url":"/arice","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/020/83152cb2d070f3f6a63c1b61bae47257722b5ad2_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"reporter":{"username":"fms","url":"/fms"},"genius_execution_id":null,"team_handle":"ibb-php","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1205774,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"","markdown_message":"","automated_response":false,"created_at":"2016-09-20T04:41:45.588Z","updated_at":"2016-09-20T04:41:45.588Z","actor":{"url":"/ibb-php","ibb":true,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/029/99087dbbdf52fc3ce3acbf16aa33a5c4f5e2c111_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"PHP (IBB)"}},"bounty_amount":"1000.0","bounty_currency":"usd","genius_execution_id":null,"team_handle":"ibb-php","collaborator":{"username":"fms","url":"/fms"},"actor_is_team_member":false,"actor_is_concealed_member":false},{"id":6026213,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2019-10-13T09:30:51.924Z","updated_at":"2019-10-13T09:30:51.924Z","first_to_agree":true,"actor":{"username":"reed","cleared":false,"url":"/reed","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/132/66d7eadcea16b878bb67bfd697b9542250a801a7_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"ibb-php","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":6028332,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2019-10-13T18:15:54.561Z","updated_at":"2019-10-13T18:15:54.561Z","actor":{"username":"fms","cleared":false,"url":"/fms","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ibb-php","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":6028333,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2019-10-13T18:15:54.614Z","updated_at":"2019-10-13T18:15:54.614Z","actor":{"username":"fms","cleared":false,"url":"/fms","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ibb-php","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}