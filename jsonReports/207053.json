{"id":207053,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8yMDcwNTM=","url":"https://hackerone.com/reports/207053","title":"Writable RubyCi Amazon s3 bucket","state":"Closed","substate":"resolved","severity_rating":"high","readable_substate":"Resolved","created_at":"2017-02-17T06:43:02.543Z","submitted_at":"2017-02-17T06:43:02.543Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"dataalchemist","url":"/dataalchemist","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/138/666/dad1c464590f7b572fcf1cf72af07701708ef05b_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":7724,"url":"https://hackerone.com/ruby","handle":"ruby","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/007/724/bb067434deef370d6a0b16c2cbbc030b57c75e92_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/007/724/bb067434deef370d6a0b16c2cbbc030b57c75e92_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Ruby","twitter_handle":"","website":"https://www.ruby-lang.org","about":"A Programmer's Best Friend"}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2017-02-27T02:05:26.852Z","bug_reporter_agreed_on_going_public_at":"2017-02-17T22:01:17.187Z","team_member_agreed_on_going_public_at":"2017-02-27T02:05:26.817Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hello, I have discovered that the bucket:\nhttp://rubyci.s3.amazonaws.com/\nis able to be written to by authenticated aws users. This is due to the current permissions configurations\nI have added a file here:\nhttp://rubyci.s3.amazonaws.com/test.html\nfor proof of concept. This can be potentially dangerous to your users and website, as any of the web content in this bucket may be replaced with malicious files. \nMore info about these permissions can be found here: http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\n","vulnerability_information_html":"\u003cp\u003eHello, I have discovered that the bucket:\u003cbr\u003e\n\u003ca title=\"http://rubyci.s3.amazonaws.com/\" href=\"/redirect?url=http%3A%2F%2Frubyci.s3.amazonaws.com%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://rubyci.s3.amazonaws.com/\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\nis able to be written to by authenticated aws users. This is due to the current permissions configurations\u003cbr\u003e\nI have added a file here:\u003cbr\u003e\n\u003ca title=\"http://rubyci.s3.amazonaws.com/test.html\" href=\"/redirect?url=http%3A%2F%2Frubyci.s3.amazonaws.com%2Ftest.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://rubyci.s3.amazonaws.com/test.html\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\nfor proof of concept. This can be potentially dangerous to your users and website, as any of the web content in this bucket may be replaced with malicious files. \u003cbr\u003e\nMore info about these permissions can be found here: \u003ca title=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\" href=\"/redirect?url=http%3A%2F%2Fdocs.aws.amazon.com%2FAmazonS3%2Flatest%2Fdev%2Fs3-access-control.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","bounty_amount":"500.0","formatted_bounty":"$500","weakness":{"id":27,"name":"Improper Authentication - Generic"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":161542,"file_name":"Screen_Shot_2017-02-16_at_10.41.47_PM.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/161/542/6f42545750662a69a484809856a65f2e48357e2c/Screen_Shot_2017-02-16_at_10.41.47_PM.png?response-content-disposition=attachment%3B%20filename%3D%22Screen_Shot_2017-02-16_at_10.41.47_PM.png%22%3B%20filename%2A%3DUTF-8%27%27Screen_Shot_2017-02-16_at_10.41.47_PM.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSUJSTWNA%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T045528Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDC4LZo82wc2eCvBFlhjwE027CwJoHB88%2BMK2v03JEf7AIgTsNTuR7XI5zLkpcU%2F192zliPMALv25wXWHyoW56mHW0qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDDQxd6Ep%2FudaJolhjiqRA%2FV9m3Q5qTHiEf%2B0F56QxIa0FX4xcw3kyVQ754zuEWG6%2FFHm5u50c%2FkjIZTK4iokf%2F5bg8%2F9lzPcfaf%2FlyMeeuZQiIR66c8Q0ZynlQYFFg39COCCRcmQH0rk4Py7SioeZK1WX50szdnMCAEBM0%2FYGIJRFlpJYz5%2BF7cuCEDZDVFz70QPaeLM9Aq2Hp0OWlaD%2BlKU2Ya8oXmKGTVLeV6xTf66mRdzvW8I4qKgZpByKnAcip5WWnkttPjUxPiLaEeZ%2BClnUyHZas2bB1iPmPH0rQXcKWbTOq%2BJJm8xX%2FgqtqSgjGTmncJVZJxe0UaRUPXS%2BxPh0KYERT9Te4D5sREOcmaPJ0lojWm5AuNIxK3S30FeTamdldG5jOgcjm7r6e2HjWcB7yfe4%2BCsYd2eVLbbXk95jZRHQohr%2B7Z9YEqq00TUANe07BXm%2FKoAPBMy0bYQHYmVJaGS31XhmN6DRKUn5mwwU6NQ87eIymigu48swQSaSOa0S3Ve15n99tYKCLxw%2FqcLrXK9DmAPRXyB2cTH85tpMJ7Qqv8FOusB0TY7T%2F8PPlS9Pw17cj5sLPnZSdHFb4OJ7xNuArhvZUxC%2FDdQIpfgbN40hDHy3r94ejzq63ULcWroBoxExSJ8F%2BIqLrT2jEE%2BHYV9rJ3uN20mlrWN07M1wfpVQeu7mZyiWu%2BTKEOjyLznji7d3Efn7A1SwzF%2FWi11RcA9%2BGeNTFCiOeyJRV4JWopx6NNi8TVr6hBraJmZeqXIUCIj4yW%2BvdbZ%2F7b%2BDWNq1S8BMna3Htt9r6lmeANRYdDH%2BkiA2F6n7nJrrrNm3hF7NHjHy1GdUin3XffXKseDfHdRNqxNelH1SrChi2zziLtHrQ%3D%3D\u0026X-Amz-Signature=abb2f6f022c41ff12859f1bbb8354f7df56db90affbd7afd80babd3d42048a88","file_size":17523,"type":"image/png"},{"id":161543,"file_name":"Screen_Shot_2017-02-16_at_10.42.38_PM.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/161/543/8fc3a734089e4d50da9fa1b1de94d1874b21ec41/Screen_Shot_2017-02-16_at_10.42.38_PM.png?response-content-disposition=attachment%3B%20filename%3D%22Screen_Shot_2017-02-16_at_10.42.38_PM.png%22%3B%20filename%2A%3DUTF-8%27%27Screen_Shot_2017-02-16_at_10.42.38_PM.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSUJSTWNA%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T045528Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDC4LZo82wc2eCvBFlhjwE027CwJoHB88%2BMK2v03JEf7AIgTsNTuR7XI5zLkpcU%2F192zliPMALv25wXWHyoW56mHW0qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDDQxd6Ep%2FudaJolhjiqRA%2FV9m3Q5qTHiEf%2B0F56QxIa0FX4xcw3kyVQ754zuEWG6%2FFHm5u50c%2FkjIZTK4iokf%2F5bg8%2F9lzPcfaf%2FlyMeeuZQiIR66c8Q0ZynlQYFFg39COCCRcmQH0rk4Py7SioeZK1WX50szdnMCAEBM0%2FYGIJRFlpJYz5%2BF7cuCEDZDVFz70QPaeLM9Aq2Hp0OWlaD%2BlKU2Ya8oXmKGTVLeV6xTf66mRdzvW8I4qKgZpByKnAcip5WWnkttPjUxPiLaEeZ%2BClnUyHZas2bB1iPmPH0rQXcKWbTOq%2BJJm8xX%2FgqtqSgjGTmncJVZJxe0UaRUPXS%2BxPh0KYERT9Te4D5sREOcmaPJ0lojWm5AuNIxK3S30FeTamdldG5jOgcjm7r6e2HjWcB7yfe4%2BCsYd2eVLbbXk95jZRHQohr%2B7Z9YEqq00TUANe07BXm%2FKoAPBMy0bYQHYmVJaGS31XhmN6DRKUn5mwwU6NQ87eIymigu48swQSaSOa0S3Ve15n99tYKCLxw%2FqcLrXK9DmAPRXyB2cTH85tpMJ7Qqv8FOusB0TY7T%2F8PPlS9Pw17cj5sLPnZSdHFb4OJ7xNuArhvZUxC%2FDdQIpfgbN40hDHy3r94ejzq63ULcWroBoxExSJ8F%2BIqLrT2jEE%2BHYV9rJ3uN20mlrWN07M1wfpVQeu7mZyiWu%2BTKEOjyLznji7d3Efn7A1SwzF%2FWi11RcA9%2BGeNTFCiOeyJRV4JWopx6NNi8TVr6hBraJmZeqXIUCIj4yW%2BvdbZ%2F7b%2BDWNq1S8BMna3Htt9r6lmeANRYdDH%2BkiA2F6n7nJrrrNm3hF7NHjHy1GdUin3XffXKseDfHdRNqxNelH1SrChi2zziLtHrQ%3D%3D\u0026X-Amz-Signature=1e690ecf272d3627fa75a4075fa9492a2747c19329ed4b72d1a6189c6eb1b67e","file_size":56781,"type":"image/png"}],"allow_singular_disclosure_at":"2017-03-19T22:01:17.236Z","allow_singular_disclosure_after":-119256851.17414567,"singular_disclosure_allowed":true,"vote_count":11,"voters":["spam404","sameerphad72","bigbear_","dataalchemist","mpz","eveeez","khizer47","sumit7","rbcafe","spetr0x","and 1 more..."],"severity":{"rating":"high","author_type":"User"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1490742,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I'm not completely sure if you own this bucket, but I saw references to this resource on a couple of pages like this\nhttps://bugs.ruby-lang.org/issues/12331\n\nWhich looks like a public repository. This could be dangerous for your users as the files can easily be replaced with my own, putting users in a lot of risk.","markdown_message":"\u003cp\u003eI\u0026#39;m not completely sure if you own this bucket, but I saw references to this resource on a couple of pages like this\u003cbr\u003e\n\u003ca title=\"https://bugs.ruby-lang.org/issues/12331\" href=\"/redirect?url=https%3A%2F%2Fbugs.ruby-lang.org%2Fissues%2F12331\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://bugs.ruby-lang.org/issues/12331\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eWhich looks like a public repository. This could be dangerous for your users as the files can easily be replaced with my own, putting users in a lot of risk.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-02-17T06:48:39.103Z","updated_at":"2017-02-17T06:48:39.103Z","actor":{"username":"dataalchemist","cleared":false,"url":"/dataalchemist","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/138/666/dad1c464590f7b572fcf1cf72af07701708ef05b_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1490874,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Confirmed. We only handle language issue on hackerone.\n\nBut this report is high severity issue. I fix this permission now.\n\nThank you for your information.","markdown_message":"\u003cp\u003eConfirmed. We only handle language issue on hackerone.\u003c/p\u003e\n\n\u003cp\u003eBut this report is high severity issue. I fix this permission now.\u003c/p\u003e\n\n\u003cp\u003eThank you for your information.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-02-17T08:34:04.246Z","updated_at":"2017-02-17T08:34:04.246Z","actor":{"username":"hsbt","cleared":false,"url":"/hsbt","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/808/c3eeedf7f0d1a3c3eead4e0106bbcc4441e0d9f5_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"dataalchemist","url":"/dataalchemist"},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1490875,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"","markdown_message":"","automated_response":false,"created_at":"2017-02-17T08:34:10.470Z","updated_at":"2017-02-17T08:34:10.470Z","actor":{"url":"/ruby","ibb":true,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/007/724/bb067434deef370d6a0b16c2cbbc030b57c75e92_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Ruby"}},"bounty_amount":"500.0","bounty_currency":"usd","bonus_amount":"0.0","genius_execution_id":null,"team_handle":"ruby","collaborator":{"username":"dataalchemist","url":"/dataalchemist"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1490902,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Yeah i saw that your websites weren't in scope, but I saw this and had to report it anyway given the impact on users.Thanks for the bounty!","markdown_message":"\u003cp\u003eYeah i saw that your websites weren\u0026#39;t in scope, but I saw this and had to report it anyway given the impact on users.Thanks for the bounty!\u003c/p\u003e\n","automated_response":false,"created_at":"2017-02-17T08:56:59.405Z","updated_at":"2017-02-17T08:56:59.405Z","actor":{"username":"dataalchemist","cleared":false,"url":"/dataalchemist","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/138/666/dad1c464590f7b572fcf1cf72af07701708ef05b_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1492198,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-02-17T22:01:17.206Z","updated_at":"2017-02-17T22:01:17.206Z","first_to_agree":true,"actor":{"username":"dataalchemist","cleared":false,"url":"/dataalchemist","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/138/666/dad1c464590f7b572fcf1cf72af07701708ef05b_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1507064,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-02-27T02:05:26.833Z","updated_at":"2017-02-27T02:05:26.833Z","actor":{"username":"hsbt","cleared":false,"url":"/hsbt","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/808/c3eeedf7f0d1a3c3eead4e0106bbcc4441e0d9f5_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1507065,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-02-27T02:05:26.863Z","updated_at":"2017-02-27T02:05:26.863Z","actor":{"username":"hsbt","cleared":false,"url":"/hsbt","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/808/c3eeedf7f0d1a3c3eead4e0106bbcc4441e0d9f5_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}