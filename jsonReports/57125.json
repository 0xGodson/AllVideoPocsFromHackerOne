{"id":57125,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC81NzEyNQ==","url":"https://hackerone.com/reports/57125","title":"comment out causes information disclosure","state":"Closed","substate":"resolved","readable_substate":"Resolved","created_at":"2015-04-18T06:24:47.747Z","submitted_at":"2015-04-18T06:24:47.747Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"shhnjk","url":"/shhnjk","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/017/838/7a0b979a00c472be7d3fd12573c7d0a928c53c24_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":1382,"url":"https://hackerone.com/shopify","handle":"shopify","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/fjjiC5585s8WoDGHv2M5okbJ/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/fjjiC5585s8WoDGHv2M5okbJ/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Shopify","twitter_handle":"","website":"https://www.shopify.com","about":"Shopify is a multi-channel commerce platform that helps people sell online, in-store, and everywhere in between."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2015-04-19T14:33:13.205Z","bug_reporter_agreed_on_going_public_at":"2015-04-18T19:25:56.884Z","team_member_agreed_on_going_public_at":"2015-04-19T14:33:12.866Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hi there\r\n\r\nGo to General setting (https://your-domain.myshopify.com/admin/settings/general), set Homepage Title to \u003c!-- and change Name to \"\u003e plus HTML Tag like words. Some data will be leaked in the place of Title in the home page. This is dangerous because sometimes title contains highly confidential data such as cart_token, checkout_token, email, session_hash, and so on. Ticket ID is 1559798.","vulnerability_information_html":"\u003cp\u003eHi there\u003c/p\u003e\n\n\u003cp\u003eGo to General setting (\u003ca title=\"https://your-domain.myshopify.com/admin/settings/general\" href=\"/redirect?url=https%3A%2F%2Fyour-domain.myshopify.com%2Fadmin%2Fsettings%2Fgeneral\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://your-domain.myshopify.com/admin/settings/general\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e), set Homepage Title to \u0026lt;!-- and change Name to \u0026quot;\u0026gt; plus HTML Tag like words. Some data will be leaked in the place of Title in the home page. This is dangerous because sometimes title contains highly confidential data such as cart_token, checkout_token, email, session_hash, and so on. Ticket ID is 1559798.\u003c/p\u003e\n","weakness":{"id":18,"name":"Information Disclosure"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2015-05-18T19:26:14.062Z","allow_singular_disclosure_after":-177245763.71828842,"singular_disclosure_allowed":true,"vote_count":2,"voters":["sw33tlie","shazad_sadiq"],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":384290,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Thanks, as discussed via email, I'll close as resolved.","markdown_message":"\u003cp\u003eThanks, as discussed via email, I\u0026#39;ll close as resolved.\u003c/p\u003e\n","automated_response":false,"created_at":"2015-04-18T17:11:13.924Z","updated_at":"2015-04-18T17:11:13.924Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"shhnjk","url":"/shhnjk"},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":384421,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-04-18T19:25:56.914Z","updated_at":"2015-04-18T19:25:56.914Z","first_to_agree":true,"actor":{"username":"shhnjk","cleared":false,"url":"/shhnjk","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/017/838/7a0b979a00c472be7d3fd12573c7d0a928c53c24_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":384861,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I'll add some details for this issue:\n\nThis is an out-of-bounds memory access in libxml2. By entering a unclosed html comment such as `\u003c!--` the libxml2 parser didn't stop parsing at the end of the buffer, causing random memory to be included in the parsed comment that was returned to ruby. In Shopify, this caused ruby objects from previous http requests to be disclosed in the rendered page.\n\nLink to the issue in libxml2's bugtracker:\nhttps://bugzilla.gnome.org/show_bug.cgi?id=746048\n\nA patched version of nokogiri (which uses a embedded libxml2) is available here:\nhttps://github.com/Shopify/nokogiri/compare/1b1fcad8bd64ab70256666c38d2c998e86ade8c0...master\n\nThis bug is still not patched upstream, but both libxml2 and nokogiri developers are aware of the issue.","markdown_message":"\u003cp\u003eI\u0026#39;ll add some details for this issue:\u003c/p\u003e\n\n\u003cp\u003eThis is an out-of-bounds memory access in libxml2. By entering a unclosed html comment such as \u003ccode\u003e\u0026lt;!--\u003c/code\u003e the libxml2 parser didn\u0026#39;t stop parsing at the end of the buffer, causing random memory to be included in the parsed comment that was returned to ruby. In Shopify, this caused ruby objects from previous http requests to be disclosed in the rendered page.\u003c/p\u003e\n\n\u003cp\u003eLink to the issue in libxml2\u0026#39;s bugtracker:\u003cbr\u003e\n\u003ca title=\"https://bugzilla.gnome.org/show_bug.cgi?id=746048\" href=\"/redirect?url=https%3A%2F%2Fbugzilla.gnome.org%2Fshow_bug.cgi%3Fid%3D746048\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://bugzilla.gnome.org/show_bug.cgi?id=746048\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eA patched version of nokogiri (which uses a embedded libxml2) is available here:\u003cbr\u003e\n\u003ca title=\"https://github.com/Shopify/nokogiri/compare/1b1fcad8bd64ab70256666c38d2c998e86ade8c0...master\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FShopify%2Fnokogiri%2Fcompare%2F1b1fcad8bd64ab70256666c38d2c998e86ade8c0...master\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/Shopify/nokogiri/compare/1b1fcad8bd64ab70256666c38d2c998e86ade8c0...master\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eThis bug is still not patched upstream, but both libxml2 and nokogiri developers are aware of the issue.\u003c/p\u003e\n","automated_response":false,"created_at":"2015-04-19T14:33:06.467Z","updated_at":"2015-04-19T14:33:06.467Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":384862,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-04-19T14:33:12.945Z","updated_at":"2015-04-19T14:33:12.945Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":384863,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-04-19T14:33:13.234Z","updated_at":"2015-04-19T14:33:13.234Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":620841,"is_internal":false,"editable":false,"type":"Activities::NotEligibleForBounty","message":"","markdown_message":"","automated_response":false,"created_at":"2015-10-14T19:16:44.477Z","updated_at":"2015-10-14T19:16:44.477Z","actor":{"url":"/shopify","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/fjjiC5585s8WoDGHv2M5okbJ/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Shopify"}},"genius_execution_id":null,"team_handle":"shopify","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}