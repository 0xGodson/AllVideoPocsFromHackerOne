{"id":19363,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xOTM2Mw==","url":"https://hackerone.com/reports/19363","title":"PHP PDOException and Full Path Disclosure","state":"Closed","substate":"resolved","readable_substate":"Resolved","created_at":"2014-07-07T21:02:16.970Z","submitted_at":"2014-07-07T21:02:16.970Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"supernatural","url":"/supernatural","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/001/099/f48bd7dc0789aca59880c61febe8333d0150bc2e_original.jpg/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":152,"url":"https://hackerone.com/localize","handle":"localize","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/152/56094bdec916edb0ca63cd7533e4c556e900dde0_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/152/56094bdec916edb0ca63cd7533e4c556e900dde0_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"disabled","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Localize","twitter_handle":null,"website":"https://www.localize.im/","about":"The free platform for the translation of Android apps"}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2015-01-18T21:43:15.886Z","bug_reporter_agreed_on_going_public_at":"2015-01-18T21:43:15.671Z","team_member_agreed_on_going_public_at":"2015-01-18T19:34:22.735Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"hi\r\nphrasekey , agian!\r\n\r\nin phraseChange action if set to array pdo quote show error!\r\nline 755 index.php\r\n\r\nWarning: PDO::quote() expects parameter 1 to be string, array given in /srv/data/web/vhosts/www.localize.im/htdocs/classes/Database.php on line 30\r\n\r\nFatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1' in /srv/data/web/vhosts/www.localize.im/htdocs/classes/Database.php:57 Stack trace: #0 /srv/data/web/vhosts/www.localize.im/htdocs/classes/Database.php(57): PDO-\u003eexec('DELETE FROM phr...') #1 /srv/data/web/vhosts/www.localize.im/htdocs/classes/Database.php(325): Database::delete('DELETE FROM phr...') #2 /srv/data/web/vhosts/www.localize.im/htdocs/index.php(768): Database::phraseDelete(340, Array) #3 {main} thrown in /srv/data/web/vhosts/www.localize.im/htdocs/classes/Database.php on line 57","vulnerability_information_html":"\u003cp\u003ehi\u003cbr\u003e\nphrasekey , agian!\u003c/p\u003e\n\n\u003cp\u003ein phraseChange action if set to array pdo quote show error!\u003cbr\u003e\nline 755 index.php\u003c/p\u003e\n\n\u003cp\u003eWarning: PDO::quote() expects parameter 1 to be string, array given in /srv/data/web/vhosts/\u003ca href=\"/redirect?url=http%3A%2F%2Fwww.localize.im%2Fhtdocs%2Fclasses%2FDatabase.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ewww.localize.im/htdocs/classes/Database.php\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e on line 30\u003c/p\u003e\n\n\u003cp\u003eFatal error: Uncaught exception \u0026#39;PDOException\u0026#39; with message \u0026#39;SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026#39;\u0026#39; at line 1\u0026#39; in /srv/data/web/vhosts/\u003ca href=\"/redirect?url=http%3A%2F%2Fwww.localize.im%2Fhtdocs%2Fclasses%2FDatabase.php%3A57\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ewww.localize.im/htdocs/classes/Database.php:57\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e Stack trace: #0 /srv/data/web/vhosts/\u003ca href=\"/redirect?url=http%3A%2F%2Fwww.localize.im%2Fhtdocs%2Fclasses%2FDatabase.php%2857%29%3A\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ewww.localize.im/htdocs/classes/Database.php(57):\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e PDO-\u0026gt;exec(\u0026#39;DELETE FROM phr...\u0026#39;) #1 /srv/data/web/vhosts/\u003ca href=\"/redirect?url=http%3A%2F%2Fwww.localize.im%2Fhtdocs%2Fclasses%2FDatabase.php%28325%29%3A\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ewww.localize.im/htdocs/classes/Database.php(325):\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e Database::delete(\u0026#39;DELETE FROM phr...\u0026#39;) #2 /srv/data/web/vhosts/\u003ca href=\"/redirect?url=http%3A%2F%2Fwww.localize.im%2Fhtdocs%2Findex.php%28768%29%3A\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ewww.localize.im/htdocs/index.php(768):\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e Database::phraseDelete(340, Array) #3 {main} thrown in /srv/data/web/vhosts/\u003ca href=\"/redirect?url=http%3A%2F%2Fwww.localize.im%2Fhtdocs%2Fclasses%2FDatabase.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ewww.localize.im/htdocs/classes/Database.php\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e on line 57\u003c/p\u003e\n","weakness":{"id":18,"name":"Information Disclosure"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2015-02-17T19:34:23.014Z","allow_singular_disclosure_after":-185015767.74777356,"singular_disclosure_allowed":true,"vote_count":0,"voters":[],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":85824,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thanks for submitting this bug report!\n\nWe're investigating this issue now. The information you provided about this vulnerability will be checked and we'll see if the issue is valid and in scope.\n\nWe will update this page with more information as soon as possible. Should we need more information, we'll let you know here as well.","markdown_message":"\u003cp\u003eThanks for submitting this bug report!\u003c/p\u003e\n\n\u003cp\u003eWe\u0026#39;re investigating this issue now. The information you provided about this vulnerability will be checked and we\u0026#39;ll see if the issue is valid and in scope.\u003c/p\u003e\n\n\u003cp\u003eWe will update this page with more information as soon as possible. Should we need more information, we\u0026#39;ll let you know here as well.\u003c/p\u003e\n","automated_response":false,"created_at":"2014-07-08T01:39:26.279Z","updated_at":"2014-07-08T01:39:26.279Z","actor":{"username":"delight-im","cleared":false,"url":"/delight-im","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"localize","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":313008,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"hi\n6 months  !\nWhat happened?","markdown_message":"\u003cp\u003ehi\u003cbr\u003e\n6 months  !\u003cbr\u003e\nWhat happened?\u003c/p\u003e\n","automated_response":false,"created_at":"2015-01-18T10:03:03.914Z","updated_at":"2015-01-18T10:03:03.914Z","actor":{"username":"supernatural","cleared":false,"url":"/supernatural","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/001/099/f48bd7dc0789aca59880c61febe8333d0150bc2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"localize","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":313086,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Sorry for the delay!\n\nPlease be more specific about the fields that you changed, in general. We tried `phraseChange[action]` because you hinted at \"action\" but it actually was `phraseChange[phraseKey]`\n\nNevertheless, we have checked this issue and verified it as a valid bug which is in scope.\n\nThe problem has now been fixed. Thank you!","markdown_message":"\u003cp\u003eSorry for the delay!\u003c/p\u003e\n\n\u003cp\u003ePlease be more specific about the fields that you changed, in general. We tried \u003ccode\u003ephraseChange[action]\u003c/code\u003e because you hinted at \u0026quot;action\u0026quot; but it actually was \u003ccode\u003ephraseChange[phraseKey]\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eNevertheless, we have checked this issue and verified it as a valid bug which is in scope.\u003c/p\u003e\n\n\u003cp\u003eThe problem has now been fixed. Thank you!\u003c/p\u003e\n","automated_response":false,"created_at":"2015-01-18T19:34:08.238Z","updated_at":"2015-01-18T19:34:08.238Z","actor":{"username":"delight-im","cleared":false,"url":"/delight-im","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"supernatural","url":"/supernatural"},"genius_execution_id":null,"team_handle":"localize","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":313087,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-01-18T19:34:22.866Z","updated_at":"2015-01-18T19:34:22.866Z","first_to_agree":true,"actor":{"username":"delight-im","cleared":false,"url":"/delight-im","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"localize","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":313120,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"oh\nsorry for that \n\nthanks","markdown_message":"\u003cp\u003eoh\u003cbr\u003e\nsorry for that \u003c/p\u003e\n\n\u003cp\u003ethanks\u003c/p\u003e\n","automated_response":false,"created_at":"2015-01-18T21:43:09.507Z","updated_at":"2015-01-18T21:43:09.507Z","actor":{"username":"supernatural","cleared":false,"url":"/supernatural","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/001/099/f48bd7dc0789aca59880c61febe8333d0150bc2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"localize","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":313121,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-01-18T21:43:15.767Z","updated_at":"2015-01-18T21:43:15.767Z","actor":{"username":"supernatural","cleared":false,"url":"/supernatural","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/001/099/f48bd7dc0789aca59880c61febe8333d0150bc2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"localize","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":313122,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-01-18T21:43:15.921Z","updated_at":"2015-01-18T21:43:15.921Z","actor":{"username":"supernatural","cleared":false,"url":"/supernatural","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/001/099/f48bd7dc0789aca59880c61febe8333d0150bc2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"localize","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}