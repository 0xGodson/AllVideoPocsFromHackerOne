{"id":942146,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC85NDIxNDY=","url":"https://hackerone.com/reports/942146","title":"Open Github Repo Leaking WEBLATE SECRET KEY","state":"Closed","substate":"resolved","severity_rating":"none","readable_substate":"Resolved","created_at":"2020-07-25T07:14:55.190Z","submitted_at":"2020-07-25T07:14:55.190Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"nafisaqil","url":"/nafisaqil","profile_picture_urls":{"small":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/variants/525cwct2usht83iqw0x8kzeg6zn1/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a?response-content-disposition=inline%3B%20filename%3D%22g3ZUkbe.gif%22%3B%20filename%2A%3DUTF-8%27%27g3ZUkbe.gif\u0026response-content-type=image%2Fgif\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSUJSTWNA%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T071256Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDC4LZo82wc2eCvBFlhjwE027CwJoHB88%2BMK2v03JEf7AIgTsNTuR7XI5zLkpcU%2F192zliPMALv25wXWHyoW56mHW0qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDDQxd6Ep%2FudaJolhjiqRA%2FV9m3Q5qTHiEf%2B0F56QxIa0FX4xcw3kyVQ754zuEWG6%2FFHm5u50c%2FkjIZTK4iokf%2F5bg8%2F9lzPcfaf%2FlyMeeuZQiIR66c8Q0ZynlQYFFg39COCCRcmQH0rk4Py7SioeZK1WX50szdnMCAEBM0%2FYGIJRFlpJYz5%2BF7cuCEDZDVFz70QPaeLM9Aq2Hp0OWlaD%2BlKU2Ya8oXmKGTVLeV6xTf66mRdzvW8I4qKgZpByKnAcip5WWnkttPjUxPiLaEeZ%2BClnUyHZas2bB1iPmPH0rQXcKWbTOq%2BJJm8xX%2FgqtqSgjGTmncJVZJxe0UaRUPXS%2BxPh0KYERT9Te4D5sREOcmaPJ0lojWm5AuNIxK3S30FeTamdldG5jOgcjm7r6e2HjWcB7yfe4%2BCsYd2eVLbbXk95jZRHQohr%2B7Z9YEqq00TUANe07BXm%2FKoAPBMy0bYQHYmVJaGS31XhmN6DRKUn5mwwU6NQ87eIymigu48swQSaSOa0S3Ve15n99tYKCLxw%2FqcLrXK9DmAPRXyB2cTH85tpMJ7Qqv8FOusB0TY7T%2F8PPlS9Pw17cj5sLPnZSdHFb4OJ7xNuArhvZUxC%2FDdQIpfgbN40hDHy3r94ejzq63ULcWroBoxExSJ8F%2BIqLrT2jEE%2BHYV9rJ3uN20mlrWN07M1wfpVQeu7mZyiWu%2BTKEOjyLznji7d3Efn7A1SwzF%2FWi11RcA9%2BGeNTFCiOeyJRV4JWopx6NNi8TVr6hBraJmZeqXIUCIj4yW%2BvdbZ%2F7b%2BDWNq1S8BMna3Htt9r6lmeANRYdDH%2BkiA2F6n7nJrrrNm3hF7NHjHy1GdUin3XffXKseDfHdRNqxNelH1SrChi2zziLtHrQ%3D%3D\u0026X-Amz-Signature=01ce62426a92a9d8473e7461d662a0599b3599bee6b675eefefe196c12f68724"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":19468,"url":"https://hackerone.com/weblate","handle":"weblate","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/019/468/71eb3827ae9f2a388f27bd4b7eefd20bc3ac813c_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/468/71eb3827ae9f2a388f27bd4b7eefd20bc3ac813c_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Weblate","twitter_handle":"WeblateOrg","website":"https://weblate.org/","about":"Weblate is a libre software web-based continuous localization system"}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2020-07-26T11:24:11.444Z","bug_reporter_agreed_on_going_public_at":"2020-07-26T11:24:11.383Z","team_member_agreed_on_going_public_at":"2020-07-26T10:46:54.570Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Team,\n\nWhile going through Github search I discovered a public repository which contains Weblate Secret Key\n\n#Issue \u0026 Poc:\n\n#Repo: https://github.com/WeblateOrg\n#File:https://github.com/WeblateOrg/weblate/blob/592472958f7b847701c51b36f4768b9784219fa1/weblate/settings_docker.py\n\n#SECRET_KEY = os.environ.get(\n        \"WEBLATE_SECRET_KEY\", \"jm8fqjlg+5!#xu%e-oh#7!$aa7!6avf7ud*_v=chdrb9qdco6(\"\n    )\n\n#Full Source Code:\n\n#\n# Copyright © 2012 - 2020 Michal Čihař \u003cmichal@cihar.com\u003e\n#\n# This file is part of Weblate \u003chttps://weblate.org/\u003e\n#\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program.  If not, see \u003chttps://www.gnu.org/licenses/\u003e.\n#\n\n\nimport os\nfrom logging.handlers import SysLogHandler\n\nfrom django.core.exceptions import PermissionDenied\nfrom django.http import Http404\n\nfrom weblate.utils.environment import (\n    get_env_bool,\n    get_env_int,\n    get_env_list,\n    get_env_map,\n    modify_env_list,\n)\n\n#\n# Django settings for Weblate project.\n#\n\nDEBUG = get_env_bool(\"WEBLATE_DEBUG\", True)\n\nADMINS = ((os.environ[\"WEBLATE_ADMIN_NAME\"], os.environ[\"WEBLATE_ADMIN_EMAIL\"]),)\n\nMANAGERS = ADMINS\n\nDATABASES = {\n    \"default\": {\n        # Use 'postgresql' or 'mysql'.\n        \"ENGINE\": \"django.db.backends.postgresql\",\n        # Database name.\n        \"NAME\": os.environ[\"POSTGRES_DATABASE\"],\n        # Database user.\n        \"USER\": os.environ[\"POSTGRES_USER\"],\n        # Database password.\n        \"PASSWORD\": os.environ[\"POSTGRES_PASSWORD\"],\n        # Set to empty string for localhost.\n        \"HOST\": os.environ[\"POSTGRES_HOST\"],\n        # Set to empty string for default.\n        \"PORT\": os.environ[\"POSTGRES_PORT\"],\n        # Customizations for databases.\n        \"OPTIONS\": {\"sslmode\": os.environ.get(\"POSTGRES_SSL_MODE\", \"prefer\")},\n    }\n}\n\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n# Data directory\nDATA_DIR = os.environ.get(\"WEBLATE_DATA_DIR\", \"/app/data\")\n\n# Local time zone for this installation. Choices can be found here:\n# http://en.wikipedia.org/wiki/List_of_tz_zones_by_name\n# although not all choices may be available on all operating systems.\n# In a Windows environment this must be set to your system time zone.\nTIME_ZONE = os.environ.get(\"WEBLATE_TIME_ZONE\", \"UTC\")\n\n# Language code for this installation. All choices can be found here:\n# http://www.i18nguy.com/unicode/language-identifiers.html\nLANGUAGE_CODE = \"en-us\"\n\nLANGUAGES = (\n    (\"ar\", \"العربية\"),\n    (\"az\", \"Azərbaycan\"),\n    (\"be\", \"Беларуская\"),\n    (\"be@latin\", \"Biełaruskaja\"),\n    (\"bg\", \"Български\"),\n    (\"br\", \"Brezhoneg\"),\n    (\"ca\", \"Català\"),\n    (\"cs\", \"Čeština\"),\n    (\"da\", \"Dansk\"),\n    (\"de\", \"Deutsch\"),\n    (\"en\", \"English\"),\n    (\"el\", \"Ελληνικά\"),\n    (\"en-gb\", \"English (United Kingdom)\"),\n    (\"es\", \"Español\"),\n    (\"fi\", \"Suomi\"),\n    (\"fr\", \"Français\"),\n    (\"gl\", \"Galego\"),\n    (\"he\", \"עברית\"),\n    (\"hu\", \"Magyar\"),\n    (\"hr\", \"Hrvatski\"),\n    (\"id\", \"Indonesia\"),\n    (\"it\", \"Italiano\"),\n    (\"ja\", \"日本語\"),\n    (\"kab\", \"Taqbaylit\"),\n    (\"kk\", \"Қазақ тілі\"),\n    (\"ko\", \"한국어\"),\n    (\"nb\", \"Norsk bokmål\"),\n    (\"nl\", \"Nederlands\"),\n    (\"pl\", \"Polski\"),\n    (\"pt\", \"Português\"),\n    (\"pt-br\", \"Português brasileiro\"),\n    (\"ru\", \"Русский\"),\n    (\"sk\", \"Slovenčina\"),\n    (\"sl\", \"Slovenščina\"),\n    (\"sq\", \"Shqip\"),\n    (\"sr\", \"Српски\"),\n    (\"sv\", \"Svenska\"),\n    (\"tr\", \"Türkçe\"),\n    (\"uk\", \"Українська\"),\n    (\"zh-hans\", \"简体字\"),\n    (\"zh-hant\", \"正體字\"),\n)\n\nSITE_ID = 1\n\n# If you set this to False, Django will make some optimizations so as not\n# to load the internationalization machinery.\nUSE_I18N = True\n\n# If you set this to False, Django will not format dates, numbers and\n# calendars according to the current locale.\nUSE_L10N = True\n\n# If you set this to False, Django will not use timezone-aware datetimes.\nUSE_TZ = True\n\n# URL prefix to use, please see documentation for more details\nURL_PREFIX = os.environ.get(\"WEBLATE_URL_PREFIX\", \"\")\n\n# Absolute filesystem path to the directory that will hold user-uploaded files.\nMEDIA_ROOT = os.path.join(DATA_DIR, \"media\")\n\n# URL that handles the media served from MEDIA_ROOT. Make sure to use a\n# trailing slash.\nMEDIA_URL = f\"{URL_PREFIX}/media/\"\n\n# Absolute path to the directory static files should be collected to.\n# Don't put anything in this directory yourself; store your static files\n# in apps' \"static/\" subdirectories and in STATICFILES_DIRS.\nSTATIC_ROOT = os.path.join(DATA_DIR, \"static\")\n\n# URL prefix for static files.\nSTATIC_URL = f\"{URL_PREFIX}/static/\"\n\n# Additional locations of static files\nSTATICFILES_DIRS = (\n    # Put strings here, like \"/home/html/static\" or \"C:/www/django/static\".\n    # Always use forward slashes, even on Windows.\n    # Don't forget to use absolute paths, not relative paths.\n)\n\n# List of finder classes that know how to find static files in\n# various locations.\nSTATICFILES_FINDERS = (\n    \"django.contrib.staticfiles.finders.FileSystemFinder\",\n    \"django.contrib.staticfiles.finders.AppDirectoriesFinder\",\n    \"compressor.finders.CompressorFinder\",\n)\n\n# Make this unique, and don't share it with anybody.\n# You can generate it using weblate/examples/generate-secret-key\ntry:\n    with open(\"/app/data/secret\", \"r\") as handle:\n        SECRET_KEY = handle.read()\nexcept IOError:\n    SECRET_KEY = os.environ.get(\n        \"WEBLATE_SECRET_KEY\", \"jm8fqjlg+5!#xu%e-oh#7!$aa7!6avf7ud*_v=chdrb9qdco6(\"\n    )\n\n_TEMPLATE_LOADERS = [\n    \"django.template.loaders.filesystem.Loader\",\n    \"django.template.loaders.app_directories.Loader\",\n]\nif not DEBUG:\n    _TEMPLATE_LOADERS = [(\"django.template.loaders.cached.Loader\", _TEMPLATE_LOADERS)]\nTEMPLATES = [\n    {\n        \"BACKEND\": \"django.template.backends.django.DjangoTemplates\",\n        \"OPTIONS\": {\n            \"context_processors\": [\n                \"django.contrib.auth.context_processors.auth\",\n                \"django.template.context_processors.debug\",\n                \"django.template.context_processors.i18n\",\n                \"django.template.context_processors.request\",\n                \"django.template.context_processors.csrf\",\n                \"django.contrib.messages.context_processors.messages\",\n                \"weblate.trans.context_processors.weblate_context\",\n            ],\n            \"loaders\": _TEMPLATE_LOADERS,\n        },\n    }\n]\n\n\n# GitHub username for sending pull requests.\n# Please see the documentation for more details.\nGITHUB_USERNAME = os.environ.get(\"WEBLATE_GITHUB_USERNAME\", None)\n\n# GitLab username for sending merge requests.\n# Please see the documentation for more details.\nGITLAB_USERNAME = os.environ.get(\"WEBLATE_GITLAB_USERNAME\", None)\n\n# Authentication configuration\nAUTHENTICATION_BACKENDS = ()\n\n# Custom user model\nAUTH_USER_MODEL = \"weblate_auth.User\"\n\nif \"WEBLATE_NO_EMAIL_AUTH\" not in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.email.EmailAuth\",)\n\nif \"WEBLATE_SOCIAL_AUTH_GITHUB_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.github.GithubOAuth2\",)\n\n# Social auth backends setup\nSOCIAL_AUTH_GITHUB_KEY = os.environ.get(\"WEBLATE_SOCIAL_AUTH_GITHUB_KEY\", \"\")\nSOCIAL_AUTH_GITHUB_SECRET = os.environ.get(\"WEBLATE_SOCIAL_AUTH_GITHUB_SECRET\", \"\")\nSOCIAL_AUTH_GITHUB_SCOPE = [\"user:email\"]\n\nif \"WEBLATE_SOCIAL_AUTH_BITBUCKET_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.bitbucket.BitbucketOAuth\",)\n\nSOCIAL_AUTH_BITBUCKET_KEY = os.environ.get(\"WEBLATE_SOCIAL_AUTH_BITBUCKET_KEY\", \"\")\nSOCIAL_AUTH_BITBUCKET_SECRET = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_BITBUCKET_SECRET\", \"\"\n)\nSOCIAL_AUTH_BITBUCKET_VERIFIED_EMAILS_ONLY = True\n\nif \"WEBLATE_SOCIAL_AUTH_FACEBOOK_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.facebook.FacebookOAuth2\",)\n\nSOCIAL_AUTH_FACEBOOK_KEY = os.environ.get(\"WEBLATE_SOCIAL_AUTH_FACEBOOK_KEY\", \"\")\nSOCIAL_AUTH_FACEBOOK_SECRET = os.environ.get(\"WEBLATE_SOCIAL_AUTH_FACEBOOK_SECRET\", \"\")\nSOCIAL_AUTH_FACEBOOK_SCOPE = [\"email\", \"public_profile\"]\nSOCIAL_AUTH_FACEBOOK_PROFILE_EXTRA_PARAMS = {\"fields\": \"id,name,email\"}\nSOCIAL_AUTH_FACEBOOK_API_VERSION = \"3.1\"\n\nif \"WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.google.GoogleOAuth2\",)\n\nSOCIAL_AUTH_GOOGLE_OAUTH2_KEY = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_KEY\", \"\"\n)\nSOCIAL_AUTH_GOOGLE_OAUTH2_SECRET = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET\", \"\"\n)\nSOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS = get_env_list(\n    \"WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS\", \"\"\n)\nSOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_EMAILS = get_env_list(\n    \"WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_EMAILS\", \"\"\n)\n\nif \"WEBLATE_SOCIAL_AUTH_GITLAB_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.gitlab.GitLabOAuth2\",)\n\nif \"WEBLATE_SOCIAL_AUTH_GITLAB_API_URL\" in os.environ:\n    SOCIAL_AUTH_GITLAB_API_URL = os.environ.get(\"WEBLATE_SOCIAL_AUTH_GITLAB_API_URL\")\n\nSOCIAL_AUTH_GITLAB_KEY = os.environ.get(\"WEBLATE_SOCIAL_AUTH_GITLAB_KEY\", \"\")\nSOCIAL_AUTH_GITLAB_SECRET = os.environ.get(\"WEBLATE_SOCIAL_AUTH_GITLAB_SECRET\", \"\")\nSOCIAL_AUTH_GITLAB_SCOPE = [\"read_user\"]\n\nif \"WEBLATE_SOCIAL_AUTH_AUTH0_KEY\" in os.environ:\n    SOCIAL_AUTH_AUTH0_KEY = os.environ.get(\"WEBLATE_SOCIAL_AUTH_AUTH0_KEY\", \"\")\n    SOCIAL_AUTH_AUTH0_SECRET = os.environ.get(\"WEBLATE_SOCIAL_AUTH_AUTH0_SECRET\", \"\")\n    SOCIAL_AUTH_AUTH0_DOMAIN = os.environ.get(\"WEBLATE_SOCIAL_AUTH_AUTH0_DOMAIN\", \"\")\n    SOCIAL_AUTH_AUTH0_TITLE = os.environ.get(\"WEBLATE_SOCIAL_AUTH_AUTH0_TITLE\", \"\")\n    SOCIAL_AUTH_AUTH0_IMAGE = os.environ.get(\"WEBLATE_SOCIAL_AUTH_AUTH0_IMAGE\", \"\")\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.auth0.Auth0OAuth2\",)\n    SOCIAL_AUTH_AUTH0_SCOPE = [\"openid\", \"profile\", \"email\"]\n\nif \"WEBLATE_SOCIAL_AUTH_AUTH0_AUTH_EXTRA_ARGUMENTS\" in os.environ:\n    SOCIAL_AUTH_AUTH0_AUTH_EXTRA_ARGUMENTS = get_env_map(\n        \"WEBLATE_SOCIAL_AUTH_AUTH0_AUTH_EXTRA_ARGUMENTS\"\n    )\n\n# SAML\nif \"WEBLATE_SAML_IDP_URL\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.saml.SAMLAuth\",)\n    # The keys are generated on container startup if missing\n    with open(\"/app/data/ssl/saml.crt\", \"r\") as handle:\n        SOCIAL_AUTH_SAML_SP_PUBLIC_CERT = handle.read()\n    with open(\"/app/data/ssl/saml.key\", \"r\") as handle:\n        SOCIAL_AUTH_SAML_SP_PRIVATE_KEY = handle.read()\n    # Identity Provider\n    SOCIAL_AUTH_SAML_ENABLED_IDPS = {\n        \"weblate\": {\n            \"entity_id\": os.environ.get(\"WEBLATE_SAML_IDP_ENTITY_ID\", \"\"),\n            \"url\": os.environ.get(\"WEBLATE_SAML_IDP_URL\", \"\"),\n            \"x509cert\": os.environ.get(\"WEBLATE_SAML_IDP_X509CERT\", \"\"),\n            \"attr_name\": \"full_name\",\n            \"attr_username\": \"username\",\n            \"attr_email\": \"email\",\n        }\n    }\n\n# Azure\nif \"WEBLATE_SOCIAL_AUTH_AZUREAD_OAUTH2_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.azuread.AzureADOAuth2\",)\n\nSOCIAL_AUTH_AZUREAD_OAUTH2_KEY = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_AZUREAD_OAUTH2_KEY\", \"\"\n)\nSOCIAL_AUTH_AZUREAD_OAUTH2_SECRET = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET\", \"\"\n)\n\n# Azure AD Tenant\nif \"WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\n        \"social_core.backends.azuread_tenant.AzureADTenantOAuth2\",\n    )\n\nSOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_KEY = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_KEY\", \"\"\n)\nSOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_SECRET = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_SECRET\", \"\"\n)\nSOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_TENANT_ID = os.environ.get(\n    \"WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_TENANT_ID\", \"\"\n)\n\n# Keycloak\nif \"WEBLATE_SOCIAL_AUTH_KEYCLOAK_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.keycloak.KeycloakOAuth2\",)\n    SOCIAL_AUTH_KEYCLOAK_KEY = os.environ.get(\"WEBLATE_SOCIAL_AUTH_KEYCLOAK_KEY\", \"\")\n    SOCIAL_AUTH_KEYCLOAK_SECRET = os.environ.get(\n        \"WEBLATE_SOCIAL_AUTH_KEYCLOAK_SECRET\", \"\"\n    )\n    SOCIAL_AUTH_KEYCLOAK_PUBLIC_KEY = os.environ.get(\n        \"WEBLATE_SOCIAL_AUTH_KEYCLOAK_PUBLIC_KEY\", \"\"\n    )\n    SOCIAL_AUTH_KEYCLOAK_AUTHORIZATION_URL = os.environ.get(\n        \"WEBLATE_SOCIAL_AUTH_KEYCLOAK_AUTHORIZATION_URL\", \"\"\n    )\n    SOCIAL_AUTH_KEYCLOAK_ALGORITHM = os.environ.get(\n        \"WEBLATE_SOCIAL_AUTH_KEYCLOAK_ALGORITHM\", \"\"\n    )\n    SOCIAL_AUTH_KEYCLOAK_ACCESS_TOKEN_URL = os.environ.get(\n        \"WEBLATE_SOCIAL_AUTH_KEYCLOAK_ACCESS_TOKEN_URL\", \"\"\n    )\n    SOCIAL_AUTH_KEYCLOAK_ID_KEY = \"email\"\n\n# Linux distros\nif \"WEBLATE_SOCIAL_AUTH_FEDORA\" in os.environ:\n    AUTHENTICATION_BACKENDS += \"social_core.backends.fedora.FedoraOpenId\"\nif \"WEBLATE_SOCIAL_AUTH_OPENSUSE\" in os.environ:\n    AUTHENTICATION_BACKENDS += \"social_core.backends.suse.OpenSUSEOpenId\"\n    SOCIAL_AUTH_OPENSUSE_FORCE_EMAIL_VALIDATION = True\nif \"WEBLATE_SOCIAL_AUTH_UBUNTU\" in os.environ:\n    AUTHENTICATION_BACKENDS += \"social_core.backends.ubuntu.UbuntuOpenId\"\n\n# Slack\nif \"WEBLATE_SOCIAL_AUTH_SLACK_KEY\" in os.environ:\n    AUTHENTICATION_BACKENDS += (\"social_core.backends.slack.SlackOAuth2\",)\n    SOCIAL_AUTH_SLACK_KEY = os.environ.get(\"WEBLATE_SOCIAL_AUTH_SLACK_KEY\", \"\")\n    SOCIAL_AUTH_SLACK_SECRET = os.environ.get(\"WEBLATE_SOCIAL_AUTH_SLACK_SECRET\", \"\")\n\n# https://docs.weblate.org/en/latest/admin/auth.html#ldap-authentication\nif \"WEBLATE_AUTH_LDAP_SERVER_URI\" in os.environ:\n    import ldap\n    from django_auth_ldap.config import LDAPSearch\n\n    AUTH_LDAP_SERVER_URI = os.environ.get(\"WEBLATE_AUTH_LDAP_SERVER_URI\")\n    AUTH_LDAP_USER_DN_TEMPLATE = (\n        os.environ.get(\"WEBLATE_AUTH_LDAP_USER_DN_TEMPLATE\") or None\n    )\n    AUTHENTICATION_BACKENDS += (\"django_auth_ldap.backend.LDAPBackend\",)\n    AUTH_LDAP_USER_ATTR_MAP = get_env_map(\n        \"WEBLATE_AUTH_LDAP_USER_ATTR_MAP\", {\"full_name\": \"name\", \"email\": \"mail\"}\n    )\n    AUTH_LDAP_BIND_DN = os.environ.get(\"WEBLATE_AUTH_LDAP_BIND_DN\", \"\")\n    AUTH_LDAP_BIND_PASSWORD = os.environ.get(\"WEBLATE_AUTH_LDAP_BIND_PASSWORD\", \"\")\n\n    if \"WEBLATE_AUTH_LDAP_USER_SEARCH\" in os.environ:\n        AUTH_LDAP_USER_SEARCH = LDAPSearch(\n            os.environ[\"WEBLATE_AUTH_LDAP_USER_SEARCH\"],\n            ldap.SCOPE_SUBTREE,\n            os.environ.get(\"WEBLATE_AUTH_LDAP_USER_SEARCH_FILTER\", \"(uid=%(user)s)\"),\n        )\n\n    if not get_env_bool(\"WEBLATE_AUTH_LDAP_CONNECTION_OPTION_REFERRALS\", True):\n        AUTH_LDAP_CONNECTION_OPTIONS = {\n            ldap.OPT_REFERRALS: 0,\n        }\n\n# Always include Weblate backend\nAUTHENTICATION_BACKENDS += (\"weblate.accounts.auth.WeblateUserBackend\",)\n\n# Social auth settings\nSOCIAL_AUTH_PIPELINE = (\n    \"social_core.pipeline.social_auth.social_details\",\n    \"social_core.pipeline.social_auth.social_uid\",\n    \"social_core.pipeline.social_auth.auth_allowed\",\n    \"social_core.pipeline.social_auth.social_user\",\n    \"weblate.accounts.pipeline.store_params\",\n    \"weblate.accounts.pipeline.verify_open\",\n    \"social_core.pipeline.user.get_username\",\n    \"weblate.accounts.pipeline.require_email\",\n    \"social_core.pipeline.mail.mail_validation\",\n    \"weblate.accounts.pipeline.revoke_mail_code\",\n    \"weblate.accounts.pipeline.ensure_valid\",\n    \"weblate.accounts.pipeline.remove_account\",\n    \"social_core.pipeline.social_auth.associate_by_email\",\n    \"weblate.accounts.pipeline.reauthenticate\",\n    \"weblate.accounts.pipeline.verify_username\",\n    \"social_core.pipeline.user.create_user\",\n    \"social_core.pipeline.social_auth.associate_user\",\n    \"social_core.pipeline.social_auth.load_extra_data\",\n    \"weblate.accounts.pipeline.cleanup_next\",\n    \"weblate.accounts.pipeline.user_full_name\",\n    \"weblate.accounts.pipeline.store_email\",\n    \"weblate.accounts.pipeline.notify_connect\",\n    \"weblate.accounts.pipeline.password_reset\",\n)\nSOCIAL_AUTH_DISCONNECT_PIPELINE = (\n    \"social_core.pipeline.disconnect.allowed_to_disconnect\",\n    \"social_core.pipeline.disconnect.get_entries\",\n    \"social_core.pipeline.disconnect.revoke_tokens\",\n    \"weblate.accounts.pipeline.cycle_session\",\n    \"weblate.accounts.pipeline.adjust_primary_mail\",\n    \"weblate.accounts.pipeline.notify_disconnect\",\n    \"social_core.pipeline.disconnect.disconnect\",\n    \"weblate.accounts.pipeline.cleanup_next\",\n)\n\n# Custom authentication strategy\nSOCIAL_AUTH_STRATEGY = \"weblate.accounts.strategy.WeblateStrategy\"\n\n# Raise exceptions so that we can handle them later\nSOCIAL_AUTH_RAISE_EXCEPTIONS = True\n\nSOCIAL_AUTH_EMAIL_VALIDATION_FUNCTION = \"weblate.accounts.pipeline.send_validation\"\nSOCIAL_AUTH_EMAIL_VALIDATION_URL = \"{0}/accounts/email-sent/\".format(URL_PREFIX)\nSOCIAL_AUTH_LOGIN_ERROR_URL = \"{0}/accounts/login/\".format(URL_PREFIX)\nSOCIAL_AUTH_EMAIL_FORM_URL = \"{0}/accounts/email/\".format(URL_PREFIX)\nSOCIAL_AUTH_NEW_ASSOCIATION_REDIRECT_URL = \"{0}/accounts/profile/#account\".format(\n    URL_PREFIX\n)\nSOCIAL_AUTH_PROTECTED_USER_FIELDS = (\"email\",)\nSOCIAL_AUTH_SLUGIFY_USERNAMES = True\nSOCIAL_AUTH_SLUGIFY_FUNCTION = \"weblate.accounts.pipeline.slugify_username\"\n\n# Password validation configuration\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        \"NAME\": \"django.contrib.auth.password_validation.UserAttributeSimilarityValidator\"  # noqa: E501, pylint: disable=line-too-long\n    },\n    {\n        \"NAME\": \"django.contrib.auth.password_validation.MinimumLengthValidator\",\n        \"OPTIONS\": {\"min_length\": 10},\n    },\n    {\"NAME\": \"django.contrib.auth.password_validation.CommonPasswordValidator\"},\n    {\"NAME\": \"django.contrib.auth.password_validation.NumericPasswordValidator\"},\n    {\"NAME\": \"weblate.accounts.password_validation.CharsPasswordValidator\"},\n    {\"NAME\": \"weblate.accounts.password_validation.PastPasswordsValidator\"},\n    # Optional password strength validation by django-zxcvbn-password\n    # {\n    #     \"NAME\": \"zxcvbn_password.ZXCVBNValidator\",\n    #     \"OPTIONS\": {\n    #         \"min_score\": 3,\n    #         \"user_attributes\": (\"username\", \"email\", \"full_name\")\n    #     }\n    # },\n]\n\n# Allow new user registrations\nREGISTRATION_OPEN = get_env_bool(\"WEBLATE_REGISTRATION_OPEN\", True)\nREGISTRATION_ALLOW_BACKENDS = get_env_list(\"WEBLATE_REGISTRATION_ALLOW_BACKENDS\")\n\n# Email registration filter\nREGISTRATION_EMAIL_MATCH = os.environ.get(\"WEBLATE_REGISTRATION_EMAIL_MATCH\", \".*\")\n\n# Shortcut for login required setting\nREQUIRE_LOGIN = get_env_bool(\"WEBLATE_REQUIRE_LOGIN\", False)\n\n# Middleware\nMIDDLEWARE = [\n    \"weblate.middleware.RedirectMiddleware\",\n    \"weblate.middleware.ProxyMiddleware\",\n    \"django.middleware.security.SecurityMiddleware\",\n    \"django.contrib.sessions.middleware.SessionMiddleware\",\n    \"django.middleware.common.CommonMiddleware\",\n    \"django.middleware.csrf.CsrfViewMiddleware\",\n    \"weblate.accounts.middleware.AuthenticationMiddleware\",\n    \"django.contrib.messages.middleware.MessageMiddleware\",\n    \"django.middleware.clickjacking.XFrameOptionsMiddleware\",\n    \"social_django.middleware.SocialAuthExceptionMiddleware\",\n    \"weblate.accounts.middleware.RequireLoginMiddleware\",\n    \"weblate.api.middleware.ThrottlingMiddleware\",\n    \"weblate.middleware.SecurityMiddleware\",\n]\n\n# Rollbar integration\nif \"ROLLBAR_KEY\" in os.environ:\n    MIDDLEWARE.append(\"rollbar.contrib.django.middleware.RollbarNotifierMiddleware\")\n\n    ROLLBAR = {\n        \"access_token\": os.environ[\"ROLLBAR_KEY\"],\n        \"environment\": os.environ.get(\"ROLLBAR_ENVIRONMENT\", \"production\"),\n        \"branch\": \"master\",\n        \"root\": \"/usr/local/lib/python3.7/dist-packages/weblate/\",\n        \"exception_level_filters\": [\n            (PermissionDenied, \"ignored\"),\n            (Http404, \"ignored\"),\n        ],\n    }\n\nROOT_URLCONF = \"weblate.urls\"\n\n# Django and Weblate apps\nINSTALLED_APPS = [\n    # Docker customization app, listed first to allow overriding static files\n    \"customize\",\n    # Weblate apps on top to override Django locales and templates\n    \"weblate.addons\",\n    \"weblate.auth\",\n    \"weblate.checks\",\n    \"weblate.formats\",\n    \"weblate.glossary\",\n    \"weblate.machinery\",\n    \"weblate.trans\",\n    \"weblate.lang\",\n    \"weblate.langdata\",\n    \"weblate.memory\",\n    \"weblate.screenshots\",\n    \"weblate.fonts\",\n    \"weblate.accounts\",\n    \"weblate.utils\",\n    \"weblate.vcs\",\n    \"weblate.wladmin\",\n    \"weblate\",\n    # Optional: Git exporter\n    \"weblate.gitexport\",\n    # Standard Django modules\n    \"django.contrib.auth\",\n    \"django.contrib.contenttypes\",\n    \"django.contrib.sessions\",\n    \"django.contrib.sites\",\n    \"django.contrib.messages\",\n    \"django.contrib.staticfiles\",\n    \"django.contrib.admin.apps.SimpleAdminConfig\",\n    \"django.contrib.admindocs\",\n    \"django.contrib.sitemaps\",\n    \"django.contrib.humanize\",\n    # Third party Django modules\n    \"social_django\",\n    \"crispy_forms\",\n    \"compressor\",\n    \"rest_framework\",\n    \"rest_framework.authtoken\",\n    \"django_filters\",\n]\n\nmodify_env_list(INSTALLED_APPS, \"APPS\")\n\n# Custom exception reporter to include some details\nDEFAULT_EXCEPTION_REPORTER_FILTER = \"weblate.trans.debug.WeblateExceptionReporterFilter\"\n\n# Default logging of Weblate messages\n# - to syslog in production (if available)\n# - otherwise to console\n# - you can also choose \"logfile\" to log into separate file\n#   after configuring it below\n\n# Detect if we can connect to syslog\nHAVE_SYSLOG = False\n\nif DEBUG or not HAVE_SYSLOG:\n    DEFAULT_LOG = \"console\"\nelse:\n    DEFAULT_LOG = \"syslog\"\nDEFAULT_LOGLEVEL = os.environ.get(\"WEBLATE_LOGLEVEL\", \"DEBUG\" if DEBUG else \"INFO\")\n\n# A sample logging configuration. The only tangible logging\n# performed by this configuration is to send an email to\n# the site admins on every HTTP 500 error when DEBUG=False.\n# See http://docs.djangoproject.com/en/stable/topics/logging for\n# more details on how to customize your logging configuration.\nLOGGING = {\n    \"version\": 1,\n    \"disable_existing_loggers\": True,\n    \"filters\": {\"require_debug_false\": {\"()\": \"django.utils.log.RequireDebugFalse\"}},\n    \"formatters\": {\n        \"syslog\": {\"format\": \"weblate[%(process)d]: %(levelname)s %(message)s\"},\n        \"simple\": {\"format\": \"%(levelname)s %(message)s\"},\n        \"logfile\": {\"format\": \"%(asctime)s %(levelname)s %(message)s\"},\n        \"django.server\": {\n            \"()\": \"django.utils.log.ServerFormatter\",\n            \"format\": \"[%(server_time)s] %(message)s\",\n        },\n    },\n    \"handlers\": {\n        \"mail_admins\": {\n            \"level\": \"ERROR\",\n            \"filters\": [\"require_debug_false\"],\n            \"class\": \"django.utils.log.AdminEmailHandler\",\n            \"include_html\": True,\n        },\n        \"console\": {\n            \"level\": \"DEBUG\",\n            \"class\": \"logging.StreamHandler\",\n            \"formatter\": \"simple\",\n        },\n        \"django.server\": {\n            \"level\": \"INFO\",\n            \"class\": \"logging.StreamHandler\",\n            \"formatter\": \"django.server\",\n        },\n        \"syslog\": {\n            \"level\": \"DEBUG\",\n            \"class\": \"logging.handlers.SysLogHandler\",\n            \"formatter\": \"syslog\",\n            \"address\": \"/dev/log\",\n            \"facility\": SysLogHandler.LOG_LOCAL2,\n        },\n        # Logging to a file\n        # \"logfile\": {\n        #     \"level\":\"DEBUG\",\n        #     \"class\":\"logging.handlers.RotatingFileHandler\",\n        #     \"filename\": \"/var/log/weblate/weblate.log\",\n        #     \"maxBytes\": 100000,\n        #     \"backupCount\": 3,\n        #     \"formatter\": \"logfile\",\n        # },\n    },\n    \"loggers\": {\n        \"django.request\": {\n            \"handlers\": [\"mail_admins\", DEFAULT_LOG],\n            \"level\": \"ERROR\",\n            \"propagate\": True,\n        },\n        \"django.server\": {\n            \"handlers\": [\"django.server\"],\n            \"level\": \"INFO\",\n            \"propagate\": False,\n        },\n        # Logging database queries\n        # \"django.db.backends\": {\n        #     \"handlers\": [DEFAULT_LOG],\n        #     \"level\": \"DEBUG\",\n        # },\n        \"weblate\": {\"handlers\": [DEFAULT_LOG], \"level\": DEFAULT_LOGLEVEL},\n        # Logging VCS operations\n        \"weblate.vcs\": {\"handlers\": [DEFAULT_LOG], \"level\": \"INFO\"},\n        # Python Social Auth\n        \"social\": {\"handlers\": [DEFAULT_LOG], \"level\": DEFAULT_LOGLEVEL},\n        # Django Authentication Using LDAP\n        \"django_auth_ldap\": {\"handlers\": [DEFAULT_LOG], \"level\": DEFAULT_LOGLEVEL},\n    },\n}\n\n# Remove syslog setup if it's not present\nif not HAVE_SYSLOG:\n    del LOGGING[\"handlers\"][\"syslog\"]\n\n# List of machine translations\nMT_SERVICES = (\n    \"weblate.machinery.weblatetm.WeblateTranslation\",\n    \"weblate.memory.machine.WeblateMemory\",\n)\n\n# Machine translation API keys\n\n# URL of the Apertium APy server\nMT_APERTIUM_APY = None\n\n# AWS\nMT_AWS_REGION = os.environ.get(\"WEBLATE_MT_AWS_REGION\", None)\nMT_AWS_ACCESS_KEY_ID = os.environ.get(\"WEBLATE_MT_AWS_ACCESS_KEY_ID\", None)\nMT_AWS_SECRET_ACCESS_KEY = os.environ.get(\"WEBLATE_MT_AWS_SECRET_ACCESS_KEY\", None)\nif MT_AWS_ACCESS_KEY_ID:\n    MT_SERVICES += (\"weblate.machinery.aws.AWSTranslation\",)\n\n# DeepL API key\nMT_DEEPL_KEY = os.environ.get(\"WEBLATE_MT_DEEPL_KEY\", None)\nMT_DEEPL_API_VERSION = os.environ.get(\"WEBLATE_MT_DEEPL_API_VERSION\", \"v2\")\nif MT_DEEPL_KEY:\n    MT_SERVICES += (\"weblate.machinery.deepl.DeepLTranslation\",)\n\n# Microsoft Cognitive Services Translator API, register at\n# https://portal.azure.com/\nMT_MICROSOFT_COGNITIVE_KEY = os.environ.get(\"WEBLATE_MT_MICROSOFT_COGNITIVE_KEY\", None)\nMT_MICROSOFT_REGION = None\n\nms_endpoint_url = os.environ.get(\"WEBLATE_MT_MICROSOFT_ENDPOINT_URL\", None)\nif ms_endpoint_url is not None:\n    MT_MICROSOFT_ENDPOINT_URL = ms_endpoint_url\n\nms_base_url = os.environ.get(\"WEBLATE_MT_MICROSOFT_BASE_URL\", None)\nif ms_base_url is not None:\n    MT_MICROSOFT_BASE_URL = ms_base_url\n\nif MT_MICROSOFT_COGNITIVE_KEY:\n    MT_SERVICES += (\"weblate.machinery.microsoft.MicrosoftCognitiveTranslation\",)\n\n# ModernMT\nMT_MODERNMT_KEY = os.environ.get(\"WEBLATE_MT_MODERNMT_KEY\", None)\nif MT_MODERNMT_KEY:\n    MT_SERVICES += (\"weblate.machinery.modernmt.ModernMTTranslation\",)\n\n# MyMemory identification email, see\n# http://mymemory.translated.net/doc/spec.php\nMT_MYMEMORY_EMAIL = os.environ[\"WEBLATE_ADMIN_EMAIL\"]\n\n# Optional MyMemory credentials to access private translation memory\nMT_MYMEMORY_USER = None\nMT_MYMEMORY_KEY = None\n\nif \"WEBLATE_MT_MYMEMORY_ENABLED\" in os.environ:\n    MT_SERVICES += (\"weblate.machinery.mymemory.MyMemoryTranslation\",)\n\nif \"WEBLATE_MT_GLOSBE_ENABLED\" in os.environ:\n    MT_SERVICES += (\"weblate.machinery.glosbe.GlosbeTranslation\",)\n\nif \"WEBLATE_MT_MICROSOFT_TERMINOLOGY_ENABLED\" in os.environ:\n    MT_SERVICES += (\n        \"weblate.machinery.microsoftterminology.MicrosoftTerminologyService\",\n    )\n\n# Google API key for Google Translate API\nMT_GOOGLE_KEY = os.environ.get(\"WEBLATE_MT_GOOGLE_KEY\", None)\n\nif MT_GOOGLE_KEY:\n    MT_SERVICES += (\"weblate.machinery.google.GoogleTranslation\",)\n\n# Baidu app key and secret\nMT_BAIDU_ID = None\nMT_BAIDU_SECRET = None\n\n# Youdao Zhiyun app key and secret\nMT_YOUDAO_ID = None\nMT_YOUDAO_SECRET = None\n\n# Netease Sight (Jianwai) app key and secret\nMT_NETEASE_KEY = None\nMT_NETEASE_SECRET = None\n\n# API key for Yandex Translate API\nMT_YANDEX_KEY = None\n\n# tmserver URL\nMT_TMSERVER = None\n\n# SAP Translation Hub\nMT_SAP_BASE_URL = os.environ.get(\"WEBLATE_MT_SAP_BASE_URL\", None)\nMT_SAP_SANDBOX_APIKEY = os.environ.get(\"WEBLATE_MT_SAP_SANDBOX_APIKEY\", None)\nMT_SAP_USERNAME = os.environ.get(\"WEBLATE_MT_SAP_USERNAME\", None)\nMT_SAP_PASSWORD = os.environ.get(\"WEBLATE_MT_SAP_PASSWORD\", None)\nMT_SAP_USE_MT = get_env_bool(\"WEBLATE_MT_SAP_USE_MT\", True)\nif MT_SAP_BASE_URL:\n    MT_SERVICES += (\"weblate.machinery.saptranslationhub.SAPTranslationHub\",)\n\n# Title of site to use\nSITE_TITLE = os.environ.get(\"WEBLATE_SITE_TITLE\", \"Weblate\")\n\n# Whether site uses https\nENABLE_HTTPS = get_env_bool(\"WEBLATE_ENABLE_HTTPS\", False)\n\n# Use HTTPS when creating redirect URLs for social authentication, see\n# documentation for more details:\n# https://python-social-auth-docs.readthedocs.io/en/latest/configuration/settings.html#processing-redirects-and-urlopen\nSOCIAL_AUTH_REDIRECT_IS_HTTPS = ENABLE_HTTPS\n\n# Make CSRF cookie HttpOnly, see documentation for more details:\n# https://docs.djangoproject.com/en/1.11/ref/settings/#csrf-cookie-httponly\nCSRF_COOKIE_HTTPONLY = True\nCSRF_COOKIE_SECURE = ENABLE_HTTPS\n# Store CSRF token in session\nCSRF_USE_SESSIONS = True\n# Customize CSRF failure view\nCSRF_FAILURE_VIEW = \"weblate.trans.views.error.csrf_failure\"\nSESSION_COOKIE_SECURE = ENABLE_HTTPS\nSESSION_COOKIE_HTTPONLY = True\n# SSL redirect\nSECURE_SSL_REDIRECT = ENABLE_HTTPS\n# Sent referrrer only for same origin links\nSECURE_REFERRER_POLICY = \"same-origin\"\n# SSL redirect URL exemption list\nSECURE_REDIRECT_EXEMPT = (r\"healthz/$\",)  # Allowing HTTP access to health check\n# Session cookie age (in seconds)\nSESSION_COOKIE_AGE = 1209600\n# Increase allowed upload size\nDATA_UPLOAD_MAX_MEMORY_SIZE = 50000000\n\n# Apply session coookie settings to language cookie as ewll\nLANGUAGE_COOKIE_SECURE = SESSION_COOKIE_SECURE\nLANGUAGE_COOKIE_HTTPONLY = SESSION_COOKIE_HTTPONLY\nLANGUAGE_COOKIE_AGE = SESSION_COOKIE_AGE * 10\n\n# Some security headers\nSECURE_BROWSER_XSS_FILTER = True\nX_FRAME_OPTIONS = \"DENY\"\nSECURE_CONTENT_TYPE_NOSNIFF = True\n\n# Optionally enable HSTS\nSECURE_HSTS_SECONDS = 31536000 if ENABLE_HTTPS else 0\nSECURE_HSTS_PRELOAD = ENABLE_HTTPS\nSECURE_HSTS_INCLUDE_SUBDOMAINS = ENABLE_HTTPS\n\n# HTTPS detection behind reverse proxy\nWEBLATE_SECURE_PROXY_SSL_HEADER = get_env_list(\"WEBLATE_SECURE_PROXY_SSL_HEADER\")\nif WEBLATE_SECURE_PROXY_SSL_HEADER:\n    SECURE_PROXY_SSL_HEADER = WEBLATE_SECURE_PROXY_SSL_HEADER\n\n# URL of login\nLOGIN_URL = \"{0}/accounts/login/\".format(URL_PREFIX)\n\n# URL of logout\nLOGOUT_URL = \"{0}/accounts/logout/\".format(URL_PREFIX)\n\n# Default location for login\nLOGIN_REDIRECT_URL = \"{0}/\".format(URL_PREFIX)\n\n# Anonymous user name\nANONYMOUS_USER_NAME = \"anonymous\"\n\n# Reverse proxy settings\nIP_PROXY_HEADER = os.environ.get(\"WEBLATE_IP_PROXY_HEADER\", \"\")\nIP_BEHIND_REVERSE_PROXY = bool(IP_PROXY_HEADER)\nIP_PROXY_OFFSET = 0\n\n# Sending HTML in mails\nEMAIL_SEND_HTML = True\n\n# Subject of emails includes site title\nEMAIL_SUBJECT_PREFIX = \"[{0}] \".format(SITE_TITLE)\n\n# Enable remote hooks\nENABLE_HOOKS = True\n\n# By default the length of a given translation is limited to the length of\n# the source string * 10 characters. Set this option to False to allow longer\n# translations (up to 10.000 characters)\nLIMIT_TRANSLATION_LENGTH_BY_SOURCE_LENGTH = True\n\n# Use simple language codes for default language/country combinations\nSIMPLIFY_LANGUAGES = get_env_bool(\"WEBLATE_SIMPLIFY_LANGUAGES\", True)\n\n# Render forms using bootstrap\nCRISPY_TEMPLATE_PACK = \"bootstrap3\"\n\n# List of quality checks\nCHECK_LIST = [\n    \"weblate.checks.same.SameCheck\",\n    \"weblate.checks.chars.BeginNewlineCheck\",\n    \"weblate.checks.chars.EndNewlineCheck\",\n    \"weblate.checks.chars.BeginSpaceCheck\",\n    \"weblate.checks.chars.EndSpaceCheck\",\n    \"weblate.checks.chars.DoubleSpaceCheck\",\n    \"weblate.checks.chars.EndStopCheck\",\n    \"weblate.checks.chars.EndColonCheck\",\n    \"weblate.checks.chars.EndQuestionCheck\",\n    \"weblate.checks.chars.EndExclamationCheck\",\n    \"weblate.checks.chars.EndEllipsisCheck\",\n    \"weblate.checks.chars.EndSemicolonCheck\",\n    \"weblate.checks.chars.MaxLengthCheck\",\n    \"weblate.checks.chars.KashidaCheck\",\n    \"weblate.checks.chars.PuctuationSpacingCheck\",\n    \"weblate.checks.format.PythonFormatCheck\",\n    \"weblate.checks.format.PythonBraceFormatCheck\",\n    \"weblate.checks.format.PHPFormatCheck\",\n    \"weblate.checks.format.CFormatCheck\",\n    \"weblate.checks.format.PerlFormatCheck\",\n    \"weblate.checks.format.JavaScriptFormatCheck\",\n    \"weblate.checks.format.CSharpFormatCheck\",\n    \"weblate.checks.format.JavaFormatCheck\",\n    \"weblate.checks.format.JavaMessageFormatCheck\",\n    \"weblate.checks.format.PercentPlaceholdersCheck\",\n    \"weblate.checks.format.I18NextInterpolationCheck\",\n    \"weblate.checks.format.ESTemplateLiteralsCheck\",\n    \"weblate.checks.angularjs.AngularJSInterpolationCheck\",\n    \"weblate.checks.qt.QtFormatCheck\",\n    \"weblate.checks.qt.QtPluralCheck\",\n    \"weblate.checks.ruby.RubyFormatCheck\",\n    \"weblate.checks.consistency.PluralsCheck\",\n    \"weblate.checks.consistency.SamePluralsCheck\",\n    \"weblate.checks.consistency.ConsistencyCheck\",\n    \"weblate.checks.consistency.TranslatedCheck\",\n    \"weblate.checks.chars.EscapedNewlineCountingCheck\",\n    \"weblate.checks.chars.NewLineCountCheck\",\n    \"weblate.checks.markup.BBCodeCheck\",\n    \"weblate.checks.chars.ZeroWidthSpaceCheck\",\n    \"weblate.checks.render.MaxSizeCheck\",\n    \"weblate.checks.markup.XMLValidityCheck\",\n    \"weblate.checks.markup.XMLTagsCheck\",\n    \"weblate.checks.markup.MarkdownRefLinkCheck\",\n    \"weblate.checks.markup.MarkdownLinkCheck\",\n    \"weblate.checks.markup.MarkdownSyntaxCheck\",\n    \"weblate.checks.markup.URLCheck\",\n    \"weblate.checks.markup.SafeHTMLCheck\",\n    \"weblate.checks.placeholders.PlaceholderCheck\",\n    \"weblate.checks.placeholders.RegexCheck\",\n    \"weblate.checks.duplicate.DuplicateCheck\",\n    \"weblate.checks.source.OptionalPluralCheck\",\n    \"weblate.checks.source.EllipsisCheck\",\n    \"weblate.checks.source.MultipleFailingCheck\",\n    \"weblate.checks.source.LongUntranslatedCheck\",\n    \"weblate.checks.format.MultipleUnnamedFormatsCheck\",\n]\nmodify_env_list(CHECK_LIST, \"CHECK\")\n\n# List of automatic fixups\nAUTOFIX_LIST = [\n    \"weblate.trans.autofixes.whitespace.SameBookendingWhitespace\",\n    \"weblate.trans.autofixes.chars.ReplaceTrailingDotsWithEllipsis\",\n    \"weblate.trans.autofixes.chars.RemoveZeroSpace\",\n    \"weblate.trans.autofixes.chars.RemoveControlChars\",\n]\nmodify_env_list(AUTOFIX_LIST, \"AUTOFIX\")\n\n# List of enabled addons\nWEBLATE_ADDONS = [\n    \"weblate.addons.gettext.GenerateMoAddon\",\n    \"weblate.addons.gettext.UpdateLinguasAddon\",\n    \"weblate.addons.gettext.UpdateConfigureAddon\",\n    \"weblate.addons.gettext.MsgmergeAddon\",\n    \"weblate.addons.gettext.GettextCustomizeAddon\",\n    \"weblate.addons.gettext.GettextAuthorComments\",\n    \"weblate.addons.cleanup.CleanupAddon\",\n    \"weblate.addons.consistency.LangaugeConsistencyAddon\",\n    \"weblate.addons.discovery.DiscoveryAddon\",\n    \"weblate.addons.flags.SourceEditAddon\",\n    \"weblate.addons.flags.TargetEditAddon\",\n    \"weblate.addons.flags.SameEditAddon\",\n    \"weblate.addons.flags.BulkEditAddon\",\n    \"weblate.addons.generate.GenerateFileAddon\",\n    \"weblate.addons.json.JSONCustomizeAddon\",\n    \"weblate.addons.properties.PropertiesSortAddon\",\n    \"weblate.addons.git.GitSquashAddon\",\n    \"weblate.addons.removal.RemoveComments\",\n    \"weblate.addons.removal.RemoveSuggestions\",\n    \"weblate.addons.resx.ResxUpdateAddon\",\n    \"weblate.addons.yaml.YAMLCustomizeAddon\",\n    \"weblate.addons.autotranslate.AutoTranslateAddon\",\n]\nmodify_env_list(WEBLATE_ADDONS, \"ADDONS\")\n\n# E-mail address that error messages come from.\nSERVER_EMAIL = os.environ[\"WEBLATE_SERVER_EMAIL\"]\n\n# Default email address to use for various automated correspondence from\n# the site managers. Used for registration emails.\nDEFAULT_FROM_EMAIL = os.environ[\"WEBLATE_DEFAULT_FROM_EMAIL\"]\n\n# List of URLs your site is supposed to serve\nALLOWED_HOSTS = get_env_list(\"WEBLATE_ALLOWED_HOSTS\", [\"*\"])\n\n# Extract redis password\nREDIS_PASSWORD = os.environ.get(\"REDIS_PASSWORD\", None)\nREDIS_PROTO = \"rediss\" if get_env_bool(\"REDIS_TLS\", False) else \"redis\"\n\n# Configuration for caching\nCACHES = {\n    \"default\": {\n        \"BACKEND\": \"django_redis.cache.RedisCache\",\n        \"LOCATION\": \"{}://{}:{}/{}\".format(\n            REDIS_PROTO,\n            os.environ.get(\"REDIS_HOST\", \"cache\"),\n            os.environ.get(\"REDIS_PORT\", \"6379\"),\n            os.environ.get(\"REDIS_DB\", \"1\"),\n        ),\n        # If redis is running on same host as Weblate, you might\n        # want to use unix sockets instead:\n        # \"LOCATION\": \"unix:///var/run/redis/redis.sock?db=1\",\n        \"OPTIONS\": {\n            \"CLIENT_CLASS\": \"django_redis.client.DefaultClient\",\n            \"PARSER_CLASS\": \"redis.connection.HiredisParser\",\n            \"PASSWORD\": REDIS_PASSWORD if REDIS_PASSWORD else None,\n            \"CONNECTION_POOL_KWARGS\": {},\n        },\n        \"KEY_PREFIX\": \"weblate\",\n    },\n    \"avatar\": {\n        \"BACKEND\": \"django.core.cache.backends.filebased.FileBasedCache\",\n        \"LOCATION\": os.path.join(DATA_DIR, \"avatar-cache\"),\n        \"TIMEOUT\": 86400,\n        \"OPTIONS\": {\"MAX_ENTRIES\": 1000},\n    },\n}\nif not get_env_bool(\"REDIS_VERIFY_SSL\", True) and REDIS_PROTO == \"rediss\":\n    CACHES[\"default\"][\"OPTIONS\"][\"CONNECTION_POOL_KWARGS\"][\"ssl_cert_reqs\"] = None\n\n\n# Store sessions in cache\nSESSION_ENGINE = \"django.contrib.sessions.backends.cache\"\n# Store messages in session\nMESSAGE_STORAGE = \"django.contrib.messages.storage.session.SessionStorage\"\n\n# REST framework settings for API\nREST_FRAMEWORK = {\n    # Use Django's standard `django.contrib.auth` permissions,\n    # or allow read-only access for unauthenticated users.\n    \"DEFAULT_PERMISSION_CLASSES\": [\n        # Require authentication for login required sites\n        \"rest_framework.permissions.IsAuthenticated\"\n        if REQUIRE_LOGIN\n        else \"rest_framework.permissions.IsAuthenticatedOrReadOnly\"\n    ],\n    \"DEFAULT_AUTHENTICATION_CLASSES\": (\n        \"rest_framework.authentication.TokenAuthentication\",\n        \"weblate.api.authentication.BearerAuthentication\",\n        \"rest_framework.authentication.SessionAuthentication\",\n    ),\n    \"DEFAULT_THROTTLE_CLASSES\": (\n        \"weblate.api.throttling.UserRateThrottle\",\n        \"weblate.api.throttling.AnonRateThrottle\",\n    ),\n    \"DEFAULT_THROTTLE_RATES\": {\"anon\": \"100/day\", \"user\": \"5000/hour\"},\n    \"DEFAULT_PAGINATION_CLASS\": (\"rest_framework.pagination.PageNumberPagination\"),\n    \"PAGE_SIZE\": 20,\n    \"VIEW_DESCRIPTION_FUNCTION\": \"weblate.api.views.get_view_description\",\n    \"UNAUTHENTICATED_USER\": \"weblate.auth.models.get_anonymous\",\n}\n\n# Fonts CDN URL\nFONTS_CDN_URL = None\n\n# Django compressor offline mode\nCOMPRESS_OFFLINE = True\nCOMPRESS_OFFLINE_CONTEXT = [\n    {\"fonts_cdn_url\": FONTS_CDN_URL, \"STATIC_URL\": STATIC_URL, \"LANGUAGE_BIDI\": True},\n    {\"fonts_cdn_url\": FONTS_CDN_URL, \"STATIC_URL\": STATIC_URL, \"LANGUAGE_BIDI\": False},\n]\n\n# Require login for all URLs\nif REQUIRE_LOGIN:\n    LOGIN_REQUIRED_URLS = (r\"/(.*)$\",)\n\n# In such case you will want to include some of the exceptions\nLOGIN_REQUIRED_URLS_EXCEPTIONS = get_env_list(\n    \"WEBLATE_LOGIN_REQUIRED_URLS_EXCEPTIONS\",\n    (\n        rf\"{URL_PREFIX}/accounts/(.*)$\",  # Required for login\n        rf\"{URL_PREFIX}/admin/login/(.*)$\",  # Required for admin login\n        rf\"{URL_PREFIX}/static/(.*)$\",  # Required for development mode\n        rf\"{URL_PREFIX}/widgets/(.*)$\",  # Allowing public access to widgets\n        rf\"{URL_PREFIX}/data/(.*)$\",  # Allowing public access to data exports\n        rf\"{URL_PREFIX}/hooks/(.*)$\",  # Allowing public access to notifications\n        rf\"{URL_PREFIX}/healthz/$\",  # Allowing public access to health check\n        rf\"{URL_PREFIX}/api/(.*)$\",  # Allowing access to API\n        rf\"{URL_PREFIX}/js/i18n/$\",  # Javascript localization\n        rf\"{URL_PREFIX}/contact/$\",  # Optional for contact form\n        rf\"{URL_PREFIX}/legal/(.*)$\",  # Optional for legal app\n    ),\n)\nmodify_env_list(LOGIN_REQUIRED_URLS_EXCEPTIONS, \"LOGIN_REQUIRED_URLS_EXCEPTIONS\")\n\n# Email server\nEMAIL_USE_TLS = get_env_bool(\"WEBLATE_EMAIL_USE_TLS\", True)\nEMAIL_USE_SSL = get_env_bool(\"WEBLATE_EMAIL_USE_SSL\", False)\nEMAIL_HOST = os.environ.get(\"WEBLATE_EMAIL_HOST\", \"localhost\")\nEMAIL_HOST_USER = os.environ.get(\n    \"WEBLATE_EMAIL_HOST_USER\", os.environ.get(\"WEBLATE_EMAIL_USER\", \"\")\n)\nEMAIL_HOST_PASSWORD = os.environ.get(\n    \"WEBLATE_EMAIL_HOST_PASSWORD\", os.environ.get(\"WEBLATE_EMAIL_PASSWORD\", \"\")\n)\nEMAIL_PORT = int(os.environ.get(\"WEBLATE_EMAIL_PORT\", \"25\"))\nEMAIL_BACKEND = os.environ.get(\n    \"WEBLATE_EMAIL_BACKEND\", \"django.core.mail.backends.smtp.EmailBackend\"\n)\n\n# Silence some of the Django system checks\nSILENCED_SYSTEM_CHECKS = [\n    # We have modified django.contrib.auth.middleware.AuthenticationMiddleware\n    # as weblate.accounts.middleware.AuthenticationMiddleware\n    \"admin.E408\"\n]\nSILENCED_SYSTEM_CHECKS.extend(get_env_list(\"WEBLATE_SILENCED_SYSTEM_CHECKS\"))\n\n# Celery worker configuration for production\nCELERY_TASK_ALWAYS_EAGER = get_env_bool(\"WEBLATE_CELERY_EAGER\", False)\nCELERY_BROKER_URL = \"{}://{}{}:{}/{}\".format(\n    REDIS_PROTO,\n    \":{}@\".format(REDIS_PASSWORD) if REDIS_PASSWORD else \"\",\n    os.environ.get(\"REDIS_HOST\", \"cache\"),\n    os.environ.get(\"REDIS_PORT\", \"6379\"),\n    os.environ.get(\"REDIS_DB\", \"1\"),\n)\nif REDIS_PROTO == \"rediss\":\n    CELERY_BROKER_URL = \"{}?ssl_cert_reqs={}\".format(\n        CELERY_BROKER_URL,\n        \"CERT_REQUIRED\" if get_env_bool(\"REDIS_VERIFY_SSL\", True) else \"CERT_NONE\",\n    )\nCELERY_RESULT_BACKEND = CELERY_BROKER_URL\n\n# Celery settings, it is not recommended to change these\nCELERY_WORKER_MAX_MEMORY_PER_CHILD = 200000\nCELERY_BEAT_SCHEDULE_FILENAME = os.path.join(DATA_DIR, \"celery\", \"beat-schedule\")\nCELERY_TASK_ROUTES = {\n    \"weblate.trans.tasks.auto_translate\": {\"queue\": \"translate\"},\n    \"weblate.accounts.tasks.notify_*\": {\"queue\": \"notify\"},\n    \"weblate.accounts.tasks.send_mails\": {\"queue\": \"notify\"},\n    \"weblate.utils.tasks.settings_backup\": {\"queue\": \"backup\"},\n    \"weblate.utils.tasks.database_backup\": {\"queue\": \"backup\"},\n    \"weblate.wladmin.tasks.backup\": {\"queue\": \"backup\"},\n    \"weblate.wladmin.tasks.backup_service\": {\"queue\": \"backup\"},\n}\n\n# Database backup type\nDATABASE_BACKUP = os.environ.get(\"WEBLATE_DATABASE_BACKUP\", \"plain\")\n\n# Enable auto updating\nAUTO_UPDATE = get_env_bool(\"WEBLATE_AUTO_UPDATE\", False)\n\n# Default access control\nDEFAULT_ACCESS_CONTROL = get_env_int(\"WEBLATE_DEFAULT_ACCESS_CONTROL\", 0)\n\n# Default access control\nDEFAULT_RESTRICTED_COMPONENT = get_env_bool(\n    \"WEBLATE_DEFAULT_RESTRICTED_COMPONENT\", False\n)\n\n# Default translation propagation\nDEFAULT_TRANSLATION_PROPAGATION = get_env_bool(\n    \"WEBLATE_DEFAULT_TRANSLATION_PROPAGATION\", True\n)\n\n# PGP commits signing\nWEBLATE_GPG_IDENTITY = os.environ.get(\"WEBLATE_GPG_IDENTITY\", None)\n\n# Third party services integration\nMATOMO_SITE_ID = os.environ.get(\"WEBLATE_MATOMO_SITE_ID\", None)\nMATOMO_URL = os.environ.get(\"WEBLATE_MATOMO_URL\", None)\nGOOGLE_ANALYTICS_ID = os.environ.get(\"WEBLATE_GOOGLE_ANALYTICS_ID\", None)\nSENTRY_DSN = os.environ.get(\"SENTRY_DSN\", None)\nSENTRY_ENVIRONMENT = os.environ.get(\"SENTRY_ENVIRONMENT\", None)\nAKISMET_API_KEY = os.environ.get(\"WEBLATE_AKISMET_API_KEY\", None)\n\nADDITIONAL_CONFIG = \"/app/data/settings-override.py\"\nif os.path.exists(ADDITIONAL_CONFIG):\n    with open(ADDITIONAL_CONFIG) as handle:\n        code = compile(handle.read(), ADDITIONAL_CONFIG, \"exec\")\n        exec(code)\n\n## Impact\n\nI didn't try anything with the secret key, and dont know what access it has, i though it would be a good idea to share this finding with you in case it can be used in a way that i dont know.\n\n\nBest Regards","vulnerability_information_html":"\u003cp\u003eTeam,\u003c/p\u003e\n\n\u003cp\u003eWhile going through Github search I discovered a public repository which contains Weblate Secret Key\u003c/p\u003e\n\n\u003ch1 id=\"issue\"\u003eIssue \u0026amp; Poc:\u003c/h1\u003e\n\n\u003ch1 id=\"repo-https-github-com-weblateorg\"\u003eRepo: \u003ca title=\"https://github.com/WeblateOrg\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FWeblateOrg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/WeblateOrg\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1 id=\"file-https-github-com-weblateorg-weblate-blob-592472958f7b847701c51b36f4768b9784219fa1-weblate-settings_docker-py\"\u003eFile:\u003ca title=\"https://github.com/WeblateOrg/weblate/blob/592472958f7b847701c51b36f4768b9784219fa1/weblate/settings_docker.py\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FWeblateOrg%2Fweblate%2Fblob%2F592472958f7b847701c51b36f4768b9784219fa1%2Fweblate%2Fsettings_docker.py\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/WeblateOrg/weblate/blob/592472958f7b847701c51b36f4768b9784219fa1/weblate/settings_docker.py\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1 id=\"secret_key-os-environ-get\"\u003eSECRET_KEY = os.environ.get(\u003c/h1\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e    \u0026quot;WEBLATE_SECRET_KEY\u0026quot;, \u0026quot;jm8fqjlg+5!#xu%e-oh#7!$aa7!6avf7ud*_v=chdrb9qdco6(\u0026quot;\n)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1 id=\"full-source-code\"\u003eFull Source Code:\u003c/h1\u003e\n\n\u003ch1 id=\"copyright-2012-2020-michal-iha-michal-cihar-com\"\u003eCopyright © 2012 - 2020 Michal Čihař \u003ca title=\"michal@cihar.com\" href=\"mailto:michal@cihar.com\" rel=\"nofollow noopener noreferrer\"\u003emichal@cihar.com\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1 id=\"this-file-is-part-of-weblate-https-weblate-org\"\u003eThis file is part of Weblate \u003ca title=\"https://weblate.org/\" href=\"/redirect?url=https%3A%2F%2Fweblate.org%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://weblate.org/\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1 id=\"this-program-is-free-software-you-can-redistribute-it-and-or-modify\"\u003eThis program is free software: you can redistribute it and/or modify\u003c/h1\u003e\n\n\u003ch1 id=\"it-under-the-terms-of-the-gnu-general-public-license-as-published-by\"\u003eit under the terms of the GNU General Public License as published by\u003c/h1\u003e\n\n\u003ch1 id=\"the-free-software-foundation-either-version-3-of-the-license-or\"\u003ethe Free Software Foundation, either version 3 of the License, or\u003c/h1\u003e\n\n\u003ch1 id=\"at-your-option-any-later-version\"\u003e(at your option) any later version.\u003c/h1\u003e\n\n\u003ch1 id=\"this-program-is-distributed-in-the-hope-that-it-will-be-useful\"\u003eThis program is distributed in the hope that it will be useful,\u003c/h1\u003e\n\n\u003ch1 id=\"but-without-any-warranty-without-even-the-implied-warranty-of\"\u003ebut WITHOUT ANY WARRANTY; without even the implied warranty of\u003c/h1\u003e\n\n\u003ch1 id=\"merchantability-or-fitness-for-a-particular-purpose-see-the\"\u003eMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\u003c/h1\u003e\n\n\u003ch1 id=\"gnu-general-public-license-for-more-details\"\u003eGNU General Public License for more details.\u003c/h1\u003e\n\n\u003ch1 id=\"you-should-have-received-a-copy-of-the-gnu-general-public-license\"\u003eYou should have received a copy of the GNU General Public License\u003c/h1\u003e\n\n\u003ch1 id=\"along-with-this-program-if-not-see-https-www-gnu-org-licenses\"\u003ealong with this program.  If not, see \u003ca title=\"https://www.gnu.org/licenses/\" href=\"/redirect?url=https%3A%2F%2Fwww.gnu.org%2Flicenses%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://www.gnu.org/licenses/\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e.\u003c/h1\u003e\n\n\u003cp\u003eimport os\u003cbr\u003e\nfrom logging.handlers import SysLogHandler\u003c/p\u003e\n\n\u003cp\u003efrom django.core.exceptions import PermissionDenied\u003cbr\u003e\nfrom django.http import Http404\u003c/p\u003e\n\n\u003cp\u003efrom weblate.utils.environment import (\u003cbr\u003e\n    get_env_bool,\u003cbr\u003e\n    get_env_int,\u003cbr\u003e\n    get_env_list,\u003cbr\u003e\n    get_env_map,\u003cbr\u003e\n    modify_env_list,\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"django-settings-for-weblate-project\"\u003eDjango settings for Weblate project.\u003c/h1\u003e\n\n\u003cp\u003eDEBUG = get_env_bool(\u0026quot;WEBLATE_DEBUG\u0026quot;, True)\u003c/p\u003e\n\n\u003cp\u003eADMINS = ((os.environ[\u0026quot;WEBLATE_ADMIN_NAME\u0026quot;], os.environ[\u0026quot;WEBLATE_ADMIN_EMAIL\u0026quot;]),)\u003c/p\u003e\n\n\u003cp\u003eMANAGERS = ADMINS\u003c/p\u003e\n\n\u003cp\u003eDATABASES = {\u003cbr\u003e\n    \u0026quot;default\u0026quot;: {\u003cbr\u003e\n        # Use \u0026#39;postgresql\u0026#39; or \u0026#39;mysql\u0026#39;.\u003cbr\u003e\n        \u0026quot;ENGINE\u0026quot;: \u0026quot;django.db.backends.postgresql\u0026quot;,\u003cbr\u003e\n        # Database name.\u003cbr\u003e\n        \u0026quot;NAME\u0026quot;: os.environ[\u0026quot;POSTGRES_DATABASE\u0026quot;],\u003cbr\u003e\n        # Database user.\u003cbr\u003e\n        \u0026quot;USER\u0026quot;: os.environ[\u0026quot;POSTGRES_USER\u0026quot;],\u003cbr\u003e\n        # Database password.\u003cbr\u003e\n        \u0026quot;PASSWORD\u0026quot;: os.environ[\u0026quot;POSTGRES_PASSWORD\u0026quot;],\u003cbr\u003e\n        # Set to empty string for localhost.\u003cbr\u003e\n        \u0026quot;HOST\u0026quot;: os.environ[\u0026quot;POSTGRES_HOST\u0026quot;],\u003cbr\u003e\n        # Set to empty string for default.\u003cbr\u003e\n        \u0026quot;PORT\u0026quot;: os.environ[\u0026quot;POSTGRES_PORT\u0026quot;],\u003cbr\u003e\n        # Customizations for databases.\u003cbr\u003e\n        \u0026quot;OPTIONS\u0026quot;: {\u0026quot;sslmode\u0026quot;: os.environ.get(\u0026quot;POSTGRES_SSL_MODE\u0026quot;, \u0026quot;prefer\u0026quot;)},\u003cbr\u003e\n    }\u003cbr\u003e\n}\u003c/p\u003e\n\n\u003cp\u003eBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(\u003cstrong\u003efile\u003c/strong\u003e)))\u003c/p\u003e\n\n\u003ch1 id=\"data-directory\"\u003eData directory\u003c/h1\u003e\n\n\u003cp\u003eDATA_DIR = os.environ.get(\u0026quot;WEBLATE_DATA_DIR\u0026quot;, \u0026quot;/app/data\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"local-time-zone-for-this-installation-choices-can-be-found-here\"\u003eLocal time zone for this installation. Choices can be found here:\u003c/h1\u003e\n\n\u003ch1 id=\"http-en-wikipedia-org-wiki-list_of_tz_zones_by_name\"\u003e\u003ca title=\"http://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" href=\"/redirect?url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FList_of_tz_zones_by_name\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://en.wikipedia.org/wiki/List_of_tz_zones_by_name\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/h1\u003e\n\n\u003ch1 id=\"although-not-all-choices-may-be-available-on-all-operating-systems\"\u003ealthough not all choices may be available on all operating systems.\u003c/h1\u003e\n\n\u003ch1 id=\"in-a-windows-environment-this-must-be-set-to-your-system-time-zone\"\u003eIn a Windows environment this must be set to your system time zone.\u003c/h1\u003e\n\n\u003cp\u003eTIME_ZONE = os.environ.get(\u0026quot;WEBLATE_TIME_ZONE\u0026quot;, \u0026quot;UTC\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"language-code-for-this-installation-all-choices-can-be-found-here\"\u003eLanguage code for this installation. All choices can be found here:\u003c/h1\u003e\n\n\u003ch1 id=\"http-www-i18nguy-com-unicode-language-identifiers-html\"\u003e\u003ca title=\"http://www.i18nguy.com/unicode/language-identifiers.html\" href=\"/redirect?url=http%3A%2F%2Fwww.i18nguy.com%2Funicode%2Flanguage-identifiers.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://www.i18nguy.com/unicode/language-identifiers.html\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/h1\u003e\n\n\u003cp\u003eLANGUAGE_CODE = \u0026quot;en-us\u0026quot;\u003c/p\u003e\n\n\u003cp\u003eLANGUAGES = (\u003cbr\u003e\n    (\u0026quot;ar\u0026quot;, \u0026quot;العربية\u0026quot;),\u003cbr\u003e\n    (\u0026quot;az\u0026quot;, \u0026quot;Azərbaycan\u0026quot;),\u003cbr\u003e\n    (\u0026quot;be\u0026quot;, \u0026quot;Беларуская\u0026quot;),\u003cbr\u003e\n    (\u0026quot;be@latin\u0026quot;, \u0026quot;Biełaruskaja\u0026quot;),\u003cbr\u003e\n    (\u0026quot;bg\u0026quot;, \u0026quot;Български\u0026quot;),\u003cbr\u003e\n    (\u0026quot;br\u0026quot;, \u0026quot;Brezhoneg\u0026quot;),\u003cbr\u003e\n    (\u0026quot;ca\u0026quot;, \u0026quot;Català\u0026quot;),\u003cbr\u003e\n    (\u0026quot;cs\u0026quot;, \u0026quot;Čeština\u0026quot;),\u003cbr\u003e\n    (\u0026quot;da\u0026quot;, \u0026quot;Dansk\u0026quot;),\u003cbr\u003e\n    (\u0026quot;de\u0026quot;, \u0026quot;Deutsch\u0026quot;),\u003cbr\u003e\n    (\u0026quot;en\u0026quot;, \u0026quot;English\u0026quot;),\u003cbr\u003e\n    (\u0026quot;el\u0026quot;, \u0026quot;Ελληνικά\u0026quot;),\u003cbr\u003e\n    (\u0026quot;en-gb\u0026quot;, \u0026quot;English (United Kingdom)\u0026quot;),\u003cbr\u003e\n    (\u0026quot;es\u0026quot;, \u0026quot;Español\u0026quot;),\u003cbr\u003e\n    (\u0026quot;fi\u0026quot;, \u0026quot;Suomi\u0026quot;),\u003cbr\u003e\n    (\u0026quot;fr\u0026quot;, \u0026quot;Français\u0026quot;),\u003cbr\u003e\n    (\u0026quot;gl\u0026quot;, \u0026quot;Galego\u0026quot;),\u003cbr\u003e\n    (\u0026quot;he\u0026quot;, \u0026quot;עברית\u0026quot;),\u003cbr\u003e\n    (\u0026quot;hu\u0026quot;, \u0026quot;Magyar\u0026quot;),\u003cbr\u003e\n    (\u0026quot;hr\u0026quot;, \u0026quot;Hrvatski\u0026quot;),\u003cbr\u003e\n    (\u0026quot;id\u0026quot;, \u0026quot;Indonesia\u0026quot;),\u003cbr\u003e\n    (\u0026quot;it\u0026quot;, \u0026quot;Italiano\u0026quot;),\u003cbr\u003e\n    (\u0026quot;ja\u0026quot;, \u0026quot;日本語\u0026quot;),\u003cbr\u003e\n    (\u0026quot;kab\u0026quot;, \u0026quot;Taqbaylit\u0026quot;),\u003cbr\u003e\n    (\u0026quot;kk\u0026quot;, \u0026quot;Қазақ тілі\u0026quot;),\u003cbr\u003e\n    (\u0026quot;ko\u0026quot;, \u0026quot;한국어\u0026quot;),\u003cbr\u003e\n    (\u0026quot;nb\u0026quot;, \u0026quot;Norsk bokmål\u0026quot;),\u003cbr\u003e\n    (\u0026quot;nl\u0026quot;, \u0026quot;Nederlands\u0026quot;),\u003cbr\u003e\n    (\u0026quot;pl\u0026quot;, \u0026quot;Polski\u0026quot;),\u003cbr\u003e\n    (\u0026quot;pt\u0026quot;, \u0026quot;Português\u0026quot;),\u003cbr\u003e\n    (\u0026quot;pt-br\u0026quot;, \u0026quot;Português brasileiro\u0026quot;),\u003cbr\u003e\n    (\u0026quot;ru\u0026quot;, \u0026quot;Русский\u0026quot;),\u003cbr\u003e\n    (\u0026quot;sk\u0026quot;, \u0026quot;Slovenčina\u0026quot;),\u003cbr\u003e\n    (\u0026quot;sl\u0026quot;, \u0026quot;Slovenščina\u0026quot;),\u003cbr\u003e\n    (\u0026quot;sq\u0026quot;, \u0026quot;Shqip\u0026quot;),\u003cbr\u003e\n    (\u0026quot;sr\u0026quot;, \u0026quot;Српски\u0026quot;),\u003cbr\u003e\n    (\u0026quot;sv\u0026quot;, \u0026quot;Svenska\u0026quot;),\u003cbr\u003e\n    (\u0026quot;tr\u0026quot;, \u0026quot;Türkçe\u0026quot;),\u003cbr\u003e\n    (\u0026quot;uk\u0026quot;, \u0026quot;Українська\u0026quot;),\u003cbr\u003e\n    (\u0026quot;zh-hans\u0026quot;, \u0026quot;简体字\u0026quot;),\u003cbr\u003e\n    (\u0026quot;zh-hant\u0026quot;, \u0026quot;正體字\u0026quot;),\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003cp\u003eSITE_ID = 1\u003c/p\u003e\n\n\u003ch1 id=\"if-you-set-this-to-false-django-will-make-some-optimizations-so-as-not\"\u003eIf you set this to False, Django will make some optimizations so as not\u003c/h1\u003e\n\n\u003ch1 id=\"to-load-the-internationalization-machinery\"\u003eto load the internationalization machinery.\u003c/h1\u003e\n\n\u003cp\u003eUSE_I18N = True\u003c/p\u003e\n\n\u003ch1 id=\"if-you-set-this-to-false-django-will-not-format-dates-numbers-and\"\u003eIf you set this to False, Django will not format dates, numbers and\u003c/h1\u003e\n\n\u003ch1 id=\"calendars-according-to-the-current-locale\"\u003ecalendars according to the current locale.\u003c/h1\u003e\n\n\u003cp\u003eUSE_L10N = True\u003c/p\u003e\n\n\u003ch1 id=\"if-you-set-this-to-false-django-will-not-use-timezone-aware-datetimes\"\u003eIf you set this to False, Django will not use timezone-aware datetimes.\u003c/h1\u003e\n\n\u003cp\u003eUSE_TZ = True\u003c/p\u003e\n\n\u003ch1 id=\"url-prefix-to-use-please-see-documentation-for-more-details\"\u003eURL prefix to use, please see documentation for more details\u003c/h1\u003e\n\n\u003cp\u003eURL_PREFIX = os.environ.get(\u0026quot;WEBLATE_URL_PREFIX\u0026quot;, \u0026quot;\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"absolute-filesystem-path-to-the-directory-that-will-hold-user-uploaded-files\"\u003eAbsolute filesystem path to the directory that will hold user-uploaded files.\u003c/h1\u003e\n\n\u003cp\u003eMEDIA_ROOT = os.path.join(DATA_DIR, \u0026quot;media\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"url-that-handles-the-media-served-from-media_root-make-sure-to-use-a\"\u003eURL that handles the media served from MEDIA_ROOT. Make sure to use a\u003c/h1\u003e\n\n\u003ch1 id=\"trailing-slash\"\u003etrailing slash.\u003c/h1\u003e\n\n\u003cp\u003eMEDIA_URL = f\u0026quot;{URL_PREFIX}/media/\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"absolute-path-to-the-directory-static-files-should-be-collected-to\"\u003eAbsolute path to the directory static files should be collected to.\u003c/h1\u003e\n\n\u003ch1 id=\"don-t-put-anything-in-this-directory-yourself-store-your-static-files\"\u003eDon\u0026#39;t put anything in this directory yourself; store your static files\u003c/h1\u003e\n\n\u003ch1 id=\"in-apps-static-subdirectories-and-in-staticfiles_dirs\"\u003ein apps\u0026#39; \u0026quot;static/\u0026quot; subdirectories and in STATICFILES_DIRS.\u003c/h1\u003e\n\n\u003cp\u003eSTATIC_ROOT = os.path.join(DATA_DIR, \u0026quot;static\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"url-prefix-for-static-files\"\u003eURL prefix for static files.\u003c/h1\u003e\n\n\u003cp\u003eSTATIC_URL = f\u0026quot;{URL_PREFIX}/static/\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"additional-locations-of-static-files\"\u003eAdditional locations of static files\u003c/h1\u003e\n\n\u003cp\u003eSTATICFILES_DIRS = (\u003cbr\u003e\n    # Put strings here, like \u0026quot;/home/html/static\u0026quot; or \u0026quot;C:/www/django/static\u0026quot;.\u003cbr\u003e\n    # Always use forward slashes, even on Windows.\u003cbr\u003e\n    # Don\u0026#39;t forget to use absolute paths, not relative paths.\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"list-of-finder-classes-that-know-how-to-find-static-files-in\"\u003eList of finder classes that know how to find static files in\u003c/h1\u003e\n\n\u003ch1 id=\"various-locations\"\u003evarious locations.\u003c/h1\u003e\n\n\u003cp\u003eSTATICFILES_FINDERS = (\u003cbr\u003e\n    \u0026quot;django.contrib.staticfiles.finders.FileSystemFinder\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.staticfiles.finders.AppDirectoriesFinder\u0026quot;,\u003cbr\u003e\n    \u0026quot;compressor.finders.CompressorFinder\u0026quot;,\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"make-this-unique-and-don-t-share-it-with-anybody\"\u003eMake this unique, and don\u0026#39;t share it with anybody.\u003c/h1\u003e\n\n\u003ch1 id=\"you-can-generate-it-using-weblate-examples-generate-secret-key\"\u003eYou can generate it using weblate/examples/generate-secret-key\u003c/h1\u003e\n\n\u003cp\u003etry:\u003cbr\u003e\n    with open(\u0026quot;/app/data/secret\u0026quot;, \u0026quot;r\u0026quot;) as handle:\u003cbr\u003e\n        SECRET_KEY = handle.read()\u003cbr\u003e\nexcept IOError:\u003cbr\u003e\n    SECRET_KEY = os.environ.get(\u003cbr\u003e\n        \u0026quot;WEBLATE_SECRET_KEY\u0026quot;, \u0026quot;jm8fqjlg+5!#xu%e-oh#7!$aa7!6avf7ud*_v=chdrb9qdco6(\u0026quot;\u003cbr\u003e\n    )\u003c/p\u003e\n\n\u003cp\u003e_TEMPLATE_LOADERS = [\u003cbr\u003e\n    \u0026quot;django.template.loaders.filesystem.Loader\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.template.loaders.app_directories.Loader\u0026quot;,\u003cbr\u003e\n]\u003cbr\u003e\nif not DEBUG:\u003cbr\u003e\n    _TEMPLATE_LOADERS = [(\u0026quot;django.template.loaders.cached.Loader\u0026quot;, _TEMPLATE_LOADERS)]\u003cbr\u003e\nTEMPLATES = [\u003cbr\u003e\n    {\u003cbr\u003e\n        \u0026quot;BACKEND\u0026quot;: \u0026quot;django.template.backends.django.DjangoTemplates\u0026quot;,\u003cbr\u003e\n        \u0026quot;OPTIONS\u0026quot;: {\u003cbr\u003e\n            \u0026quot;context_processors\u0026quot;: [\u003cbr\u003e\n                \u0026quot;django.contrib.auth.context_processors.auth\u0026quot;,\u003cbr\u003e\n                \u0026quot;django.template.context_processors.debug\u0026quot;,\u003cbr\u003e\n                \u0026quot;django.template.context_processors.i18n\u0026quot;,\u003cbr\u003e\n                \u0026quot;django.template.context_processors.request\u0026quot;,\u003cbr\u003e\n                \u0026quot;django.template.context_processors.csrf\u0026quot;,\u003cbr\u003e\n                \u0026quot;django.contrib.messages.context_processors.messages\u0026quot;,\u003cbr\u003e\n                \u0026quot;weblate.trans.context_processors.weblate_context\u0026quot;,\u003cbr\u003e\n            ],\u003cbr\u003e\n            \u0026quot;loaders\u0026quot;: _TEMPLATE_LOADERS,\u003cbr\u003e\n        },\u003cbr\u003e\n    }\u003cbr\u003e\n]\u003c/p\u003e\n\n\u003ch1 id=\"github-username-for-sending-pull-requests\"\u003eGitHub username for sending pull requests.\u003c/h1\u003e\n\n\u003ch1 id=\"please-see-the-documentation-for-more-details\"\u003ePlease see the documentation for more details.\u003c/h1\u003e\n\n\u003cp\u003eGITHUB_USERNAME = os.environ.get(\u0026quot;WEBLATE_GITHUB_USERNAME\u0026quot;, None)\u003c/p\u003e\n\n\u003ch1 id=\"gitlab-username-for-sending-merge-requests\"\u003eGitLab username for sending merge requests.\u003c/h1\u003e\n\n\u003ch1 id=\"please-see-the-documentation-for-more-details\"\u003ePlease see the documentation for more details.\u003c/h1\u003e\n\n\u003cp\u003eGITLAB_USERNAME = os.environ.get(\u0026quot;WEBLATE_GITLAB_USERNAME\u0026quot;, None)\u003c/p\u003e\n\n\u003ch1 id=\"authentication-configuration\"\u003eAuthentication configuration\u003c/h1\u003e\n\n\u003cp\u003eAUTHENTICATION_BACKENDS = ()\u003c/p\u003e\n\n\u003ch1 id=\"custom-user-model\"\u003eCustom user model\u003c/h1\u003e\n\n\u003cp\u003eAUTH_USER_MODEL = \u0026quot;weblate_auth.User\u0026quot;\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_NO_EMAIL_AUTH\u0026quot; not in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.email.EmailAuth\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_GITHUB_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.github.GithubOAuth2\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"social-auth-backends-setup\"\u003eSocial auth backends setup\u003c/h1\u003e\n\n\u003cp\u003eSOCIAL_AUTH_GITHUB_KEY = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_GITHUB_KEY\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nSOCIAL_AUTH_GITHUB_SECRET = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_GITHUB_SECRET\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nSOCIAL_AUTH_GITHUB_SCOPE = [\u0026quot;user:email\u0026quot;]\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_BITBUCKET_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.bitbucket.BitbucketOAuth\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eSOCIAL_AUTH_BITBUCKET_KEY = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_BITBUCKET_KEY\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nSOCIAL_AUTH_BITBUCKET_SECRET = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_BITBUCKET_SECRET\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_BITBUCKET_VERIFIED_EMAILS_ONLY = True\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_FACEBOOK_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.facebook.FacebookOAuth2\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eSOCIAL_AUTH_FACEBOOK_KEY = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_FACEBOOK_KEY\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nSOCIAL_AUTH_FACEBOOK_SECRET = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_FACEBOOK_SECRET\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nSOCIAL_AUTH_FACEBOOK_SCOPE = [\u0026quot;email\u0026quot;, \u0026quot;public_profile\u0026quot;]\u003cbr\u003e\nSOCIAL_AUTH_FACEBOOK_PROFILE_EXTRA_PARAMS = {\u0026quot;fields\u0026quot;: \u0026quot;id,name,email\u0026quot;}\u003cbr\u003e\nSOCIAL_AUTH_FACEBOOK_API_VERSION = \u0026quot;3.1\u0026quot;\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.google.GoogleOAuth2\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eSOCIAL_AUTH_GOOGLE_OAUTH2_KEY = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_KEY\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_GOOGLE_OAUTH2_SECRET = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS = get_env_list(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_EMAILS = get_env_list(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_EMAILS\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_GITLAB_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.gitlab.GitLabOAuth2\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_GITLAB_API_URL\u0026quot; in os.environ:\u003cbr\u003e\n    SOCIAL_AUTH_GITLAB_API_URL = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_GITLAB_API_URL\u0026quot;)\u003c/p\u003e\n\n\u003cp\u003eSOCIAL_AUTH_GITLAB_KEY = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_GITLAB_KEY\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nSOCIAL_AUTH_GITLAB_SECRET = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_GITLAB_SECRET\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nSOCIAL_AUTH_GITLAB_SCOPE = [\u0026quot;read_user\u0026quot;]\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    SOCIAL_AUTH_AUTH0_KEY = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_KEY\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n    SOCIAL_AUTH_AUTH0_SECRET = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_SECRET\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n    SOCIAL_AUTH_AUTH0_DOMAIN = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_DOMAIN\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n    SOCIAL_AUTH_AUTH0_TITLE = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_TITLE\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n    SOCIAL_AUTH_AUTH0_IMAGE = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_IMAGE\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.auth0.Auth0OAuth2\u0026quot;,)\u003cbr\u003e\n    SOCIAL_AUTH_AUTH0_SCOPE = [\u0026quot;openid\u0026quot;, \u0026quot;profile\u0026quot;, \u0026quot;email\u0026quot;]\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_AUTH_EXTRA_ARGUMENTS\u0026quot; in os.environ:\u003cbr\u003e\n    SOCIAL_AUTH_AUTH0_AUTH_EXTRA_ARGUMENTS = get_env_map(\u003cbr\u003e\n        \u0026quot;WEBLATE_SOCIAL_AUTH_AUTH0_AUTH_EXTRA_ARGUMENTS\u0026quot;\u003cbr\u003e\n    )\u003c/p\u003e\n\n\u003ch1 id=\"saml\"\u003eSAML\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SAML_IDP_URL\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.saml.SAMLAuth\u0026quot;,)\u003cbr\u003e\n    # The keys are generated on container startup if missing\u003cbr\u003e\n    with open(\u0026quot;/app/data/ssl/saml.crt\u0026quot;, \u0026quot;r\u0026quot;) as handle:\u003cbr\u003e\n        SOCIAL_AUTH_SAML_SP_PUBLIC_CERT = handle.read()\u003cbr\u003e\n    with open(\u0026quot;/app/data/ssl/saml.key\u0026quot;, \u0026quot;r\u0026quot;) as handle:\u003cbr\u003e\n        SOCIAL_AUTH_SAML_SP_PRIVATE_KEY = handle.read()\u003cbr\u003e\n    # Identity Provider\u003cbr\u003e\n    SOCIAL_AUTH_SAML_ENABLED_IDPS = {\u003cbr\u003e\n        \u0026quot;weblate\u0026quot;: {\u003cbr\u003e\n            \u0026quot;entity_id\u0026quot;: os.environ.get(\u0026quot;WEBLATE_SAML_IDP_ENTITY_ID\u0026quot;, \u0026quot;\u0026quot;),\u003cbr\u003e\n            \u0026quot;url\u0026quot;: os.environ.get(\u0026quot;WEBLATE_SAML_IDP_URL\u0026quot;, \u0026quot;\u0026quot;),\u003cbr\u003e\n            \u0026quot;x509cert\u0026quot;: os.environ.get(\u0026quot;WEBLATE_SAML_IDP_X509CERT\u0026quot;, \u0026quot;\u0026quot;),\u003cbr\u003e\n            \u0026quot;attr_name\u0026quot;: \u0026quot;full_name\u0026quot;,\u003cbr\u003e\n            \u0026quot;attr_username\u0026quot;: \u0026quot;username\u0026quot;,\u003cbr\u003e\n            \u0026quot;attr_email\u0026quot;: \u0026quot;email\u0026quot;,\u003cbr\u003e\n        }\u003cbr\u003e\n    }\u003c/p\u003e\n\n\u003ch1 id=\"azure\"\u003eAzure\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_AZUREAD_OAUTH2_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.azuread.AzureADOAuth2\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eSOCIAL_AUTH_AZUREAD_OAUTH2_KEY = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_AZUREAD_OAUTH2_KEY\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_AZUREAD_OAUTH2_SECRET = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"azure-ad-tenant\"\u003eAzure AD Tenant\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u003cbr\u003e\n        \u0026quot;social_core.backends.azuread_tenant.AzureADTenantOAuth2\u0026quot;,\u003cbr\u003e\n    )\u003c/p\u003e\n\n\u003cp\u003eSOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_KEY = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_KEY\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_SECRET = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_SECRET\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_TENANT_ID = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_SOCIAL_AUTH_AZUREAD_TENANT_OAUTH2_TENANT_ID\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"keycloak\"\u003eKeycloak\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_KEYCLOAK_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.keycloak.KeycloakOAuth2\u0026quot;,)\u003cbr\u003e\n    SOCIAL_AUTH_KEYCLOAK_KEY = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_KEYCLOAK_KEY\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n    SOCIAL_AUTH_KEYCLOAK_SECRET = os.environ.get(\u003cbr\u003e\n        \u0026quot;WEBLATE_SOCIAL_AUTH_KEYCLOAK_SECRET\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n    )\u003cbr\u003e\n    SOCIAL_AUTH_KEYCLOAK_PUBLIC_KEY = os.environ.get(\u003cbr\u003e\n        \u0026quot;WEBLATE_SOCIAL_AUTH_KEYCLOAK_PUBLIC_KEY\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n    )\u003cbr\u003e\n    SOCIAL_AUTH_KEYCLOAK_AUTHORIZATION_URL = os.environ.get(\u003cbr\u003e\n        \u0026quot;WEBLATE_SOCIAL_AUTH_KEYCLOAK_AUTHORIZATION_URL\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n    )\u003cbr\u003e\n    SOCIAL_AUTH_KEYCLOAK_ALGORITHM = os.environ.get(\u003cbr\u003e\n        \u0026quot;WEBLATE_SOCIAL_AUTH_KEYCLOAK_ALGORITHM\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n    )\u003cbr\u003e\n    SOCIAL_AUTH_KEYCLOAK_ACCESS_TOKEN_URL = os.environ.get(\u003cbr\u003e\n        \u0026quot;WEBLATE_SOCIAL_AUTH_KEYCLOAK_ACCESS_TOKEN_URL\u0026quot;, \u0026quot;\u0026quot;\u003cbr\u003e\n    )\u003cbr\u003e\n    SOCIAL_AUTH_KEYCLOAK_ID_KEY = \u0026quot;email\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"linux-distros\"\u003eLinux distros\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_FEDORA\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += \u0026quot;social_core.backends.fedora.FedoraOpenId\u0026quot;\u003cbr\u003e\nif \u0026quot;WEBLATE_SOCIAL_AUTH_OPENSUSE\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += \u0026quot;social_core.backends.suse.OpenSUSEOpenId\u0026quot;\u003cbr\u003e\n    SOCIAL_AUTH_OPENSUSE_FORCE_EMAIL_VALIDATION = True\u003cbr\u003e\nif \u0026quot;WEBLATE_SOCIAL_AUTH_UBUNTU\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += \u0026quot;social_core.backends.ubuntu.UbuntuOpenId\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"slack\"\u003eSlack\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_SOCIAL_AUTH_SLACK_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    AUTHENTICATION_BACKENDS += (\u0026quot;social_core.backends.slack.SlackOAuth2\u0026quot;,)\u003cbr\u003e\n    SOCIAL_AUTH_SLACK_KEY = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_SLACK_KEY\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n    SOCIAL_AUTH_SLACK_SECRET = os.environ.get(\u0026quot;WEBLATE_SOCIAL_AUTH_SLACK_SECRET\u0026quot;, \u0026quot;\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"https-docs-weblate-org-en-latest-admin-auth-html-ldap-authentication\"\u003e\u003ca title=\"https://docs.weblate.org/en/latest/admin/auth.html#ldap-authentication\" href=\"/redirect?url=https%3A%2F%2Fdocs.weblate.org%2Fen%2Flatest%2Fadmin%2Fauth.html%23ldap-authentication\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://docs.weblate.org/en/latest/admin/auth.html#ldap-authentication\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_AUTH_LDAP_SERVER_URI\u0026quot; in os.environ:\u003cbr\u003e\n    import ldap\u003cbr\u003e\n    from django_auth_ldap.config import LDAPSearch\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eAUTH_LDAP_SERVER_URI = os.environ.get(\u0026quot;WEBLATE_AUTH_LDAP_SERVER_URI\u0026quot;)\nAUTH_LDAP_USER_DN_TEMPLATE = (\n    os.environ.get(\u0026quot;WEBLATE_AUTH_LDAP_USER_DN_TEMPLATE\u0026quot;) or None\n)\nAUTHENTICATION_BACKENDS += (\u0026quot;django_auth_ldap.backend.LDAPBackend\u0026quot;,)\nAUTH_LDAP_USER_ATTR_MAP = get_env_map(\n    \u0026quot;WEBLATE_AUTH_LDAP_USER_ATTR_MAP\u0026quot;, {\u0026quot;full_name\u0026quot;: \u0026quot;name\u0026quot;, \u0026quot;email\u0026quot;: \u0026quot;mail\u0026quot;}\n)\nAUTH_LDAP_BIND_DN = os.environ.get(\u0026quot;WEBLATE_AUTH_LDAP_BIND_DN\u0026quot;, \u0026quot;\u0026quot;)\nAUTH_LDAP_BIND_PASSWORD = os.environ.get(\u0026quot;WEBLATE_AUTH_LDAP_BIND_PASSWORD\u0026quot;, \u0026quot;\u0026quot;)\n\nif \u0026quot;WEBLATE_AUTH_LDAP_USER_SEARCH\u0026quot; in os.environ:\n    AUTH_LDAP_USER_SEARCH = LDAPSearch(\n        os.environ[\u0026quot;WEBLATE_AUTH_LDAP_USER_SEARCH\u0026quot;],\n        ldap.SCOPE_SUBTREE,\n        os.environ.get(\u0026quot;WEBLATE_AUTH_LDAP_USER_SEARCH_FILTER\u0026quot;, \u0026quot;(uid=%(user)s)\u0026quot;),\n    )\n\nif not get_env_bool(\u0026quot;WEBLATE_AUTH_LDAP_CONNECTION_OPTION_REFERRALS\u0026quot;, True):\n    AUTH_LDAP_CONNECTION_OPTIONS = {\n        ldap.OPT_REFERRALS: 0,\n    }\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1 id=\"always-include-weblate-backend\"\u003eAlways include Weblate backend\u003c/h1\u003e\n\n\u003cp\u003eAUTHENTICATION_BACKENDS += (\u0026quot;weblate.accounts.auth.WeblateUserBackend\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"social-auth-settings\"\u003eSocial auth settings\u003c/h1\u003e\n\n\u003cp\u003eSOCIAL_AUTH_PIPELINE = (\u003cbr\u003e\n    \u0026quot;social_core.pipeline.social_auth.social_details\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.social_auth.social_uid\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.social_auth.auth_allowed\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.social_auth.social_user\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.store_params\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.verify_open\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.user.get_username\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.require_email\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.mail.mail_validation\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.revoke_mail_code\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.ensure_valid\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.remove_account\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.social_auth.associate_by_email\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.reauthenticate\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.verify_username\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.user.create_user\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.social_auth.associate_user\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.social_auth.load_extra_data\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.cleanup_next\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.user_full_name\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.store_email\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.notify_connect\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.password_reset\u0026quot;,\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_DISCONNECT_PIPELINE = (\u003cbr\u003e\n    \u0026quot;social_core.pipeline.disconnect.allowed_to_disconnect\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.disconnect.get_entries\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.disconnect.revoke_tokens\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.cycle_session\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.adjust_primary_mail\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.notify_disconnect\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_core.pipeline.disconnect.disconnect\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.pipeline.cleanup_next\u0026quot;,\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"custom-authentication-strategy\"\u003eCustom authentication strategy\u003c/h1\u003e\n\n\u003cp\u003eSOCIAL_AUTH_STRATEGY = \u0026quot;weblate.accounts.strategy.WeblateStrategy\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"raise-exceptions-so-that-we-can-handle-them-later\"\u003eRaise exceptions so that we can handle them later\u003c/h1\u003e\n\n\u003cp\u003eSOCIAL_AUTH_RAISE_EXCEPTIONS = True\u003c/p\u003e\n\n\u003cp\u003eSOCIAL_AUTH_EMAIL_VALIDATION_FUNCTION = \u0026quot;weblate.accounts.pipeline.send_validation\u0026quot;\u003cbr\u003e\nSOCIAL_AUTH_EMAIL_VALIDATION_URL = \u0026quot;{0}/accounts/email-sent/\u0026quot;.format(URL_PREFIX)\u003cbr\u003e\nSOCIAL_AUTH_LOGIN_ERROR_URL = \u0026quot;{0}/accounts/login/\u0026quot;.format(URL_PREFIX)\u003cbr\u003e\nSOCIAL_AUTH_EMAIL_FORM_URL = \u0026quot;{0}/accounts/email/\u0026quot;.format(URL_PREFIX)\u003cbr\u003e\nSOCIAL_AUTH_NEW_ASSOCIATION_REDIRECT_URL = \u0026quot;{0}/accounts/profile/#account\u0026quot;.format(\u003cbr\u003e\n    URL_PREFIX\u003cbr\u003e\n)\u003cbr\u003e\nSOCIAL_AUTH_PROTECTED_USER_FIELDS = (\u0026quot;email\u0026quot;,)\u003cbr\u003e\nSOCIAL_AUTH_SLUGIFY_USERNAMES = True\u003cbr\u003e\nSOCIAL_AUTH_SLUGIFY_FUNCTION = \u0026quot;weblate.accounts.pipeline.slugify_username\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"password-validation-configuration\"\u003ePassword validation configuration\u003c/h1\u003e\n\n\u003cp\u003eAUTH_PASSWORD_VALIDATORS = [\u003cbr\u003e\n    {\u003cbr\u003e\n        \u0026quot;NAME\u0026quot;: \u0026quot;django.contrib.auth.password_validation.UserAttributeSimilarityValidator\u0026quot;  # noqa: E501, pylint: disable=line-too-long\u003cbr\u003e\n    },\u003cbr\u003e\n    {\u003cbr\u003e\n        \u0026quot;NAME\u0026quot;: \u0026quot;django.contrib.auth.password_validation.MinimumLengthValidator\u0026quot;,\u003cbr\u003e\n        \u0026quot;OPTIONS\u0026quot;: {\u0026quot;min_length\u0026quot;: 10},\u003cbr\u003e\n    },\u003cbr\u003e\n    {\u0026quot;NAME\u0026quot;: \u0026quot;django.contrib.auth.password_validation.CommonPasswordValidator\u0026quot;},\u003cbr\u003e\n    {\u0026quot;NAME\u0026quot;: \u0026quot;django.contrib.auth.password_validation.NumericPasswordValidator\u0026quot;},\u003cbr\u003e\n    {\u0026quot;NAME\u0026quot;: \u0026quot;weblate.accounts.password_validation.CharsPasswordValidator\u0026quot;},\u003cbr\u003e\n    {\u0026quot;NAME\u0026quot;: \u0026quot;weblate.accounts.password_validation.PastPasswordsValidator\u0026quot;},\u003cbr\u003e\n    # Optional password strength validation by django-zxcvbn-password\u003cbr\u003e\n    # {\u003cbr\u003e\n    #     \u0026quot;NAME\u0026quot;: \u0026quot;zxcvbn_password.ZXCVBNValidator\u0026quot;,\u003cbr\u003e\n    #     \u0026quot;OPTIONS\u0026quot;: {\u003cbr\u003e\n    #         \u0026quot;min_score\u0026quot;: 3,\u003cbr\u003e\n    #         \u0026quot;user_attributes\u0026quot;: (\u0026quot;username\u0026quot;, \u0026quot;email\u0026quot;, \u0026quot;full_name\u0026quot;)\u003cbr\u003e\n    #     }\u003cbr\u003e\n    # },\u003cbr\u003e\n]\u003c/p\u003e\n\n\u003ch1 id=\"allow-new-user-registrations\"\u003eAllow new user registrations\u003c/h1\u003e\n\n\u003cp\u003eREGISTRATION_OPEN = get_env_bool(\u0026quot;WEBLATE_REGISTRATION_OPEN\u0026quot;, True)\u003cbr\u003e\nREGISTRATION_ALLOW_BACKENDS = get_env_list(\u0026quot;WEBLATE_REGISTRATION_ALLOW_BACKENDS\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"email-registration-filter\"\u003eEmail registration filter\u003c/h1\u003e\n\n\u003cp\u003eREGISTRATION_EMAIL_MATCH = os.environ.get(\u0026quot;WEBLATE_REGISTRATION_EMAIL_MATCH\u0026quot;, \u0026quot;.*\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"shortcut-for-login-required-setting\"\u003eShortcut for login required setting\u003c/h1\u003e\n\n\u003cp\u003eREQUIRE_LOGIN = get_env_bool(\u0026quot;WEBLATE_REQUIRE_LOGIN\u0026quot;, False)\u003c/p\u003e\n\n\u003ch1 id=\"middleware\"\u003eMiddleware\u003c/h1\u003e\n\n\u003cp\u003eMIDDLEWARE = [\u003cbr\u003e\n    \u0026quot;weblate.middleware.RedirectMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.middleware.ProxyMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.middleware.security.SecurityMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.sessions.middleware.SessionMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.middleware.common.CommonMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.middleware.csrf.CsrfViewMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.middleware.AuthenticationMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.messages.middleware.MessageMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.middleware.clickjacking.XFrameOptionsMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;social_django.middleware.SocialAuthExceptionMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts.middleware.RequireLoginMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.api.middleware.ThrottlingMiddleware\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.middleware.SecurityMiddleware\u0026quot;,\u003cbr\u003e\n]\u003c/p\u003e\n\n\u003ch1 id=\"rollbar-integration\"\u003eRollbar integration\u003c/h1\u003e\n\n\u003cp\u003eif \u0026quot;ROLLBAR_KEY\u0026quot; in os.environ:\u003cbr\u003e\n    MIDDLEWARE.append(\u0026quot;rollbar.contrib.django.middleware.RollbarNotifierMiddleware\u0026quot;)\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eROLLBAR = {\n    \u0026quot;access_token\u0026quot;: os.environ[\u0026quot;ROLLBAR_KEY\u0026quot;],\n    \u0026quot;environment\u0026quot;: os.environ.get(\u0026quot;ROLLBAR_ENVIRONMENT\u0026quot;, \u0026quot;production\u0026quot;),\n    \u0026quot;branch\u0026quot;: \u0026quot;master\u0026quot;,\n    \u0026quot;root\u0026quot;: \u0026quot;/usr/local/lib/python3.7/dist-packages/weblate/\u0026quot;,\n    \u0026quot;exception_level_filters\u0026quot;: [\n        (PermissionDenied, \u0026quot;ignored\u0026quot;),\n        (Http404, \u0026quot;ignored\u0026quot;),\n    ],\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eROOT_URLCONF = \u0026quot;weblate.urls\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"django-and-weblate-apps\"\u003eDjango and Weblate apps\u003c/h1\u003e\n\n\u003cp\u003eINSTALLED_APPS = [\u003cbr\u003e\n    # Docker customization app, listed first to allow overriding static files\u003cbr\u003e\n    \u0026quot;customize\u0026quot;,\u003cbr\u003e\n    # Weblate apps on top to override Django locales and templates\u003cbr\u003e\n    \u0026quot;weblate.addons\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.auth\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.formats\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.glossary\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.machinery\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.trans\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.lang\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.langdata\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.memory\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.screenshots\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.fonts\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.accounts\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.utils\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.vcs\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.wladmin\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate\u0026quot;,\u003cbr\u003e\n    # Optional: Git exporter\u003cbr\u003e\n    \u0026quot;weblate.gitexport\u0026quot;,\u003cbr\u003e\n    # Standard Django modules\u003cbr\u003e\n    \u0026quot;django.contrib.auth\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.contenttypes\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.sessions\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.sites\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.messages\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.staticfiles\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.admin.apps.SimpleAdminConfig\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.admindocs\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.sitemaps\u0026quot;,\u003cbr\u003e\n    \u0026quot;django.contrib.humanize\u0026quot;,\u003cbr\u003e\n    # Third party Django modules\u003cbr\u003e\n    \u0026quot;social_django\u0026quot;,\u003cbr\u003e\n    \u0026quot;crispy_forms\u0026quot;,\u003cbr\u003e\n    \u0026quot;compressor\u0026quot;,\u003cbr\u003e\n    \u0026quot;rest_framework\u0026quot;,\u003cbr\u003e\n    \u0026quot;rest_framework.authtoken\u0026quot;,\u003cbr\u003e\n    \u0026quot;django_filters\u0026quot;,\u003cbr\u003e\n]\u003c/p\u003e\n\n\u003cp\u003emodify_env_list(INSTALLED_APPS, \u0026quot;APPS\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"custom-exception-reporter-to-include-some-details\"\u003eCustom exception reporter to include some details\u003c/h1\u003e\n\n\u003cp\u003eDEFAULT_EXCEPTION_REPORTER_FILTER = \u0026quot;weblate.trans.debug.WeblateExceptionReporterFilter\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"default-logging-of-weblate-messages\"\u003eDefault logging of Weblate messages\u003c/h1\u003e\n\n\u003ch1 id=\"to-syslog-in-production-if-available\"\u003e- to syslog in production (if available)\u003c/h1\u003e\n\n\u003ch1 id=\"otherwise-to-console\"\u003e- otherwise to console\u003c/h1\u003e\n\n\u003ch1 id=\"you-can-also-choose-logfile-to-log-into-separate-file\"\u003e- you can also choose \u0026quot;logfile\u0026quot; to log into separate file\u003c/h1\u003e\n\n\u003ch1 id=\"after-configuring-it-below\"\u003eafter configuring it below\u003c/h1\u003e\n\n\u003ch1 id=\"detect-if-we-can-connect-to-syslog\"\u003eDetect if we can connect to syslog\u003c/h1\u003e\n\n\u003cp\u003eHAVE_SYSLOG = False\u003c/p\u003e\n\n\u003cp\u003eif DEBUG or not HAVE_SYSLOG:\u003cbr\u003e\n    DEFAULT_LOG = \u0026quot;console\u0026quot;\u003cbr\u003e\nelse:\u003cbr\u003e\n    DEFAULT_LOG = \u0026quot;syslog\u0026quot;\u003cbr\u003e\nDEFAULT_LOGLEVEL = os.environ.get(\u0026quot;WEBLATE_LOGLEVEL\u0026quot;, \u0026quot;DEBUG\u0026quot; if DEBUG else \u0026quot;INFO\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"a-sample-logging-configuration-the-only-tangible-logging\"\u003eA sample logging configuration. The only tangible logging\u003c/h1\u003e\n\n\u003ch1 id=\"performed-by-this-configuration-is-to-send-an-email-to\"\u003eperformed by this configuration is to send an email to\u003c/h1\u003e\n\n\u003ch1 id=\"the-site-admins-on-every-http-500-error-when-debug-false\"\u003ethe site admins on every HTTP 500 error when DEBUG=False.\u003c/h1\u003e\n\n\u003ch1 id=\"see-http-docs-djangoproject-com-en-stable-topics-logging-for\"\u003eSee \u003ca title=\"http://docs.djangoproject.com/en/stable/topics/logging\" href=\"/redirect?url=http%3A%2F%2Fdocs.djangoproject.com%2Fen%2Fstable%2Ftopics%2Flogging\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://docs.djangoproject.com/en/stable/topics/logging\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e for\u003c/h1\u003e\n\n\u003ch1 id=\"more-details-on-how-to-customize-your-logging-configuration\"\u003emore details on how to customize your logging configuration.\u003c/h1\u003e\n\n\u003cp\u003eLOGGING = {\u003cbr\u003e\n    \u0026quot;version\u0026quot;: 1,\u003cbr\u003e\n    \u0026quot;disable_existing_loggers\u0026quot;: True,\u003cbr\u003e\n    \u0026quot;filters\u0026quot;: {\u0026quot;require_debug_false\u0026quot;: {\u0026quot;()\u0026quot;: \u0026quot;django.utils.log.RequireDebugFalse\u0026quot;}},\u003cbr\u003e\n    \u0026quot;formatters\u0026quot;: {\u003cbr\u003e\n        \u0026quot;syslog\u0026quot;: {\u0026quot;format\u0026quot;: \u0026quot;weblate[%(process)d]: %(levelname)s %(message)s\u0026quot;},\u003cbr\u003e\n        \u0026quot;simple\u0026quot;: {\u0026quot;format\u0026quot;: \u0026quot;%(levelname)s %(message)s\u0026quot;},\u003cbr\u003e\n        \u0026quot;logfile\u0026quot;: {\u0026quot;format\u0026quot;: \u0026quot;%(asctime)s %(levelname)s %(message)s\u0026quot;},\u003cbr\u003e\n        \u0026quot;django.server\u0026quot;: {\u003cbr\u003e\n            \u0026quot;()\u0026quot;: \u0026quot;django.utils.log.ServerFormatter\u0026quot;,\u003cbr\u003e\n            \u0026quot;format\u0026quot;: \u0026quot;[%(server_time)s] %(message)s\u0026quot;,\u003cbr\u003e\n        },\u003cbr\u003e\n    },\u003cbr\u003e\n    \u0026quot;handlers\u0026quot;: {\u003cbr\u003e\n        \u0026quot;mail_admins\u0026quot;: {\u003cbr\u003e\n            \u0026quot;level\u0026quot;: \u0026quot;ERROR\u0026quot;,\u003cbr\u003e\n            \u0026quot;filters\u0026quot;: [\u0026quot;require_debug_false\u0026quot;],\u003cbr\u003e\n            \u0026quot;class\u0026quot;: \u0026quot;django.utils.log.AdminEmailHandler\u0026quot;,\u003cbr\u003e\n            \u0026quot;include_html\u0026quot;: True,\u003cbr\u003e\n        },\u003cbr\u003e\n        \u0026quot;console\u0026quot;: {\u003cbr\u003e\n            \u0026quot;level\u0026quot;: \u0026quot;DEBUG\u0026quot;,\u003cbr\u003e\n            \u0026quot;class\u0026quot;: \u0026quot;logging.StreamHandler\u0026quot;,\u003cbr\u003e\n            \u0026quot;formatter\u0026quot;: \u0026quot;simple\u0026quot;,\u003cbr\u003e\n        },\u003cbr\u003e\n        \u0026quot;django.server\u0026quot;: {\u003cbr\u003e\n            \u0026quot;level\u0026quot;: \u0026quot;INFO\u0026quot;,\u003cbr\u003e\n            \u0026quot;class\u0026quot;: \u0026quot;logging.StreamHandler\u0026quot;,\u003cbr\u003e\n            \u0026quot;formatter\u0026quot;: \u0026quot;django.server\u0026quot;,\u003cbr\u003e\n        },\u003cbr\u003e\n        \u0026quot;syslog\u0026quot;: {\u003cbr\u003e\n            \u0026quot;level\u0026quot;: \u0026quot;DEBUG\u0026quot;,\u003cbr\u003e\n            \u0026quot;class\u0026quot;: \u0026quot;logging.handlers.SysLogHandler\u0026quot;,\u003cbr\u003e\n            \u0026quot;formatter\u0026quot;: \u0026quot;syslog\u0026quot;,\u003cbr\u003e\n            \u0026quot;address\u0026quot;: \u0026quot;/dev/log\u0026quot;,\u003cbr\u003e\n            \u0026quot;facility\u0026quot;: SysLogHandler.LOG_LOCAL2,\u003cbr\u003e\n        },\u003cbr\u003e\n        # Logging to a file\u003cbr\u003e\n        # \u0026quot;logfile\u0026quot;: {\u003cbr\u003e\n        #     \u0026quot;level\u0026quot;:\u0026quot;DEBUG\u0026quot;,\u003cbr\u003e\n        #     \u0026quot;class\u0026quot;:\u0026quot;logging.handlers.RotatingFileHandler\u0026quot;,\u003cbr\u003e\n        #     \u0026quot;filename\u0026quot;: \u0026quot;/var/log/weblate/weblate.log\u0026quot;,\u003cbr\u003e\n        #     \u0026quot;maxBytes\u0026quot;: 100000,\u003cbr\u003e\n        #     \u0026quot;backupCount\u0026quot;: 3,\u003cbr\u003e\n        #     \u0026quot;formatter\u0026quot;: \u0026quot;logfile\u0026quot;,\u003cbr\u003e\n        # },\u003cbr\u003e\n    },\u003cbr\u003e\n    \u0026quot;loggers\u0026quot;: {\u003cbr\u003e\n        \u0026quot;django.request\u0026quot;: {\u003cbr\u003e\n            \u0026quot;handlers\u0026quot;: [\u0026quot;mail_admins\u0026quot;, DEFAULT_LOG],\u003cbr\u003e\n            \u0026quot;level\u0026quot;: \u0026quot;ERROR\u0026quot;,\u003cbr\u003e\n            \u0026quot;propagate\u0026quot;: True,\u003cbr\u003e\n        },\u003cbr\u003e\n        \u0026quot;django.server\u0026quot;: {\u003cbr\u003e\n            \u0026quot;handlers\u0026quot;: [\u0026quot;django.server\u0026quot;],\u003cbr\u003e\n            \u0026quot;level\u0026quot;: \u0026quot;INFO\u0026quot;,\u003cbr\u003e\n            \u0026quot;propagate\u0026quot;: False,\u003cbr\u003e\n        },\u003cbr\u003e\n        # Logging database queries\u003cbr\u003e\n        # \u0026quot;django.db.backends\u0026quot;: {\u003cbr\u003e\n        #     \u0026quot;handlers\u0026quot;: [DEFAULT_LOG],\u003cbr\u003e\n        #     \u0026quot;level\u0026quot;: \u0026quot;DEBUG\u0026quot;,\u003cbr\u003e\n        # },\u003cbr\u003e\n        \u0026quot;weblate\u0026quot;: {\u0026quot;handlers\u0026quot;: [DEFAULT_LOG], \u0026quot;level\u0026quot;: DEFAULT_LOGLEVEL},\u003cbr\u003e\n        # Logging VCS operations\u003cbr\u003e\n        \u0026quot;weblate.vcs\u0026quot;: {\u0026quot;handlers\u0026quot;: [DEFAULT_LOG], \u0026quot;level\u0026quot;: \u0026quot;INFO\u0026quot;},\u003cbr\u003e\n        # Python Social Auth\u003cbr\u003e\n        \u0026quot;social\u0026quot;: {\u0026quot;handlers\u0026quot;: [DEFAULT_LOG], \u0026quot;level\u0026quot;: DEFAULT_LOGLEVEL},\u003cbr\u003e\n        # Django Authentication Using LDAP\u003cbr\u003e\n        \u0026quot;django_auth_ldap\u0026quot;: {\u0026quot;handlers\u0026quot;: [DEFAULT_LOG], \u0026quot;level\u0026quot;: DEFAULT_LOGLEVEL},\u003cbr\u003e\n    },\u003cbr\u003e\n}\u003c/p\u003e\n\n\u003ch1 id=\"remove-syslog-setup-if-it-s-not-present\"\u003eRemove syslog setup if it\u0026#39;s not present\u003c/h1\u003e\n\n\u003cp\u003eif not HAVE_SYSLOG:\u003cbr\u003e\n    del LOGGING[\u0026quot;handlers\u0026quot;][\u0026quot;syslog\u0026quot;]\u003c/p\u003e\n\n\u003ch1 id=\"list-of-machine-translations\"\u003eList of machine translations\u003c/h1\u003e\n\n\u003cp\u003eMT_SERVICES = (\u003cbr\u003e\n    \u0026quot;weblate.machinery.weblatetm.WeblateTranslation\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.memory.machine.WeblateMemory\u0026quot;,\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"machine-translation-api-keys\"\u003eMachine translation API keys\u003c/h1\u003e\n\n\u003ch1 id=\"url-of-the-apertium-apy-server\"\u003eURL of the Apertium APy server\u003c/h1\u003e\n\n\u003cp\u003eMT_APERTIUM_APY = None\u003c/p\u003e\n\n\u003ch1 id=\"aws\"\u003eAWS\u003c/h1\u003e\n\n\u003cp\u003eMT_AWS_REGION = os.environ.get(\u0026quot;WEBLATE_MT_AWS_REGION\u0026quot;, None)\u003cbr\u003e\nMT_AWS_ACCESS_KEY_ID = os.environ.get(\u0026quot;WEBLATE_MT_AWS_ACCESS_KEY_ID\u0026quot;, None)\u003cbr\u003e\nMT_AWS_SECRET_ACCESS_KEY = os.environ.get(\u0026quot;WEBLATE_MT_AWS_SECRET_ACCESS_KEY\u0026quot;, None)\u003cbr\u003e\nif MT_AWS_ACCESS_KEY_ID:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.aws.AWSTranslation\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"deepl-api-key\"\u003eDeepL API key\u003c/h1\u003e\n\n\u003cp\u003eMT_DEEPL_KEY = os.environ.get(\u0026quot;WEBLATE_MT_DEEPL_KEY\u0026quot;, None)\u003cbr\u003e\nMT_DEEPL_API_VERSION = os.environ.get(\u0026quot;WEBLATE_MT_DEEPL_API_VERSION\u0026quot;, \u0026quot;v2\u0026quot;)\u003cbr\u003e\nif MT_DEEPL_KEY:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.deepl.DeepLTranslation\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"microsoft-cognitive-services-translator-api-register-at\"\u003eMicrosoft Cognitive Services Translator API, register at\u003c/h1\u003e\n\n\u003ch1 id=\"https-portal-azure-com\"\u003e\u003ca title=\"https://portal.azure.com/\" href=\"/redirect?url=https%3A%2F%2Fportal.azure.com%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://portal.azure.com/\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/h1\u003e\n\n\u003cp\u003eMT_MICROSOFT_COGNITIVE_KEY = os.environ.get(\u0026quot;WEBLATE_MT_MICROSOFT_COGNITIVE_KEY\u0026quot;, None)\u003cbr\u003e\nMT_MICROSOFT_REGION = None\u003c/p\u003e\n\n\u003cp\u003ems_endpoint_url = os.environ.get(\u0026quot;WEBLATE_MT_MICROSOFT_ENDPOINT_URL\u0026quot;, None)\u003cbr\u003e\nif ms_endpoint_url is not None:\u003cbr\u003e\n    MT_MICROSOFT_ENDPOINT_URL = ms_endpoint_url\u003c/p\u003e\n\n\u003cp\u003ems_base_url = os.environ.get(\u0026quot;WEBLATE_MT_MICROSOFT_BASE_URL\u0026quot;, None)\u003cbr\u003e\nif ms_base_url is not None:\u003cbr\u003e\n    MT_MICROSOFT_BASE_URL = ms_base_url\u003c/p\u003e\n\n\u003cp\u003eif MT_MICROSOFT_COGNITIVE_KEY:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.microsoft.MicrosoftCognitiveTranslation\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"modernmt\"\u003eModernMT\u003c/h1\u003e\n\n\u003cp\u003eMT_MODERNMT_KEY = os.environ.get(\u0026quot;WEBLATE_MT_MODERNMT_KEY\u0026quot;, None)\u003cbr\u003e\nif MT_MODERNMT_KEY:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.modernmt.ModernMTTranslation\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"mymemory-identification-email-see\"\u003eMyMemory identification email, see\u003c/h1\u003e\n\n\u003ch1 id=\"http-mymemory-translated-net-doc-spec-php\"\u003e\u003ca title=\"http://mymemory.translated.net/doc/spec.php\" href=\"/redirect?url=http%3A%2F%2Fmymemory.translated.net%2Fdoc%2Fspec.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://mymemory.translated.net/doc/spec.php\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/h1\u003e\n\n\u003cp\u003eMT_MYMEMORY_EMAIL = os.environ[\u0026quot;WEBLATE_ADMIN_EMAIL\u0026quot;]\u003c/p\u003e\n\n\u003ch1 id=\"optional-mymemory-credentials-to-access-private-translation-memory\"\u003eOptional MyMemory credentials to access private translation memory\u003c/h1\u003e\n\n\u003cp\u003eMT_MYMEMORY_USER = None\u003cbr\u003e\nMT_MYMEMORY_KEY = None\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_MT_MYMEMORY_ENABLED\u0026quot; in os.environ:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.mymemory.MyMemoryTranslation\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_MT_GLOSBE_ENABLED\u0026quot; in os.environ:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.glosbe.GlosbeTranslation\u0026quot;,)\u003c/p\u003e\n\n\u003cp\u003eif \u0026quot;WEBLATE_MT_MICROSOFT_TERMINOLOGY_ENABLED\u0026quot; in os.environ:\u003cbr\u003e\n    MT_SERVICES += (\u003cbr\u003e\n        \u0026quot;weblate.machinery.microsoftterminology.MicrosoftTerminologyService\u0026quot;,\u003cbr\u003e\n    )\u003c/p\u003e\n\n\u003ch1 id=\"google-api-key-for-google-translate-api\"\u003eGoogle API key for Google Translate API\u003c/h1\u003e\n\n\u003cp\u003eMT_GOOGLE_KEY = os.environ.get(\u0026quot;WEBLATE_MT_GOOGLE_KEY\u0026quot;, None)\u003c/p\u003e\n\n\u003cp\u003eif MT_GOOGLE_KEY:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.google.GoogleTranslation\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"baidu-app-key-and-secret\"\u003eBaidu app key and secret\u003c/h1\u003e\n\n\u003cp\u003eMT_BAIDU_ID = None\u003cbr\u003e\nMT_BAIDU_SECRET = None\u003c/p\u003e\n\n\u003ch1 id=\"youdao-zhiyun-app-key-and-secret\"\u003eYoudao Zhiyun app key and secret\u003c/h1\u003e\n\n\u003cp\u003eMT_YOUDAO_ID = None\u003cbr\u003e\nMT_YOUDAO_SECRET = None\u003c/p\u003e\n\n\u003ch1 id=\"netease-sight-jianwai-app-key-and-secret\"\u003eNetease Sight (Jianwai) app key and secret\u003c/h1\u003e\n\n\u003cp\u003eMT_NETEASE_KEY = None\u003cbr\u003e\nMT_NETEASE_SECRET = None\u003c/p\u003e\n\n\u003ch1 id=\"api-key-for-yandex-translate-api\"\u003eAPI key for Yandex Translate API\u003c/h1\u003e\n\n\u003cp\u003eMT_YANDEX_KEY = None\u003c/p\u003e\n\n\u003ch1 id=\"tmserver-url\"\u003etmserver URL\u003c/h1\u003e\n\n\u003cp\u003eMT_TMSERVER = None\u003c/p\u003e\n\n\u003ch1 id=\"sap-translation-hub\"\u003eSAP Translation Hub\u003c/h1\u003e\n\n\u003cp\u003eMT_SAP_BASE_URL = os.environ.get(\u0026quot;WEBLATE_MT_SAP_BASE_URL\u0026quot;, None)\u003cbr\u003e\nMT_SAP_SANDBOX_APIKEY = os.environ.get(\u0026quot;WEBLATE_MT_SAP_SANDBOX_APIKEY\u0026quot;, None)\u003cbr\u003e\nMT_SAP_USERNAME = os.environ.get(\u0026quot;WEBLATE_MT_SAP_USERNAME\u0026quot;, None)\u003cbr\u003e\nMT_SAP_PASSWORD = os.environ.get(\u0026quot;WEBLATE_MT_SAP_PASSWORD\u0026quot;, None)\u003cbr\u003e\nMT_SAP_USE_MT = get_env_bool(\u0026quot;WEBLATE_MT_SAP_USE_MT\u0026quot;, True)\u003cbr\u003e\nif MT_SAP_BASE_URL:\u003cbr\u003e\n    MT_SERVICES += (\u0026quot;weblate.machinery.saptranslationhub.SAPTranslationHub\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"title-of-site-to-use\"\u003eTitle of site to use\u003c/h1\u003e\n\n\u003cp\u003eSITE_TITLE = os.environ.get(\u0026quot;WEBLATE_SITE_TITLE\u0026quot;, \u0026quot;Weblate\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"whether-site-uses-https\"\u003eWhether site uses https\u003c/h1\u003e\n\n\u003cp\u003eENABLE_HTTPS = get_env_bool(\u0026quot;WEBLATE_ENABLE_HTTPS\u0026quot;, False)\u003c/p\u003e\n\n\u003ch1 id=\"use-https-when-creating-redirect-urls-for-social-authentication-see\"\u003eUse HTTPS when creating redirect URLs for social authentication, see\u003c/h1\u003e\n\n\u003ch1 id=\"documentation-for-more-details\"\u003edocumentation for more details:\u003c/h1\u003e\n\n\u003ch1 id=\"https-python-social-auth-docs-readthedocs-io-en-latest-configuration-settings-html-processing-redirects-and-urlopen\"\u003e\u003ca title=\"https://python-social-auth-docs.readthedocs.io/en/latest/configuration/settings.html#processing-redirects-and-urlopen\" href=\"/redirect?url=https%3A%2F%2Fpython-social-auth-docs.readthedocs.io%2Fen%2Flatest%2Fconfiguration%2Fsettings.html%23processing-redirects-and-urlopen\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://python-social-auth-docs.readthedocs.io/en/latest/configuration/settings.html#processing-redirects-and-urlopen\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/h1\u003e\n\n\u003cp\u003eSOCIAL_AUTH_REDIRECT_IS_HTTPS = ENABLE_HTTPS\u003c/p\u003e\n\n\u003ch1 id=\"make-csrf-cookie-httponly-see-documentation-for-more-details\"\u003eMake CSRF cookie HttpOnly, see documentation for more details:\u003c/h1\u003e\n\n\u003ch1 id=\"https-docs-djangoproject-com-en-1-11-ref-settings-csrf-cookie-httponly\"\u003e\u003ca title=\"https://docs.djangoproject.com/en/1.11/ref/settings/#csrf-cookie-httponly\" href=\"/redirect?url=https%3A%2F%2Fdocs.djangoproject.com%2Fen%2F1.11%2Fref%2Fsettings%2F%23csrf-cookie-httponly\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://docs.djangoproject.com/en/1.11/ref/settings/#csrf-cookie-httponly\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/h1\u003e\n\n\u003cp\u003eCSRF_COOKIE_HTTPONLY = True\u003cbr\u003e\nCSRF_COOKIE_SECURE = ENABLE_HTTPS\u003c/p\u003e\n\n\u003ch1 id=\"store-csrf-token-in-session\"\u003eStore CSRF token in session\u003c/h1\u003e\n\n\u003cp\u003eCSRF_USE_SESSIONS = True\u003c/p\u003e\n\n\u003ch1 id=\"customize-csrf-failure-view\"\u003eCustomize CSRF failure view\u003c/h1\u003e\n\n\u003cp\u003eCSRF_FAILURE_VIEW = \u0026quot;weblate.trans.views.error.csrf_failure\u0026quot;\u003cbr\u003e\nSESSION_COOKIE_SECURE = ENABLE_HTTPS\u003cbr\u003e\nSESSION_COOKIE_HTTPONLY = True\u003c/p\u003e\n\n\u003ch1 id=\"ssl-redirect\"\u003eSSL redirect\u003c/h1\u003e\n\n\u003cp\u003eSECURE_SSL_REDIRECT = ENABLE_HTTPS\u003c/p\u003e\n\n\u003ch1 id=\"sent-referrrer-only-for-same-origin-links\"\u003eSent referrrer only for same origin links\u003c/h1\u003e\n\n\u003cp\u003eSECURE_REFERRER_POLICY = \u0026quot;same-origin\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"ssl-redirect-url-exemption-list\"\u003eSSL redirect URL exemption list\u003c/h1\u003e\n\n\u003cp\u003eSECURE_REDIRECT_EXEMPT = (r\u0026quot;healthz/$\u0026quot;,)  # Allowing HTTP access to health check\u003c/p\u003e\n\n\u003ch1 id=\"session-cookie-age-in-seconds\"\u003eSession cookie age (in seconds)\u003c/h1\u003e\n\n\u003cp\u003eSESSION_COOKIE_AGE = 1209600\u003c/p\u003e\n\n\u003ch1 id=\"increase-allowed-upload-size\"\u003eIncrease allowed upload size\u003c/h1\u003e\n\n\u003cp\u003eDATA_UPLOAD_MAX_MEMORY_SIZE = 50000000\u003c/p\u003e\n\n\u003ch1 id=\"apply-session-coookie-settings-to-language-cookie-as-ewll\"\u003eApply session coookie settings to language cookie as ewll\u003c/h1\u003e\n\n\u003cp\u003eLANGUAGE_COOKIE_SECURE = SESSION_COOKIE_SECURE\u003cbr\u003e\nLANGUAGE_COOKIE_HTTPONLY = SESSION_COOKIE_HTTPONLY\u003cbr\u003e\nLANGUAGE_COOKIE_AGE = SESSION_COOKIE_AGE * 10\u003c/p\u003e\n\n\u003ch1 id=\"some-security-headers\"\u003eSome security headers\u003c/h1\u003e\n\n\u003cp\u003eSECURE_BROWSER_XSS_FILTER = True\u003cbr\u003e\nX_FRAME_OPTIONS = \u0026quot;DENY\u0026quot;\u003cbr\u003e\nSECURE_CONTENT_TYPE_NOSNIFF = True\u003c/p\u003e\n\n\u003ch1 id=\"optionally-enable-hsts\"\u003eOptionally enable HSTS\u003c/h1\u003e\n\n\u003cp\u003eSECURE_HSTS_SECONDS = 31536000 if ENABLE_HTTPS else 0\u003cbr\u003e\nSECURE_HSTS_PRELOAD = ENABLE_HTTPS\u003cbr\u003e\nSECURE_HSTS_INCLUDE_SUBDOMAINS = ENABLE_HTTPS\u003c/p\u003e\n\n\u003ch1 id=\"https-detection-behind-reverse-proxy\"\u003eHTTPS detection behind reverse proxy\u003c/h1\u003e\n\n\u003cp\u003eWEBLATE_SECURE_PROXY_SSL_HEADER = get_env_list(\u0026quot;WEBLATE_SECURE_PROXY_SSL_HEADER\u0026quot;)\u003cbr\u003e\nif WEBLATE_SECURE_PROXY_SSL_HEADER:\u003cbr\u003e\n    SECURE_PROXY_SSL_HEADER = WEBLATE_SECURE_PROXY_SSL_HEADER\u003c/p\u003e\n\n\u003ch1 id=\"url-of-login\"\u003eURL of login\u003c/h1\u003e\n\n\u003cp\u003eLOGIN_URL = \u0026quot;{0}/accounts/login/\u0026quot;.format(URL_PREFIX)\u003c/p\u003e\n\n\u003ch1 id=\"url-of-logout\"\u003eURL of logout\u003c/h1\u003e\n\n\u003cp\u003eLOGOUT_URL = \u0026quot;{0}/accounts/logout/\u0026quot;.format(URL_PREFIX)\u003c/p\u003e\n\n\u003ch1 id=\"default-location-for-login\"\u003eDefault location for login\u003c/h1\u003e\n\n\u003cp\u003eLOGIN_REDIRECT_URL = \u0026quot;{0}/\u0026quot;.format(URL_PREFIX)\u003c/p\u003e\n\n\u003ch1 id=\"anonymous-user-name\"\u003eAnonymous user name\u003c/h1\u003e\n\n\u003cp\u003eANONYMOUS_USER_NAME = \u0026quot;anonymous\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"reverse-proxy-settings\"\u003eReverse proxy settings\u003c/h1\u003e\n\n\u003cp\u003eIP_PROXY_HEADER = os.environ.get(\u0026quot;WEBLATE_IP_PROXY_HEADER\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\nIP_BEHIND_REVERSE_PROXY = bool(IP_PROXY_HEADER)\u003cbr\u003e\nIP_PROXY_OFFSET = 0\u003c/p\u003e\n\n\u003ch1 id=\"sending-html-in-mails\"\u003eSending HTML in mails\u003c/h1\u003e\n\n\u003cp\u003eEMAIL_SEND_HTML = True\u003c/p\u003e\n\n\u003ch1 id=\"subject-of-emails-includes-site-title\"\u003eSubject of emails includes site title\u003c/h1\u003e\n\n\u003cp\u003eEMAIL_SUBJECT_PREFIX = \u0026quot;[{0}] \u0026quot;.format(SITE_TITLE)\u003c/p\u003e\n\n\u003ch1 id=\"enable-remote-hooks\"\u003eEnable remote hooks\u003c/h1\u003e\n\n\u003cp\u003eENABLE_HOOKS = True\u003c/p\u003e\n\n\u003ch1 id=\"by-default-the-length-of-a-given-translation-is-limited-to-the-length-of\"\u003eBy default the length of a given translation is limited to the length of\u003c/h1\u003e\n\n\u003ch1 id=\"the-source-string-10-characters-set-this-option-to-false-to-allow-longer\"\u003ethe source string * 10 characters. Set this option to False to allow longer\u003c/h1\u003e\n\n\u003ch1 id=\"translations-up-to-10-000-characters\"\u003etranslations (up to 10.000 characters)\u003c/h1\u003e\n\n\u003cp\u003eLIMIT_TRANSLATION_LENGTH_BY_SOURCE_LENGTH = True\u003c/p\u003e\n\n\u003ch1 id=\"use-simple-language-codes-for-default-language-country-combinations\"\u003eUse simple language codes for default language/country combinations\u003c/h1\u003e\n\n\u003cp\u003eSIMPLIFY_LANGUAGES = get_env_bool(\u0026quot;WEBLATE_SIMPLIFY_LANGUAGES\u0026quot;, True)\u003c/p\u003e\n\n\u003ch1 id=\"render-forms-using-bootstrap\"\u003eRender forms using bootstrap\u003c/h1\u003e\n\n\u003cp\u003eCRISPY_TEMPLATE_PACK = \u0026quot;bootstrap3\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"list-of-quality-checks\"\u003eList of quality checks\u003c/h1\u003e\n\n\u003cp\u003eCHECK_LIST = [\u003cbr\u003e\n    \u0026quot;weblate.checks.same.SameCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.BeginNewlineCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndNewlineCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.BeginSpaceCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndSpaceCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.DoubleSpaceCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndStopCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndColonCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndQuestionCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndExclamationCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndEllipsisCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EndSemicolonCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.MaxLengthCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.KashidaCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.PuctuationSpacingCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.PythonFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.PythonBraceFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.PHPFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.CFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.PerlFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.JavaScriptFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.CSharpFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.JavaFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.JavaMessageFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.PercentPlaceholdersCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.I18NextInterpolationCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.ESTemplateLiteralsCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.angularjs.AngularJSInterpolationCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.qt.QtFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.qt.QtPluralCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.ruby.RubyFormatCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.consistency.PluralsCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.consistency.SamePluralsCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.consistency.ConsistencyCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.consistency.TranslatedCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.EscapedNewlineCountingCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.NewLineCountCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.BBCodeCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.chars.ZeroWidthSpaceCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.render.MaxSizeCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.XMLValidityCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.XMLTagsCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.MarkdownRefLinkCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.MarkdownLinkCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.MarkdownSyntaxCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.URLCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.markup.SafeHTMLCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.placeholders.PlaceholderCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.placeholders.RegexCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.duplicate.DuplicateCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.source.OptionalPluralCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.source.EllipsisCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.source.MultipleFailingCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.source.LongUntranslatedCheck\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.checks.format.MultipleUnnamedFormatsCheck\u0026quot;,\u003cbr\u003e\n]\u003cbr\u003e\nmodify_env_list(CHECK_LIST, \u0026quot;CHECK\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"list-of-automatic-fixups\"\u003eList of automatic fixups\u003c/h1\u003e\n\n\u003cp\u003eAUTOFIX_LIST = [\u003cbr\u003e\n    \u0026quot;weblate.trans.autofixes.whitespace.SameBookendingWhitespace\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.trans.autofixes.chars.ReplaceTrailingDotsWithEllipsis\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.trans.autofixes.chars.RemoveZeroSpace\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.trans.autofixes.chars.RemoveControlChars\u0026quot;,\u003cbr\u003e\n]\u003cbr\u003e\nmodify_env_list(AUTOFIX_LIST, \u0026quot;AUTOFIX\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"list-of-enabled-addons\"\u003eList of enabled addons\u003c/h1\u003e\n\n\u003cp\u003eWEBLATE_ADDONS = [\u003cbr\u003e\n    \u0026quot;weblate.addons.gettext.GenerateMoAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.gettext.UpdateLinguasAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.gettext.UpdateConfigureAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.gettext.MsgmergeAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.gettext.GettextCustomizeAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.gettext.GettextAuthorComments\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.cleanup.CleanupAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.consistency.LangaugeConsistencyAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.discovery.DiscoveryAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.flags.SourceEditAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.flags.TargetEditAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.flags.SameEditAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.flags.BulkEditAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.generate.GenerateFileAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.json.JSONCustomizeAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.properties.PropertiesSortAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.git.GitSquashAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.removal.RemoveComments\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.removal.RemoveSuggestions\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.resx.ResxUpdateAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.yaml.YAMLCustomizeAddon\u0026quot;,\u003cbr\u003e\n    \u0026quot;weblate.addons.autotranslate.AutoTranslateAddon\u0026quot;,\u003cbr\u003e\n]\u003cbr\u003e\nmodify_env_list(WEBLATE_ADDONS, \u0026quot;ADDONS\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"e-mail-address-that-error-messages-come-from\"\u003eE-mail address that error messages come from.\u003c/h1\u003e\n\n\u003cp\u003eSERVER_EMAIL = os.environ[\u0026quot;WEBLATE_SERVER_EMAIL\u0026quot;]\u003c/p\u003e\n\n\u003ch1 id=\"default-email-address-to-use-for-various-automated-correspondence-from\"\u003eDefault email address to use for various automated correspondence from\u003c/h1\u003e\n\n\u003ch1 id=\"the-site-managers-used-for-registration-emails\"\u003ethe site managers. Used for registration emails.\u003c/h1\u003e\n\n\u003cp\u003eDEFAULT_FROM_EMAIL = os.environ[\u0026quot;WEBLATE_DEFAULT_FROM_EMAIL\u0026quot;]\u003c/p\u003e\n\n\u003ch1 id=\"list-of-urls-your-site-is-supposed-to-serve\"\u003eList of URLs your site is supposed to serve\u003c/h1\u003e\n\n\u003cp\u003eALLOWED_HOSTS = get_env_list(\u0026quot;WEBLATE_ALLOWED_HOSTS\u0026quot;, [\u0026quot;*\u0026quot;])\u003c/p\u003e\n\n\u003ch1 id=\"extract-redis-password\"\u003eExtract redis password\u003c/h1\u003e\n\n\u003cp\u003eREDIS_PASSWORD = os.environ.get(\u0026quot;REDIS_PASSWORD\u0026quot;, None)\u003cbr\u003e\nREDIS_PROTO = \u0026quot;rediss\u0026quot; if get_env_bool(\u0026quot;REDIS_TLS\u0026quot;, False) else \u0026quot;redis\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"configuration-for-caching\"\u003eConfiguration for caching\u003c/h1\u003e\n\n\u003cp\u003eCACHES = {\u003cbr\u003e\n    \u0026quot;default\u0026quot;: {\u003cbr\u003e\n        \u0026quot;BACKEND\u0026quot;: \u0026quot;django_redis.cache.RedisCache\u0026quot;,\u003cbr\u003e\n        \u0026quot;LOCATION\u0026quot;: \u0026quot;{}://{}:{}/{}\u0026quot;.format(\u003cbr\u003e\n            REDIS_PROTO,\u003cbr\u003e\n            os.environ.get(\u0026quot;REDIS_HOST\u0026quot;, \u0026quot;cache\u0026quot;),\u003cbr\u003e\n            os.environ.get(\u0026quot;REDIS_PORT\u0026quot;, \u0026quot;6379\u0026quot;),\u003cbr\u003e\n            os.environ.get(\u0026quot;REDIS_DB\u0026quot;, \u0026quot;1\u0026quot;),\u003cbr\u003e\n        ),\u003cbr\u003e\n        # If redis is running on same host as Weblate, you might\u003cbr\u003e\n        # want to use unix sockets instead:\u003cbr\u003e\n        # \u0026quot;LOCATION\u0026quot;: \u0026quot;unix:///var/run/redis/redis.sock?db=1\u0026quot;,\u003cbr\u003e\n        \u0026quot;OPTIONS\u0026quot;: {\u003cbr\u003e\n            \u0026quot;CLIENT_CLASS\u0026quot;: \u0026quot;django_redis.client.DefaultClient\u0026quot;,\u003cbr\u003e\n            \u0026quot;PARSER_CLASS\u0026quot;: \u0026quot;redis.connection.HiredisParser\u0026quot;,\u003cbr\u003e\n            \u0026quot;PASSWORD\u0026quot;: REDIS_PASSWORD if REDIS_PASSWORD else None,\u003cbr\u003e\n            \u0026quot;CONNECTION_POOL_KWARGS\u0026quot;: {},\u003cbr\u003e\n        },\u003cbr\u003e\n        \u0026quot;KEY_PREFIX\u0026quot;: \u0026quot;weblate\u0026quot;,\u003cbr\u003e\n    },\u003cbr\u003e\n    \u0026quot;avatar\u0026quot;: {\u003cbr\u003e\n        \u0026quot;BACKEND\u0026quot;: \u0026quot;django.core.cache.backends.filebased.FileBasedCache\u0026quot;,\u003cbr\u003e\n        \u0026quot;LOCATION\u0026quot;: os.path.join(DATA_DIR, \u0026quot;avatar-cache\u0026quot;),\u003cbr\u003e\n        \u0026quot;TIMEOUT\u0026quot;: 86400,\u003cbr\u003e\n        \u0026quot;OPTIONS\u0026quot;: {\u0026quot;MAX_ENTRIES\u0026quot;: 1000},\u003cbr\u003e\n    },\u003cbr\u003e\n}\u003cbr\u003e\nif not get_env_bool(\u0026quot;REDIS_VERIFY_SSL\u0026quot;, True) and REDIS_PROTO == \u0026quot;rediss\u0026quot;:\u003cbr\u003e\n    CACHES[\u0026quot;default\u0026quot;][\u0026quot;OPTIONS\u0026quot;][\u0026quot;CONNECTION_POOL_KWARGS\u0026quot;][\u0026quot;ssl_cert_reqs\u0026quot;] = None\u003c/p\u003e\n\n\u003ch1 id=\"store-sessions-in-cache\"\u003eStore sessions in cache\u003c/h1\u003e\n\n\u003cp\u003eSESSION_ENGINE = \u0026quot;django.contrib.sessions.backends.cache\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"store-messages-in-session\"\u003eStore messages in session\u003c/h1\u003e\n\n\u003cp\u003eMESSAGE_STORAGE = \u0026quot;django.contrib.messages.storage.session.SessionStorage\u0026quot;\u003c/p\u003e\n\n\u003ch1 id=\"rest-framework-settings-for-api\"\u003eREST framework settings for API\u003c/h1\u003e\n\n\u003cp\u003eREST_FRAMEWORK = {\u003cbr\u003e\n    # Use Django\u0026#39;s standard \u003ccode\u003edjango.contrib.auth\u003c/code\u003e permissions,\u003cbr\u003e\n    # or allow read-only access for unauthenticated users.\u003cbr\u003e\n    \u0026quot;DEFAULT_PERMISSION_CLASSES\u0026quot;: [\u003cbr\u003e\n        # Require authentication for login required sites\u003cbr\u003e\n        \u0026quot;rest_framework.permissions.IsAuthenticated\u0026quot;\u003cbr\u003e\n        if REQUIRE_LOGIN\u003cbr\u003e\n        else \u0026quot;rest_framework.permissions.IsAuthenticatedOrReadOnly\u0026quot;\u003cbr\u003e\n    ],\u003cbr\u003e\n    \u0026quot;DEFAULT_AUTHENTICATION_CLASSES\u0026quot;: (\u003cbr\u003e\n        \u0026quot;rest_framework.authentication.TokenAuthentication\u0026quot;,\u003cbr\u003e\n        \u0026quot;weblate.api.authentication.BearerAuthentication\u0026quot;,\u003cbr\u003e\n        \u0026quot;rest_framework.authentication.SessionAuthentication\u0026quot;,\u003cbr\u003e\n    ),\u003cbr\u003e\n    \u0026quot;DEFAULT_THROTTLE_CLASSES\u0026quot;: (\u003cbr\u003e\n        \u0026quot;weblate.api.throttling.UserRateThrottle\u0026quot;,\u003cbr\u003e\n        \u0026quot;weblate.api.throttling.AnonRateThrottle\u0026quot;,\u003cbr\u003e\n    ),\u003cbr\u003e\n    \u0026quot;DEFAULT_THROTTLE_RATES\u0026quot;: {\u0026quot;anon\u0026quot;: \u0026quot;100/day\u0026quot;, \u0026quot;user\u0026quot;: \u0026quot;5000/hour\u0026quot;},\u003cbr\u003e\n    \u0026quot;DEFAULT_PAGINATION_CLASS\u0026quot;: (\u0026quot;rest_framework.pagination.PageNumberPagination\u0026quot;),\u003cbr\u003e\n    \u0026quot;PAGE_SIZE\u0026quot;: 20,\u003cbr\u003e\n    \u0026quot;VIEW_DESCRIPTION_FUNCTION\u0026quot;: \u0026quot;weblate.api.views.get_view_description\u0026quot;,\u003cbr\u003e\n    \u0026quot;UNAUTHENTICATED_USER\u0026quot;: \u0026quot;weblate.auth.models.get_anonymous\u0026quot;,\u003cbr\u003e\n}\u003c/p\u003e\n\n\u003ch1 id=\"fonts-cdn-url\"\u003eFonts CDN URL\u003c/h1\u003e\n\n\u003cp\u003eFONTS_CDN_URL = None\u003c/p\u003e\n\n\u003ch1 id=\"django-compressor-offline-mode\"\u003eDjango compressor offline mode\u003c/h1\u003e\n\n\u003cp\u003eCOMPRESS_OFFLINE = True\u003cbr\u003e\nCOMPRESS_OFFLINE_CONTEXT = [\u003cbr\u003e\n    {\u0026quot;fonts_cdn_url\u0026quot;: FONTS_CDN_URL, \u0026quot;STATIC_URL\u0026quot;: STATIC_URL, \u0026quot;LANGUAGE_BIDI\u0026quot;: True},\u003cbr\u003e\n    {\u0026quot;fonts_cdn_url\u0026quot;: FONTS_CDN_URL, \u0026quot;STATIC_URL\u0026quot;: STATIC_URL, \u0026quot;LANGUAGE_BIDI\u0026quot;: False},\u003cbr\u003e\n]\u003c/p\u003e\n\n\u003ch1 id=\"require-login-for-all-urls\"\u003eRequire login for all URLs\u003c/h1\u003e\n\n\u003cp\u003eif REQUIRE_LOGIN:\u003cbr\u003e\n    LOGIN_REQUIRED_URLS = (r\u0026quot;/(.*)$\u0026quot;,)\u003c/p\u003e\n\n\u003ch1 id=\"in-such-case-you-will-want-to-include-some-of-the-exceptions\"\u003eIn such case you will want to include some of the exceptions\u003c/h1\u003e\n\n\u003cp\u003eLOGIN_REQUIRED_URLS_EXCEPTIONS = get_env_list(\u003cbr\u003e\n    \u0026quot;WEBLATE_LOGIN_REQUIRED_URLS_EXCEPTIONS\u0026quot;,\u003cbr\u003e\n    (\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/accounts/(.\u003cem\u003e)$\u0026quot;,  # Required for login\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/admin/login/(.\u003c/em\u003e)$\u0026quot;,  # Required for admin login\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/static/(.\u003cem\u003e)$\u0026quot;,  # Required for development mode\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/widgets/(.\u003c/em\u003e)$\u0026quot;,  # Allowing public access to widgets\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/data/(.\u003cem\u003e)$\u0026quot;,  # Allowing public access to data exports\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/hooks/(.\u003c/em\u003e)$\u0026quot;,  # Allowing public access to notifications\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/healthz/$\u0026quot;,  # Allowing public access to health check\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/api/(.\u003cem\u003e)$\u0026quot;,  # Allowing access to API\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/js/i18n/$\u0026quot;,  # Javascript localization\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/contact/$\u0026quot;,  # Optional for contact form\u003cbr\u003e\n        rf\u0026quot;{URL_PREFIX}/legal/(.\u003c/em\u003e)$\u0026quot;,  # Optional for legal app\u003cbr\u003e\n    ),\u003cbr\u003e\n)\u003cbr\u003e\nmodify_env_list(LOGIN_REQUIRED_URLS_EXCEPTIONS, \u0026quot;LOGIN_REQUIRED_URLS_EXCEPTIONS\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"email-server\"\u003eEmail server\u003c/h1\u003e\n\n\u003cp\u003eEMAIL_USE_TLS = get_env_bool(\u0026quot;WEBLATE_EMAIL_USE_TLS\u0026quot;, True)\u003cbr\u003e\nEMAIL_USE_SSL = get_env_bool(\u0026quot;WEBLATE_EMAIL_USE_SSL\u0026quot;, False)\u003cbr\u003e\nEMAIL_HOST = os.environ.get(\u0026quot;WEBLATE_EMAIL_HOST\u0026quot;, \u0026quot;localhost\u0026quot;)\u003cbr\u003e\nEMAIL_HOST_USER = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_EMAIL_HOST_USER\u0026quot;, os.environ.get(\u0026quot;WEBLATE_EMAIL_USER\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n)\u003cbr\u003e\nEMAIL_HOST_PASSWORD = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_EMAIL_HOST_PASSWORD\u0026quot;, os.environ.get(\u0026quot;WEBLATE_EMAIL_PASSWORD\u0026quot;, \u0026quot;\u0026quot;)\u003cbr\u003e\n)\u003cbr\u003e\nEMAIL_PORT = int(os.environ.get(\u0026quot;WEBLATE_EMAIL_PORT\u0026quot;, \u0026quot;25\u0026quot;))\u003cbr\u003e\nEMAIL_BACKEND = os.environ.get(\u003cbr\u003e\n    \u0026quot;WEBLATE_EMAIL_BACKEND\u0026quot;, \u0026quot;django.core.mail.backends.smtp.EmailBackend\u0026quot;\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"silence-some-of-the-django-system-checks\"\u003eSilence some of the Django system checks\u003c/h1\u003e\n\n\u003cp\u003eSILENCED_SYSTEM_CHECKS = [\u003cbr\u003e\n    # We have modified django.contrib.auth.middleware.AuthenticationMiddleware\u003cbr\u003e\n    # as weblate.accounts.middleware.AuthenticationMiddleware\u003cbr\u003e\n    \u0026quot;admin.E408\u0026quot;\u003cbr\u003e\n]\u003cbr\u003e\nSILENCED_SYSTEM_CHECKS.extend(get_env_list(\u0026quot;WEBLATE_SILENCED_SYSTEM_CHECKS\u0026quot;))\u003c/p\u003e\n\n\u003ch1 id=\"celery-worker-configuration-for-production\"\u003eCelery worker configuration for production\u003c/h1\u003e\n\n\u003cp\u003eCELERY_TASK_ALWAYS_EAGER = get_env_bool(\u0026quot;WEBLATE_CELERY_EAGER\u0026quot;, False)\u003cbr\u003e\nCELERY_BROKER_URL = \u0026quot;{}://{}{}:{}/{}\u0026quot;.format(\u003cbr\u003e\n    REDIS_PROTO,\u003cbr\u003e\n    \u0026quot;:{}@\u0026quot;.format(REDIS_PASSWORD) if REDIS_PASSWORD else \u0026quot;\u0026quot;,\u003cbr\u003e\n    os.environ.get(\u0026quot;REDIS_HOST\u0026quot;, \u0026quot;cache\u0026quot;),\u003cbr\u003e\n    os.environ.get(\u0026quot;REDIS_PORT\u0026quot;, \u0026quot;6379\u0026quot;),\u003cbr\u003e\n    os.environ.get(\u0026quot;REDIS_DB\u0026quot;, \u0026quot;1\u0026quot;),\u003cbr\u003e\n)\u003cbr\u003e\nif REDIS_PROTO == \u0026quot;rediss\u0026quot;:\u003cbr\u003e\n    CELERY_BROKER_URL = \u0026quot;{}?ssl_cert_reqs={}\u0026quot;.format(\u003cbr\u003e\n        CELERY_BROKER_URL,\u003cbr\u003e\n        \u0026quot;CERT_REQUIRED\u0026quot; if get_env_bool(\u0026quot;REDIS_VERIFY_SSL\u0026quot;, True) else \u0026quot;CERT_NONE\u0026quot;,\u003cbr\u003e\n    )\u003cbr\u003e\nCELERY_RESULT_BACKEND = CELERY_BROKER_URL\u003c/p\u003e\n\n\u003ch1 id=\"celery-settings-it-is-not-recommended-to-change-these\"\u003eCelery settings, it is not recommended to change these\u003c/h1\u003e\n\n\u003cp\u003eCELERY_WORKER_MAX_MEMORY_PER_CHILD = 200000\u003cbr\u003e\nCELERY_BEAT_SCHEDULE_FILENAME = os.path.join(DATA_DIR, \u0026quot;celery\u0026quot;, \u0026quot;beat-schedule\u0026quot;)\u003cbr\u003e\nCELERY_TASK_ROUTES = {\u003cbr\u003e\n    \u0026quot;weblate.trans.tasks.auto_translate\u0026quot;: {\u0026quot;queue\u0026quot;: \u0026quot;translate\u0026quot;},\u003cbr\u003e\n    \u0026quot;weblate.accounts.tasks.notify_*\u0026quot;: {\u0026quot;queue\u0026quot;: \u0026quot;notify\u0026quot;},\u003cbr\u003e\n    \u0026quot;weblate.accounts.tasks.send_mails\u0026quot;: {\u0026quot;queue\u0026quot;: \u0026quot;notify\u0026quot;},\u003cbr\u003e\n    \u0026quot;weblate.utils.tasks.settings_backup\u0026quot;: {\u0026quot;queue\u0026quot;: \u0026quot;backup\u0026quot;},\u003cbr\u003e\n    \u0026quot;weblate.utils.tasks.database_backup\u0026quot;: {\u0026quot;queue\u0026quot;: \u0026quot;backup\u0026quot;},\u003cbr\u003e\n    \u0026quot;weblate.wladmin.tasks.backup\u0026quot;: {\u0026quot;queue\u0026quot;: \u0026quot;backup\u0026quot;},\u003cbr\u003e\n    \u0026quot;weblate.wladmin.tasks.backup_service\u0026quot;: {\u0026quot;queue\u0026quot;: \u0026quot;backup\u0026quot;},\u003cbr\u003e\n}\u003c/p\u003e\n\n\u003ch1 id=\"database-backup-type\"\u003eDatabase backup type\u003c/h1\u003e\n\n\u003cp\u003eDATABASE_BACKUP = os.environ.get(\u0026quot;WEBLATE_DATABASE_BACKUP\u0026quot;, \u0026quot;plain\u0026quot;)\u003c/p\u003e\n\n\u003ch1 id=\"enable-auto-updating\"\u003eEnable auto updating\u003c/h1\u003e\n\n\u003cp\u003eAUTO_UPDATE = get_env_bool(\u0026quot;WEBLATE_AUTO_UPDATE\u0026quot;, False)\u003c/p\u003e\n\n\u003ch1 id=\"default-access-control\"\u003eDefault access control\u003c/h1\u003e\n\n\u003cp\u003eDEFAULT_ACCESS_CONTROL = get_env_int(\u0026quot;WEBLATE_DEFAULT_ACCESS_CONTROL\u0026quot;, 0)\u003c/p\u003e\n\n\u003ch1 id=\"default-access-control\"\u003eDefault access control\u003c/h1\u003e\n\n\u003cp\u003eDEFAULT_RESTRICTED_COMPONENT = get_env_bool(\u003cbr\u003e\n    \u0026quot;WEBLATE_DEFAULT_RESTRICTED_COMPONENT\u0026quot;, False\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"default-translation-propagation\"\u003eDefault translation propagation\u003c/h1\u003e\n\n\u003cp\u003eDEFAULT_TRANSLATION_PROPAGATION = get_env_bool(\u003cbr\u003e\n    \u0026quot;WEBLATE_DEFAULT_TRANSLATION_PROPAGATION\u0026quot;, True\u003cbr\u003e\n)\u003c/p\u003e\n\n\u003ch1 id=\"pgp-commits-signing\"\u003ePGP commits signing\u003c/h1\u003e\n\n\u003cp\u003eWEBLATE_GPG_IDENTITY = os.environ.get(\u0026quot;WEBLATE_GPG_IDENTITY\u0026quot;, None)\u003c/p\u003e\n\n\u003ch1 id=\"third-party-services-integration\"\u003eThird party services integration\u003c/h1\u003e\n\n\u003cp\u003eMATOMO_SITE_ID = os.environ.get(\u0026quot;WEBLATE_MATOMO_SITE_ID\u0026quot;, None)\u003cbr\u003e\nMATOMO_URL = os.environ.get(\u0026quot;WEBLATE_MATOMO_URL\u0026quot;, None)\u003cbr\u003e\nGOOGLE_ANALYTICS_ID = os.environ.get(\u0026quot;WEBLATE_GOOGLE_ANALYTICS_ID\u0026quot;, None)\u003cbr\u003e\nSENTRY_DSN = os.environ.get(\u0026quot;SENTRY_DSN\u0026quot;, None)\u003cbr\u003e\nSENTRY_ENVIRONMENT = os.environ.get(\u0026quot;SENTRY_ENVIRONMENT\u0026quot;, None)\u003cbr\u003e\nAKISMET_API_KEY = os.environ.get(\u0026quot;WEBLATE_AKISMET_API_KEY\u0026quot;, None)\u003c/p\u003e\n\n\u003cp\u003eADDITIONAL_CONFIG = \u0026quot;/app/data/settings-override.py\u0026quot;\u003cbr\u003e\nif os.path.exists(ADDITIONAL_CONFIG):\u003cbr\u003e\n    with open(ADDITIONAL_CONFIG) as handle:\u003cbr\u003e\n        code = compile(handle.read(), ADDITIONAL_CONFIG, \u0026quot;exec\u0026quot;)\u003cbr\u003e\n        exec(code)\u003c/p\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eI didn\u0026#39;t try anything with the secret key, and dont know what access it has, i though it would be a good idea to share this finding with you in case it can be used in a way that i dont know.\u003c/p\u003e\n\n\u003cp\u003eBest Regards\u003c/p\u003e\n","weakness":{"id":33,"name":"Cleartext Storage of Sensitive Information"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2020-08-25T10:46:54.653Z","allow_singular_disclosure_after":-10873561.477093512,"singular_disclosure_allowed":true,"vote_count":14,"voters":["dhakal_bibek","rac_fckscty","zimmer75","sa1tama0","nafisaqil","ihacking","gnixthrone","v13rsba","funnybone","backchod","and 4 more..."],"severity":{"rating":"none","author_type":"Team"},"structured_scope":{"databaseId":173,"asset_type":"SOURCE_CODE","asset_identifier":"https://github.com/WeblateOrg/weblate","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":8750014,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Forgot to add photo.Sorry for that.. ","markdown_message":"\u003cp\u003eForgot to add photo.Sorry for that.. \u003c/p\u003e\n","automated_response":false,"created_at":"2020-07-25T07:16:29.839Z","updated_at":"2020-07-25T07:16:29.839Z","actor":{"username":"nafisaqil","cleared":false,"url":"/nafisaqil","profile_picture_urls":{"medium":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/variants/525cwct2usht83iqw0x8kzeg6zn1/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5?response-content-disposition=inline%3B%20filename%3D%22g3ZUkbe.gif%22%3B%20filename%2A%3DUTF-8%27%27g3ZUkbe.gif\u0026response-content-type=image%2Fgif\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSUJSTWNA%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T071256Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDC4LZo82wc2eCvBFlhjwE027CwJoHB88%2BMK2v03JEf7AIgTsNTuR7XI5zLkpcU%2F192zliPMALv25wXWHyoW56mHW0qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDDQxd6Ep%2FudaJolhjiqRA%2FV9m3Q5qTHiEf%2B0F56QxIa0FX4xcw3kyVQ754zuEWG6%2FFHm5u50c%2FkjIZTK4iokf%2F5bg8%2F9lzPcfaf%2FlyMeeuZQiIR66c8Q0ZynlQYFFg39COCCRcmQH0rk4Py7SioeZK1WX50szdnMCAEBM0%2FYGIJRFlpJYz5%2BF7cuCEDZDVFz70QPaeLM9Aq2Hp0OWlaD%2BlKU2Ya8oXmKGTVLeV6xTf66mRdzvW8I4qKgZpByKnAcip5WWnkttPjUxPiLaEeZ%2BClnUyHZas2bB1iPmPH0rQXcKWbTOq%2BJJm8xX%2FgqtqSgjGTmncJVZJxe0UaRUPXS%2BxPh0KYERT9Te4D5sREOcmaPJ0lojWm5AuNIxK3S30FeTamdldG5jOgcjm7r6e2HjWcB7yfe4%2BCsYd2eVLbbXk95jZRHQohr%2B7Z9YEqq00TUANe07BXm%2FKoAPBMy0bYQHYmVJaGS31XhmN6DRKUn5mwwU6NQ87eIymigu48swQSaSOa0S3Ve15n99tYKCLxw%2FqcLrXK9DmAPRXyB2cTH85tpMJ7Qqv8FOusB0TY7T%2F8PPlS9Pw17cj5sLPnZSdHFb4OJ7xNuArhvZUxC%2FDdQIpfgbN40hDHy3r94ejzq63ULcWroBoxExSJ8F%2BIqLrT2jEE%2BHYV9rJ3uN20mlrWN07M1wfpVQeu7mZyiWu%2BTKEOjyLznji7d3Efn7A1SwzF%2FWi11RcA9%2BGeNTFCiOeyJRV4JWopx6NNi8TVr6hBraJmZeqXIUCIj4yW%2BvdbZ%2F7b%2BDWNq1S8BMna3Htt9r6lmeANRYdDH%2BkiA2F6n7nJrrrNm3hF7NHjHy1GdUin3XffXKseDfHdRNqxNelH1SrChi2zziLtHrQ%3D%3D\u0026X-Amz-Signature=1993ae81ab5da6aedf0d0313cd765ca1f30399bc8eeef5b4dc972b4ad99736a3"},"hackerone_triager":false,"hackerone_employee":null},"attachments":[{"id":922227,"filename":"IMG_20200725_130811.jpg","type":"image/jpeg","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/xsqFCGy9yYZWTTVNohVhwpTb?response-content-disposition=attachment%3B%20filename%3D%22IMG_20200725_130811.jpg%22%3B%20filename%2A%3DUTF-8%27%27IMG_20200725_130811.jpg\u0026response-content-type=image%2Fjpeg\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSUJSTWNA%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T071256Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDC4LZo82wc2eCvBFlhjwE027CwJoHB88%2BMK2v03JEf7AIgTsNTuR7XI5zLkpcU%2F192zliPMALv25wXWHyoW56mHW0qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDDQxd6Ep%2FudaJolhjiqRA%2FV9m3Q5qTHiEf%2B0F56QxIa0FX4xcw3kyVQ754zuEWG6%2FFHm5u50c%2FkjIZTK4iokf%2F5bg8%2F9lzPcfaf%2FlyMeeuZQiIR66c8Q0ZynlQYFFg39COCCRcmQH0rk4Py7SioeZK1WX50szdnMCAEBM0%2FYGIJRFlpJYz5%2BF7cuCEDZDVFz70QPaeLM9Aq2Hp0OWlaD%2BlKU2Ya8oXmKGTVLeV6xTf66mRdzvW8I4qKgZpByKnAcip5WWnkttPjUxPiLaEeZ%2BClnUyHZas2bB1iPmPH0rQXcKWbTOq%2BJJm8xX%2FgqtqSgjGTmncJVZJxe0UaRUPXS%2BxPh0KYERT9Te4D5sREOcmaPJ0lojWm5AuNIxK3S30FeTamdldG5jOgcjm7r6e2HjWcB7yfe4%2BCsYd2eVLbbXk95jZRHQohr%2B7Z9YEqq00TUANe07BXm%2FKoAPBMy0bYQHYmVJaGS31XhmN6DRKUn5mwwU6NQ87eIymigu48swQSaSOa0S3Ve15n99tYKCLxw%2FqcLrXK9DmAPRXyB2cTH85tpMJ7Qqv8FOusB0TY7T%2F8PPlS9Pw17cj5sLPnZSdHFb4OJ7xNuArhvZUxC%2FDdQIpfgbN40hDHy3r94ejzq63ULcWroBoxExSJ8F%2BIqLrT2jEE%2BHYV9rJ3uN20mlrWN07M1wfpVQeu7mZyiWu%2BTKEOjyLznji7d3Efn7A1SwzF%2FWi11RcA9%2BGeNTFCiOeyJRV4JWopx6NNi8TVr6hBraJmZeqXIUCIj4yW%2BvdbZ%2F7b%2BDWNq1S8BMna3Htt9r6lmeANRYdDH%2BkiA2F6n7nJrrrNm3hF7NHjHy1GdUin3XffXKseDfHdRNqxNelH1SrChi2zziLtHrQ%3D%3D\u0026X-Amz-Signature=0b8d794b4c2926b1a6af9fa405b8b662fe4639e39ba53f12ec938d8a21d00d04"}],"genius_execution_id":null,"team_handle":"weblate","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8756571,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-26T10:43:14.074Z","updated_at":"2020-07-26T10:43:14.074Z","additional_data":{"old_severity":"High","new_severity":"None","old_severity_id":799230,"new_severity_id":800012},"actor":{"username":"nijel","cleared":false,"url":"/nijel","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/153/118/21d9e64f7cd44782a2ec35d76eaebf9294308c83_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"weblate","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8756586,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Thanks for pointing this out. This is legacy code which should not be used for about four years. Since https://github.com/WeblateOrg/docker/commit/868b10e3 the file is present in the container and Weblate uses that, so the Except clause should never be executed.\n\nI've removed the code completely just now: https://github.com/WeblateOrg/weblate/commit/650edebc98afd03d094fb901d72b31708eda7fc3","markdown_message":"\u003cp\u003eThanks for pointing this out. This is legacy code which should not be used for about four years. Since \u003ca title=\"https://github.com/WeblateOrg/docker/commit/868b10e3\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FWeblateOrg%2Fdocker%2Fcommit%2F868b10e3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/WeblateOrg/docker/commit/868b10e3\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e the file is present in the container and Weblate uses that, so the Except clause should never be executed.\u003c/p\u003e\n\n\u003cp\u003eI\u0026#39;ve removed the code completely just now: \u003ca title=\"https://github.com/WeblateOrg/weblate/commit/650edebc98afd03d094fb901d72b31708eda7fc3\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FWeblateOrg%2Fweblate%2Fcommit%2F650edebc98afd03d094fb901d72b31708eda7fc3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/WeblateOrg/weblate/commit/650edebc98afd03d094fb901d72b31708eda7fc3\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2020-07-26T10:46:44.888Z","updated_at":"2020-07-26T10:46:44.888Z","actor":{"username":"nijel","cleared":false,"url":"/nijel","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/153/118/21d9e64f7cd44782a2ec35d76eaebf9294308c83_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"reporter":{"username":"nafisaqil","url":"/nafisaqil"},"genius_execution_id":null,"team_handle":"weblate","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8756588,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-26T10:46:54.595Z","updated_at":"2020-07-26T10:46:54.595Z","first_to_agree":true,"actor":{"username":"nijel","cleared":false,"url":"/nijel","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/153/118/21d9e64f7cd44782a2ec35d76eaebf9294308c83_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"weblate","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8756685,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-26T11:24:11.418Z","updated_at":"2020-07-26T11:24:11.418Z","actor":{"username":"nafisaqil","cleared":false,"url":"/nafisaqil","profile_picture_urls":{"medium":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/variants/525cwct2usht83iqw0x8kzeg6zn1/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5?response-content-disposition=inline%3B%20filename%3D%22g3ZUkbe.gif%22%3B%20filename%2A%3DUTF-8%27%27g3ZUkbe.gif\u0026response-content-type=image%2Fgif\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSUJSTWNA%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T071256Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDC4LZo82wc2eCvBFlhjwE027CwJoHB88%2BMK2v03JEf7AIgTsNTuR7XI5zLkpcU%2F192zliPMALv25wXWHyoW56mHW0qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDDQxd6Ep%2FudaJolhjiqRA%2FV9m3Q5qTHiEf%2B0F56QxIa0FX4xcw3kyVQ754zuEWG6%2FFHm5u50c%2FkjIZTK4iokf%2F5bg8%2F9lzPcfaf%2FlyMeeuZQiIR66c8Q0ZynlQYFFg39COCCRcmQH0rk4Py7SioeZK1WX50szdnMCAEBM0%2FYGIJRFlpJYz5%2BF7cuCEDZDVFz70QPaeLM9Aq2Hp0OWlaD%2BlKU2Ya8oXmKGTVLeV6xTf66mRdzvW8I4qKgZpByKnAcip5WWnkttPjUxPiLaEeZ%2BClnUyHZas2bB1iPmPH0rQXcKWbTOq%2BJJm8xX%2FgqtqSgjGTmncJVZJxe0UaRUPXS%2BxPh0KYERT9Te4D5sREOcmaPJ0lojWm5AuNIxK3S30FeTamdldG5jOgcjm7r6e2HjWcB7yfe4%2BCsYd2eVLbbXk95jZRHQohr%2B7Z9YEqq00TUANe07BXm%2FKoAPBMy0bYQHYmVJaGS31XhmN6DRKUn5mwwU6NQ87eIymigu48swQSaSOa0S3Ve15n99tYKCLxw%2FqcLrXK9DmAPRXyB2cTH85tpMJ7Qqv8FOusB0TY7T%2F8PPlS9Pw17cj5sLPnZSdHFb4OJ7xNuArhvZUxC%2FDdQIpfgbN40hDHy3r94ejzq63ULcWroBoxExSJ8F%2BIqLrT2jEE%2BHYV9rJ3uN20mlrWN07M1wfpVQeu7mZyiWu%2BTKEOjyLznji7d3Efn7A1SwzF%2FWi11RcA9%2BGeNTFCiOeyJRV4JWopx6NNi8TVr6hBraJmZeqXIUCIj4yW%2BvdbZ%2F7b%2BDWNq1S8BMna3Htt9r6lmeANRYdDH%2BkiA2F6n7nJrrrNm3hF7NHjHy1GdUin3XffXKseDfHdRNqxNelH1SrChi2zziLtHrQ%3D%3D\u0026X-Amz-Signature=1993ae81ab5da6aedf0d0313cd765ca1f30399bc8eeef5b4dc972b4ad99736a3"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"weblate","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8756686,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-26T11:24:11.482Z","updated_at":"2020-07-26T11:24:11.482Z","actor":{"username":"nafisaqil","cleared":false,"url":"/nafisaqil","profile_picture_urls":{"medium":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/variants/525cwct2usht83iqw0x8kzeg6zn1/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5?response-content-disposition=inline%3B%20filename%3D%22g3ZUkbe.gif%22%3B%20filename%2A%3DUTF-8%27%27g3ZUkbe.gif\u0026response-content-type=image%2Fgif\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSUJSTWNA%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T071256Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDC4LZo82wc2eCvBFlhjwE027CwJoHB88%2BMK2v03JEf7AIgTsNTuR7XI5zLkpcU%2F192zliPMALv25wXWHyoW56mHW0qtAMIVRABGgwwMTM2MTkyNzQ4NDkiDDQxd6Ep%2FudaJolhjiqRA%2FV9m3Q5qTHiEf%2B0F56QxIa0FX4xcw3kyVQ754zuEWG6%2FFHm5u50c%2FkjIZTK4iokf%2F5bg8%2F9lzPcfaf%2FlyMeeuZQiIR66c8Q0ZynlQYFFg39COCCRcmQH0rk4Py7SioeZK1WX50szdnMCAEBM0%2FYGIJRFlpJYz5%2BF7cuCEDZDVFz70QPaeLM9Aq2Hp0OWlaD%2BlKU2Ya8oXmKGTVLeV6xTf66mRdzvW8I4qKgZpByKnAcip5WWnkttPjUxPiLaEeZ%2BClnUyHZas2bB1iPmPH0rQXcKWbTOq%2BJJm8xX%2FgqtqSgjGTmncJVZJxe0UaRUPXS%2BxPh0KYERT9Te4D5sREOcmaPJ0lojWm5AuNIxK3S30FeTamdldG5jOgcjm7r6e2HjWcB7yfe4%2BCsYd2eVLbbXk95jZRHQohr%2B7Z9YEqq00TUANe07BXm%2FKoAPBMy0bYQHYmVJaGS31XhmN6DRKUn5mwwU6NQ87eIymigu48swQSaSOa0S3Ve15n99tYKCLxw%2FqcLrXK9DmAPRXyB2cTH85tpMJ7Qqv8FOusB0TY7T%2F8PPlS9Pw17cj5sLPnZSdHFb4OJ7xNuArhvZUxC%2FDdQIpfgbN40hDHy3r94ejzq63ULcWroBoxExSJ8F%2BIqLrT2jEE%2BHYV9rJ3uN20mlrWN07M1wfpVQeu7mZyiWu%2BTKEOjyLznji7d3Efn7A1SwzF%2FWi11RcA9%2BGeNTFCiOeyJRV4JWopx6NNi8TVr6hBraJmZeqXIUCIj4yW%2BvdbZ%2F7b%2BDWNq1S8BMna3Htt9r6lmeANRYdDH%2BkiA2F6n7nJrrrNm3hF7NHjHy1GdUin3XffXKseDfHdRNqxNelH1SrChi2zziLtHrQ%3D%3D\u0026X-Amz-Signature=1993ae81ab5da6aedf0d0313cd765ca1f30399bc8eeef5b4dc972b4ad99736a3"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"weblate","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}