{"id":181212,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xODEyMTI=","url":"https://hackerone.com/reports/181212","title":"Missing GIT tag/commit verification in Docker","state":"Closed","substate":"informative","readable_substate":"Informative","created_at":"2016-11-09T23:19:24.673Z","submitted_at":"2016-11-09T23:19:24.673Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"e3amn2l","url":"/e3amn2l","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":8539,"url":"https://hackerone.com/paragonie","handle":"paragonie","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/008/539/72f76fed45e5220b47ba2f679371ebf9ccb19c70_original./3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/008/539/72f76fed45e5220b47ba2f679371ebf9ccb19c70_original./eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Paragon Initiative Enterprises","twitter_handle":"ParagonIE","website":"https://github.com/paragonie","about":"Cryptography and Application Security Consultants - We Produce Various Open Source Libraries"}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2016-11-09T23:45:20.349Z","bug_reporter_agreed_on_going_public_at":null,"team_member_agreed_on_going_public_at":"2016-11-09T23:45:13.987Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"in:\nhttps://github.com/paragonie/airship/blob/master/docker/Dockerfile.airship#L14-L16\n```\nRUN git clone https://github.com/jedisct1/libsodium.git /tmp/sodium\nWORKDIR /tmp/sodium\nRUN git checkout tags/1.0.10\n```\n\nThe code is fetched from Github without one of:\n1\\. signature verification on relevant tag. (GPG)\n2\\. specific commit. (SHA checksum)\nmore information about this issue:\nhttps://www.qubes-os.org/doc/verifying-signatures/#verifying-qubes-code\n\nfix: (implement 1 and/or 2)\n\n1. verify GPG signature \n\tuse:\n\t\t```\n\t\tgit tag -v \u003ctag name\u003e\n\t\t```\n\tto ensure the tag is signed.\n\t\t\n\tNote: the tags in:\n\thttps://github.com/jedisct1/libsodium/tags\n\tare signed, thus it's possible to implement this verification.\n\n2. checkout known commit, such as:\n```\ngit checkout fce6852d64339efa33c0ee4130b3107b888d6067\n```\nfce6852d64339efa33c0ee4130b3107b888d6067 is commit for tag 1.0.10 https://github.com/jedisct1/libsodium/commit/fce6852d64339efa33c0ee4130b3107b888d6067\n\nImportant note: The above operations need to be checked for errors (abort the script/don't proceed if error occurs)","vulnerability_information_html":"\u003cp\u003ein:\u003cbr\u003e\n\u003ca title=\"https://github.com/paragonie/airship/blob/master/docker/Dockerfile.airship#L14-L16\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fparagonie%2Fairship%2Fblob%2Fmaster%2Fdocker%2FDockerfile.airship%23L14-L16\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/paragonie/airship/blob/master/docker/Dockerfile.airship#L14-L16\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eRUN git clone https://github.com/jedisct1/libsodium.git /tmp/sodium\nWORKDIR /tmp/sodium\nRUN git checkout tags/1.0.10\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe code is fetched from Github without one of:\u003cbr\u003e\n1. signature verification on relevant tag. (GPG)\u003cbr\u003e\n2. specific commit. (SHA checksum)\u003cbr\u003e\nmore information about this issue:\u003cbr\u003e\n\u003ca title=\"https://www.qubes-os.org/doc/verifying-signatures/#verifying-qubes-code\" href=\"/redirect?url=https%3A%2F%2Fwww.qubes-os.org%2Fdoc%2Fverifying-signatures%2F%23verifying-qubes-code\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://www.qubes-os.org/doc/verifying-signatures/#verifying-qubes-code\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003efix: (implement 1 and/or 2)\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003everify GPG signature \u003cbr\u003e\nuse:\u003cbr\u003e\n    \u003ccode\u003e\u003cbr\u003e\n    git tag -v \u0026lt;tag name\u0026gt;\u003cbr\u003e\n\u003c/code\u003e\u003cbr\u003e\nto ensure the tag is signed.\u003c/p\u003e\n\n\u003cp\u003eNote: the tags in:\u003cbr\u003e\n\u003ca title=\"https://github.com/jedisct1/libsodium/tags\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fjedisct1%2Flibsodium%2Ftags\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/jedisct1/libsodium/tags\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\nare signed, thus it\u0026#39;s possible to implement this verification.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003echeckout known commit, such as:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003egit checkout fce6852d64339efa33c0ee4130b3107b888d6067\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003efce6852d64339efa33c0ee4130b3107b888d6067 is commit for tag 1.0.10 \u003ca title=\"https://github.com/jedisct1/libsodium/commit/fce6852d64339efa33c0ee4130b3107b888d6067\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fjedisct1%2Flibsodium%2Fcommit%2Ffce6852d64339efa33c0ee4130b3107b888d6067\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/jedisct1/libsodium/commit/fce6852d64339efa33c0ee4130b3107b888d6067\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eImportant note: The above operations need to be checked for errors (abort the script/don\u0026#39;t proceed if error occurs)\u003c/p\u003e\n","original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":null,"vote_count":0,"voters":[],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1292448,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Similar code exists in below installation instructions:\nhttps://github.com/paragonie/airship-docs/blob/master/en-us/01-intro/2-Installing.md#\n```\nNext, you will need to [install libsodium and ext/sodium](https://paragonie.com/book/pecl-libsodium/read/00-intro.md#installing-libsodium).\nSomething like these commands ought to do the trick.\n\n    git clone https://github.com/jedisct1/libsodium.git\n    cd libsodium\n    git checkout tags/1.0.10\n```","markdown_message":"\u003cp\u003eSimilar code exists in below installation instructions:\u003cbr\u003e\n\u003ca title=\"https://github.com/paragonie/airship-docs/blob/master/en-us/01-intro/2-Installing.md\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fparagonie%2Fairship-docs%2Fblob%2Fmaster%2Fen-us%2F01-intro%2F2-Installing.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/paragonie/airship-docs/blob/master/en-us/01-intro/2-Installing.md\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eNext, you will need to [install libsodium and ext/sodium](https://paragonie.com/book/pecl-libsodium/read/00-intro.md#installing-libsodium).\nSomething like these commands ought to do the trick.\n\n    git clone https://github.com/jedisct1/libsodium.git\n    cd libsodium\n    git checkout tags/1.0.10\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","automated_response":false,"created_at":"2016-11-09T23:44:59.337Z","updated_at":"2016-11-09T23:44:59.337Z","actor":{"username":"e3amn2l","cleared":false,"url":"/e3amn2l","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"paragonie","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1292449,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"Thanks for the report. I'm going to publish this under full disclosure and forward it to the community members who contributed the Dockerfile. We don't use Docker in-house and that was contributed to make it easier for developers who already use Docker to experiment with Airship. It's not part of our offering to the community.","markdown_message":"\u003cp\u003eThanks for the report. I\u0026#39;m going to publish this under full disclosure and forward it to the community members who contributed the Dockerfile. We don\u0026#39;t use Docker in-house and that was contributed to make it easier for developers who already use Docker to experiment with Airship. It\u0026#39;s not part of our offering to the community.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-11-09T23:45:09.137Z","updated_at":"2016-11-09T23:45:09.137Z","actor":{"username":"paragonie-scott","cleared":false,"url":"/paragonie-scott","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/441/089de22b2f1b80a1e57a2792318dede5cbad81db_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"paragonie","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1292450,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-11-09T23:45:14.285Z","updated_at":"2016-11-09T23:45:14.285Z","first_to_agree":true,"actor":{"username":"paragonie-scott","cleared":false,"url":"/paragonie-scott","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/441/089de22b2f1b80a1e57a2792318dede5cbad81db_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"paragonie","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1292452,"is_internal":false,"editable":false,"type":"Activities::ManuallyDisclosed","message":"","markdown_message":"","automated_response":false,"created_at":"2016-11-09T23:45:20.335Z","updated_at":"2016-11-09T23:45:20.335Z","actor":{"username":"paragonie-scott","cleared":false,"url":"/paragonie-scott","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/441/089de22b2f1b80a1e57a2792318dede5cbad81db_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"paragonie","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1292498,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"The Dockerfile.airship located under:\nhttps://github.com/paragonie/airship\nwhich is in scope according to program guidelines. \n```\nWe're only interested in the source repositories in the ParagonIE organization on Github that have at least seen a version 1.0.0 stable release, not any repositories we forked (which we usually only do when fixing a security vulnerability in the upstream repository).\n```\ncan you modify the scope to be more accurate/specific? (excluding everything related to Docker/other stuff which is not part of your offerings?)","markdown_message":"\u003cp\u003eThe Dockerfile.airship located under:\u003cbr\u003e\n\u003ca title=\"https://github.com/paragonie/airship\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fparagonie%2Fairship\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/paragonie/airship\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\nwhich is in scope according to program guidelines. \u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eWe\u0026#39;re only interested in the source repositories in the ParagonIE organization on Github that have at least seen a version 1.0.0 stable release, not any repositories we forked (which we usually only do when fixing a security vulnerability in the upstream repository).\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003ecan you modify the scope to be more accurate/specific? (excluding everything related to Docker/other stuff which is not part of your offerings?)\u003c/p\u003e\n","automated_response":false,"created_at":"2016-11-10T00:19:17.726Z","updated_at":"2016-11-10T00:19:17.726Z","actor":{"username":"e3amn2l","cleared":false,"url":"/e3amn2l","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"paragonie","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1292515,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Sure, that was written before Airship had a Dockerfile.","markdown_message":"\u003cp\u003eSure, that was written before Airship had a Dockerfile.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-11-10T00:32:17.870Z","updated_at":"2016-11-10T00:32:17.870Z","actor":{"username":"paragonie-scott","cleared":false,"url":"/paragonie-scott","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/441/089de22b2f1b80a1e57a2792318dede5cbad81db_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"paragonie","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1357382,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"The \"Installing Airship\" document mention 2 installation modes:\n1\\. docker installation, fixed by (reported in first comment):\nhttps://github.com/paragonie/airship/commit/2826ad5febfc2d17f1b06cafef15fa083f5bd76f\n2\\. manual installation, which contain vulnerable instructions (see second comment) **which still not fixed.**","markdown_message":"\u003cp\u003eThe \u0026quot;Installing Airship\u0026quot; document mention 2 installation modes:\u003cbr\u003e\n1. docker installation, fixed by (reported in first comment):\u003cbr\u003e\n\u003ca title=\"https://github.com/paragonie/airship/commit/2826ad5febfc2d17f1b06cafef15fa083f5bd76f\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fparagonie%2Fairship%2Fcommit%2F2826ad5febfc2d17f1b06cafef15fa083f5bd76f\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/paragonie/airship/commit/2826ad5febfc2d17f1b06cafef15fa083f5bd76f\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\n2. manual installation, which contain vulnerable instructions (see second comment) \u003cstrong\u003ewhich still not fixed.\u003c/strong\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2016-12-11T19:28:32.347Z","updated_at":"2016-12-11T19:28:32.347Z","actor":{"username":"e3amn2l","cleared":false,"url":"/e3amn2l","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"paragonie","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}