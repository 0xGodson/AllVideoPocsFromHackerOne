{"id":319279,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8zMTkyNzk=","url":"https://hackerone.com/reports/319279","title":"[critical] sql injection by GET method","state":"Closed","substate":"resolved","severity_rating":"high","readable_substate":"Resolved","created_at":"2018-02-24T01:24:25.947Z","submitted_at":"2018-02-24T01:24:25.947Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"securitygab","url":"/securitygab","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/132/955/de4a33817d0f77cb65be7ac0ef90a966bc9ef476_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":134,"url":"https://hackerone.com/khanacademy","handle":"khanacademy","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/134/e62a822e39ad039f23a0b89bfaaaf7bf97c5f11f_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/134/e62a822e39ad039f23a0b89bfaaaf7bf97c5f11f_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Khan Academy","twitter_handle":"","website":"https://www.khanacademy.org/","about":"Start learning now. Completely free, forever."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2018-03-06T18:16:20.077Z","bug_reporter_agreed_on_going_public_at":"2018-02-28T00:43:23.536Z","team_member_agreed_on_going_public_at":"2018-03-06T18:16:19.891Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hey there, after tampering a bit with the values, since I figured out your backend is not php (most likely django or nodejs), I found an SQL injection .\nYou can view my steps to reproduce, if you need additional screenshots, please let me know.\nRegards Gabriel Kimiaie\n\n## Impact\n\nIf I dig deeper, I may be able to read datas from your database, hopefully I won't do it.\n\nThe hacker selected the **SQL Injection** weakness. This vulnerability type requires contextual information from the hacker. They provided the following answers:\n\n**Verified**\nYes\n\n**What exploitation technique did you utilize?**\nBoolean\n\n**Please describe the results of your verification attempt.**\nAfter submitting a single quote, I got the 500 error. after few steps, I got rid of the 500 error by forging a valid sql query which is as follows:\nhttps://www.khanacademy.org/translations/videos/en'%20or'1'=='1_youtube_stats.csv \nit returns to me all csv since 1 is equal to one\nwhen changing the boolean condition:\nhttps://www.khanacademy.org/translations/videos/en'%20AND'1'=='0_youtube_stats.csv\n(and '1'=='0): only the english csvs are shown.\n\n","vulnerability_information_html":"\u003cp\u003eHey there, after tampering a bit with the values, since I figured out your backend is not php (most likely django or nodejs), I found an SQL injection .\u003cbr\u003e\nYou can view my steps to reproduce, if you need additional screenshots, please let me know.\u003cbr\u003e\nRegards Gabriel Kimiaie\u003c/p\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eIf I dig deeper, I may be able to read datas from your database, hopefully I won\u0026#39;t do it.\u003c/p\u003e\n\n\u003cp\u003eThe hacker selected the \u003cstrong\u003eSQL Injection\u003c/strong\u003e weakness. This vulnerability type requires contextual information from the hacker. They provided the following answers:\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eVerified\u003c/strong\u003e\u003cbr\u003e\nYes\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eWhat exploitation technique did you utilize?\u003c/strong\u003e\u003cbr\u003e\nBoolean\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003ePlease describe the results of your verification attempt.\u003c/strong\u003e\u003cbr\u003e\nAfter submitting a single quote, I got the 500 error. after few steps, I got rid of the 500 error by forging a valid sql query which is as follows:\u003cbr\u003e\n\u003ca title=\"https://www.khanacademy.org/translations/videos/en\u0026#39;%20or\u0026#39;1\u0026#39;==\u0026#39;1_youtube_stats.csv\" href=\"/redirect?url=https%3A%2F%2Fwww.khanacademy.org%2Ftranslations%2Fvideos%2Fen%27%2520or%271%27%3D%3D%271_youtube_stats.csv\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://www.khanacademy.org/translations/videos/en\u0026#39;%20or\u0026#39;1\u0026#39;==\u0026#39;1_youtube_stats.csv\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e \u003cbr\u003e\nit returns to me all csv since 1 is equal to one\u003cbr\u003e\nwhen changing the boolean condition:\u003cbr\u003e\n\u003ca title=\"https://www.khanacademy.org/translations/videos/en\u0026#39;%20AND\u0026#39;1\u0026#39;==\u0026#39;0_youtube_stats.csv\" href=\"/redirect?url=https%3A%2F%2Fwww.khanacademy.org%2Ftranslations%2Fvideos%2Fen%27%2520AND%271%27%3D%3D%270_youtube_stats.csv\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://www.khanacademy.org/translations/videos/en\u0026#39;%20AND\u0026#39;1\u0026#39;==\u0026#39;0_youtube_stats.csv\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\n(and \u0026#39;1\u0026#39;==\u0026#39;0): only the english csvs are shown.\u003c/p\u003e\n","weakness":{"id":67,"name":"SQL Injection"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2018-03-30T00:43:23.621Z","allow_singular_disclosure_after":-86849443.25189178,"singular_disclosure_allowed":true,"vote_count":19,"voters":["jokebookservice1","bl4de","w2w","eveeez","booleanaire","cr4xerbik4sh","japz","wragg-s","666reda","codequick","and 9 more..."],"severity":{"rating":"high","score":8.0,"author_type":"User","metrics":{"attack_vector":"network","attack_complexity":"high","privileges_required":"high","user_interaction":"none","scope":"changed","confidentiality":"high","integrity":"high","availability":"high"}},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":2427713,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thanks for the report!  I've made an issue for this in our internal tracker so we can look into doing it; it will be prioritized according to its severity and how difficult it ends up being for us to implement.\n","markdown_message":"\u003cp\u003eThanks for the report!  I\u0026#39;ve made an issue for this in our internal tracker so we can look into doing it; it will be prioritized according to its severity and how difficult it ends up being for us to implement.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-24T02:27:19.826Z","updated_at":"2018-02-24T02:27:19.826Z","actor":{"username":"amos","cleared":false,"url":"/amos","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2436549,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks, this should now be fixed – can you confirm? Now if you try to do a SQL injection on that route, it won't get recognized and does a redirect to another page, which doesn't end up working because of the strange input.\n\nIf you send me your Khan Academy account email or username I'd be happy to give you our [Friendly Hacker](https://www.khanacademy.org/badges/friendly-hacker) badge.","markdown_message":"\u003cp\u003eThanks, this should now be fixed – can you confirm? Now if you try to do a SQL injection on that route, it won\u0026#39;t get recognized and does a redirect to another page, which doesn\u0026#39;t end up working because of the strange input.\u003c/p\u003e\n\n\u003cp\u003eIf you send me your Khan Academy account email or username I\u0026#39;d be happy to give you our \u003ca href=\"/redirect?url=https%3A%2F%2Fwww.khanacademy.org%2Fbadges%2Ffriendly-hacker\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003eFriendly Hacker\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e badge.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-26T22:36:46.757Z","updated_at":"2018-02-26T22:36:46.757Z","actor":{"username":"drosile","cleared":false,"url":"/drosile","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/Q4ceVVjALdR4FtiZDBdehawK/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2439322,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hello, I confirm the SQL injection isn't exploitable anymore. my username on Khanacademy is mirage355ak, I just created this account and I'm thanksful regarding your proposition. Regards, Gabriel","markdown_message":"\u003cp\u003eHello, I confirm the SQL injection isn\u0026#39;t exploitable anymore. my username on Khanacademy is mirage355ak, I just created this account and I\u0026#39;m thanksful regarding your proposition. Regards, Gabriel\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-27T16:56:48.008Z","updated_at":"2018-02-27T16:56:48.008Z","actor":{"username":"securitygab","cleared":false,"url":"/securitygab","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/132/955/de4a33817d0f77cb65be7ac0ef90a966bc9ef476_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2439351,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks, the badge should be added to your account today!","markdown_message":"\u003cp\u003eThanks, the badge should be added to your account today!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-27T17:06:29.700Z","updated_at":"2018-02-27T17:06:29.700Z","actor":{"username":"benkraftka","cleared":false,"url":"/benkraftka","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/044/789/4822709cf4ea46d7303ac6bb829a3cfb083ab085_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2439390,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks ! Shall we close as resolved and disclose ? Many thanks and regards :)","markdown_message":"\u003cp\u003eThanks ! Shall we close as resolved and disclose ? Many thanks and regards :)\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-27T17:11:47.375Z","updated_at":"2018-02-27T17:11:47.375Z","actor":{"username":"securitygab","cleared":false,"url":"/securitygab","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/132/955/de4a33817d0f77cb65be7ac0ef90a966bc9ef476_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2440847,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Any update on this ? Kind regards","markdown_message":"\u003cp\u003eAny update on this ? Kind regards\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-28T00:35:30.867Z","updated_at":"2018-02-28T00:35:30.867Z","actor":{"username":"securitygab","cleared":false,"url":"/securitygab","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/132/955/de4a33817d0f77cb65be7ac0ef90a966bc9ef476_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2440851,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Oops, I think Dave forgot to mark as resolved :-) .","markdown_message":"\u003cp\u003eOops, I think Dave forgot to mark as resolved :-) .\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-28T00:37:40.596Z","updated_at":"2018-02-28T00:37:40.596Z","actor":{"username":"benkraftka","cleared":false,"url":"/benkraftka","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/044/789/4822709cf4ea46d7303ac6bb829a3cfb083ab085_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"securitygab","url":"/securitygab"},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2440856,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"Thanks, would happy if we could disclose publicy, have a nice day :)","markdown_message":"\u003cp\u003eThanks, would happy if we could disclose publicy, have a nice day :)\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-28T00:43:23.563Z","updated_at":"2018-02-28T00:43:23.563Z","first_to_agree":true,"actor":{"username":"securitygab","cleared":false,"url":"/securitygab","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/132/955/de4a33817d0f77cb65be7ac0ef90a966bc9ef476_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2440874,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Actaully, I want to wait on this a few days so I can check if this endpoint is even supposed to be publicly accessible.  Will get back to you as soon as possible!","markdown_message":"\u003cp\u003eActaully, I want to wait on this a few days so I can check if this endpoint is even supposed to be publicly accessible.  Will get back to you as soon as possible!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-02-28T00:57:42.005Z","updated_at":"2018-02-28T00:57:42.005Z","actor":{"username":"benkraftka","cleared":false,"url":"/benkraftka","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/044/789/4822709cf4ea46d7303ac6bb829a3cfb083ab085_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2464993,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"Looks like that's ok, so fine to disclose!","markdown_message":"\u003cp\u003eLooks like that\u0026#39;s ok, so fine to disclose!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-03-06T18:16:19.935Z","updated_at":"2018-03-06T18:16:19.935Z","actor":{"username":"benkraftka","cleared":false,"url":"/benkraftka","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/044/789/4822709cf4ea46d7303ac6bb829a3cfb083ab085_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2464994,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2018-03-06T18:16:20.108Z","updated_at":"2018-03-06T18:16:20.108Z","actor":{"username":"benkraftka","cleared":false,"url":"/benkraftka","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/044/789/4822709cf4ea46d7303ac6bb829a3cfb083ab085_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}