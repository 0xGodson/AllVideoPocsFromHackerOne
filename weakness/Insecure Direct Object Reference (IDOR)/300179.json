{"id":300179,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8zMDAxNzk=","url":"https://hackerone.com/reports/300179","title":"User uploaded portfolio files can be accessed by any user even after deleted","state":"Closed","substate":"resolved","severity_rating":"low","readable_substate":"Resolved","created_at":"2017-12-23T08:01:43.798Z","submitted_at":"2017-12-23T08:01:43.798Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"tolo7010","url":"/tolo7010","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/137/533/339f440fdc61b6dfeb663c8216d249618b8fd451_original.gif/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":true,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":48,"url":"https://hackerone.com/mavenlink","handle":"mavenlink","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/048/f0b795a31dcd39219030322524224cd0b61cc45e_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/048/f0b795a31dcd39219030322524224cd0b61cc45e_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"paused","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Mavenlink","twitter_handle":"","website":"https://www.mavenlink.com","about":"Mavenlink provides sophisticated software and services to help organizations conduct business online, improve productivity, and grow profitably."}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2019-02-27T23:40:35.604Z","bug_reporter_agreed_on_going_public_at":"2019-01-28T23:40:34.091Z","team_member_agreed_on_going_public_at":null,"comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Reproduction:\n=========\n\n1. Login as a user, e.g: user1\n2. Create a portfolio by going to https://app.mavenlink.com/users/1234567-user1/work_samples/new\nnote: replace 1234567-user1 with the actual user id/name endpoint.\n3. Uploading any file to the new portfolio and click save. On the right side of profile info, you will see the created portfolio with attached file,\n4. Click on the file, notic the link is https://app.mavenlink.com/attachments/xxxxxxxx Where xxxxxxxx is the file ID in 8 number lenght.\n5. Copy the file link and open it in other browser with different login user, e.g: user2, you will see the file is accessible.\n6. On user1, delete the file/portfolio.\n7. The link is still accessible,\n\nThis is my uploaded portfolio file: https://app.mavenlink.com/attachments/79279255 (I've delete all the portfolio on the web interface),\n\nRecommend fix:\n- Provide mechanism to check if the uploaded file link is associated with coresponding account.\n- Delete the uploaded file (in AWS?) with portfolio as user desired.\n\n## Impact\n\nAs user profile and portfolio (with files) can only seen if the user is in the same team/group, otherwise the information should be private, as going throgh any profile link (https://app.mavenlink.com/profiles/[user-id]) getting \"Private Profile\" message","vulnerability_information_html":"\u003ch1 id=\"reproduction\"\u003eReproduction:\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003eLogin as a user, e.g: user1\u003c/li\u003e\n\u003cli\u003eCreate a portfolio by going to \u003ca title=\"https://app.mavenlink.com/users/1234567-user1/work_samples/new\" href=\"/redirect?url=https%3A%2F%2Fapp.mavenlink.com%2Fusers%2F1234567-user1%2Fwork_samples%2Fnew\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://app.mavenlink.com/users/1234567-user1/work_samples/new\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\nnote: replace 1234567-user1 with the actual user id/name endpoint.\u003c/li\u003e\n\u003cli\u003eUploading any file to the new portfolio and click save. On the right side of profile info, you will see the created portfolio with attached file,\u003c/li\u003e\n\u003cli\u003eClick on the file, notic the link is \u003ca title=\"https://app.mavenlink.com/attachments/xxxxxxxx\" href=\"/redirect?url=https%3A%2F%2Fapp.mavenlink.com%2Fattachments%2Fxxxxxxxx\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://app.mavenlink.com/attachments/xxxxxxxx\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e Where xxxxxxxx is the file ID in 8 number lenght.\u003c/li\u003e\n\u003cli\u003eCopy the file link and open it in other browser with different login user, e.g: user2, you will see the file is accessible.\u003c/li\u003e\n\u003cli\u003eOn user1, delete the file/portfolio.\u003c/li\u003e\n\u003cli\u003eThe link is still accessible,\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eThis is my uploaded portfolio file: \u003ca title=\"https://app.mavenlink.com/attachments/79279255\" href=\"/redirect?url=https%3A%2F%2Fapp.mavenlink.com%2Fattachments%2F79279255\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://app.mavenlink.com/attachments/79279255\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e (I\u0026#39;ve delete all the portfolio on the web interface),\u003c/p\u003e\n\n\u003cp\u003eRecommend fix:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eProvide mechanism to check if the uploaded file link is associated with coresponding account.\u003c/li\u003e\n\u003cli\u003eDelete the uploaded file (in AWS?) with portfolio as user desired.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eAs user profile and portfolio (with files) can only seen if the user is in the same team/group, otherwise the information should be private, as going throgh any profile link (\u003ca title=\"https://app.mavenlink.com/profiles/%5Buser-id%5D\" href=\"/redirect?url=https%3A%2F%2Fapp.mavenlink.com%2Fprofiles%2F%255Buser-id%255D\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://app.mavenlink.com/profiles/%5Buser-id%5D\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e) getting \u0026quot;Private Profile\u0026quot; message\u003c/p\u003e\n","bounty_amount":"150.0","formatted_bounty":"$150","weakness":{"id":55,"name":"Insecure Direct Object Reference (IDOR)"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2019-02-27T23:40:34.147Z","allow_singular_disclosure_after":-57908883.00293931,"singular_disclosure_allowed":true,"vote_count":34,"voters":["mygf","tolo7010","r3y","apapedulimu","an0nym0us","k_outis","cryptographer","klau5","blackhacker01","skrcprst","and 24 more..."],"severity":{"rating":"low","author_type":"Team"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":2244263,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"@tolo7010,\n\nI've confirmed that there does appear to be a bug associated with deleting attachments. Should be able to crank out a fix soon, stay tuned.\n\nThanks,\nJack","markdown_message":"\u003cp\u003e\u003ca href=\"/tolo7010\"\u003e@tolo7010\u003c/a\u003e,\u003c/p\u003e\n\n\u003cp\u003eI\u0026#39;ve confirmed that there does appear to be a bug associated with deleting attachments. Should be able to crank out a fix soon, stay tuned.\u003c/p\u003e\n\n\u003cp\u003eThanks,\u003cbr\u003e\nJack\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-23T17:14:32.615Z","updated_at":"2017-12-23T17:14:32.615Z","actor":{"username":"jackwilsonv","cleared":false,"url":"/jackwilsonv","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2253018,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2017-12-30T16:03:05.414Z","updated_at":"2017-12-30T16:03:05.414Z","additional_data":{"old_severity":null,"new_severity":"High","old_severity_id":null,"new_severity_id":104783},"actor":{"username":"tolo7010","cleared":true,"url":"/tolo7010","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/137/533/339f440fdc61b6dfeb663c8216d249618b8fd451_original.gif/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2941485,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi, could you please provide me an update on this report (and others which were submitted at about the same time)?","markdown_message":"\u003cp\u003eHi, could you please provide me an update on this report (and others which were submitted at about the same time)?\u003c/p\u003e\n","automated_response":false,"created_at":"2018-06-27T16:07:34.919Z","updated_at":"2018-06-27T16:07:34.919Z","actor":{"username":"tolo7010","cleared":true,"url":"/tolo7010","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/137/533/339f440fdc61b6dfeb663c8216d249618b8fd451_original.gif/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2953402,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Hey @tolo7010,\n\nSorry for the delay on this ticket. This issue should be fixed now. Please confirm.\n\nThanks!\nJack","markdown_message":"\u003cp\u003eHey \u003ca href=\"/tolo7010\"\u003e@tolo7010\u003c/a\u003e,\u003c/p\u003e\n\n\u003cp\u003eSorry for the delay on this ticket. This issue should be fixed now. Please confirm.\u003c/p\u003e\n\n\u003cp\u003eThanks!\u003cbr\u003e\nJack\u003c/p\u003e\n","automated_response":false,"created_at":"2018-06-28T18:25:19.216Z","updated_at":"2018-06-28T18:25:19.216Z","actor":{"username":"jackwilsonv","cleared":false,"url":"/jackwilsonv","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"tolo7010","url":"/tolo7010"},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2954304,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi @jackwilsonv  The reproduction steps no longer work, I can confirm that this is fixed. very good job done!","markdown_message":"\u003cp\u003eHi \u003ca href=\"/jackwilsonv\"\u003e@jackwilsonv\u003c/a\u003e  The reproduction steps no longer work, I can confirm that this is fixed. very good job done!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-06-28T22:59:36.329Z","updated_at":"2018-06-28T22:59:36.329Z","actor":{"username":"tolo7010","cleared":true,"url":"/tolo7010","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/137/533/339f440fdc61b6dfeb663c8216d249618b8fd451_original.gif/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2977178,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"bounty please.","markdown_message":"\u003cp\u003ebounty please.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-07-02T23:28:39.981Z","updated_at":"2018-07-02T23:28:39.981Z","actor":{"username":"tolo7010","cleared":true,"url":"/tolo7010","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/137/533/339f440fdc61b6dfeb663c8216d249618b8fd451_original.gif/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":3019145,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2018-07-09T17:22:15.387Z","updated_at":"2018-07-09T17:22:15.387Z","additional_data":{"old_severity":"High","new_severity":"Low","old_severity_id":104783,"new_severity_id":180915},"actor":{"username":"jackwilsonv","cleared":false,"url":"/jackwilsonv","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":3019152,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"Thanks again!","markdown_message":"\u003cp\u003eThanks again!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-07-09T17:23:37.894Z","updated_at":"2018-07-09T17:23:37.894Z","actor":{"url":"/mavenlink","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/048/f0b795a31dcd39219030322524224cd0b61cc45e_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Mavenlink"}},"bounty_amount":"100.0","bounty_currency":"usd","bonus_amount":"50.0","genius_execution_id":null,"team_handle":"mavenlink","collaborator":{"username":"tolo7010","url":"/tolo7010"},"actor_is_team_member":false,"actor_is_concealed_member":false},{"id":3019180,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks for the bounty and bonus!","markdown_message":"\u003cp\u003eThanks for the bounty and bonus!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-07-09T17:29:53.374Z","updated_at":"2018-07-09T17:29:53.374Z","actor":{"username":"tolo7010","cleared":true,"url":"/tolo7010","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/137/533/339f440fdc61b6dfeb663c8216d249618b8fd451_original.gif/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":4052830,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"To empower our community!","markdown_message":"\u003cp\u003eTo empower our community!\u003c/p\u003e\n","automated_response":false,"created_at":"2019-01-28T23:40:34.110Z","updated_at":"2019-01-28T23:40:34.110Z","first_to_agree":true,"actor":{"username":"tolo7010","cleared":true,"url":"/tolo7010","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/137/533/339f440fdc61b6dfeb663c8216d249618b8fd451_original.gif/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":4226870,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2019-02-27T23:40:35.806Z","updated_at":"2019-02-27T23:40:35.806Z","actor":{"url":"/mavenlink","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/048/f0b795a31dcd39219030322524224cd0b61cc45e_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Mavenlink"}},"genius_execution_id":null,"team_handle":"mavenlink","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}