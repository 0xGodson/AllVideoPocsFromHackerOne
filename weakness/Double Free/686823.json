{"id":686823,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC82ODY4MjM=","url":"https://hackerone.com/reports/686823","title":"krb5: double-free in read_data() after realloc() fail","state":"Closed","substate":"resolved","severity_rating":"medium","readable_substate":"Resolved","created_at":"2019-09-03T11:51:58.974Z","submitted_at":"2019-09-03T11:51:58.974Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"thomas_v","url":"/thomas_v","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":35663,"url":"https://hackerone.com/curl","handle":"curl","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/035/663/2faf4c279d437d64bfda6d23d62ce1833813a4d9_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/035/663/2faf4c279d437d64bfda6d23d62ce1833813a4d9_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"curl","twitter_handle":"","website":"https://curl.se","about":"cURL is a computer software project providing a library and command-line tool for transferring data using various protocols."}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":["CVE-2019-5481"],"singular_disclosure_disabled":false,"disclosed_at":"2020-11-14T15:16:57.952Z","bug_reporter_agreed_on_going_public_at":"2020-11-14T15:16:57.883Z","team_member_agreed_on_going_public_at":"2020-11-05T08:34:35.746Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"## Summary:\nIn 'lib/security.c', there is a double-free of the reference 'buf-\u003edata' on the teardown path if 'Curl_saferealloc()' fails.\n\nAlso, since we read 'len' from the 'fd', the sender might be able to remotely trigger a realloc() failure, and then the double-free, by sending the value 0x7fffffff.\n\nIntroduced by\n0649433da realloc: use Curl_saferealloc to avoid common mistakes\n\n## Steps To Reproduce:\nActual double-free was not reproduced.\nThe realloc failure with particular 'len' value can be reproduced on my 32bits linux machine with following code:\n```C\n#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n\nint main(void)\n{\n    void *ptr = malloc(10);\n    if (!ptr)\n        return -1;\n    int len = 0x7fffffff;\n    void *ptr2 = realloc(ptr, len);\n    if (!ptr2) {\n        printf(\"Triggered realloc failure\\n\");\n        return 0;\n    }\n    return -1;\n}\n```\n\n## Comment:\nAlso checked other occurences of 'Curl_saferealloc()' calls which all seem fine otherwise.\n\n## Impact\n\nDouble-free after a 'realloc()' failure, which could be triggered remotely, depending on the use context of the 'read_data()' function.","vulnerability_information_html":"\u003ch2 id=\"summary\"\u003eSummary:\u003c/h2\u003e\n\n\u003cp\u003eIn \u0026#39;lib/security.c\u0026#39;, there is a double-free of the reference \u0026#39;buf-\u0026gt;data\u0026#39; on the teardown path if \u0026#39;Curl_saferealloc()\u0026#39; fails.\u003c/p\u003e\n\n\u003cp\u003eAlso, since we read \u0026#39;len\u0026#39; from the \u0026#39;fd\u0026#39;, the sender might be able to remotely trigger a realloc() failure, and then the double-free, by sending the value 0x7fffffff.\u003c/p\u003e\n\n\u003cp\u003eIntroduced by\u003cbr\u003e\n0649433da realloc: use Curl_saferealloc to avoid common mistakes\u003c/p\u003e\n\n\u003ch2 id=\"steps-to-reproduce\"\u003eSteps To Reproduce:\u003c/h2\u003e\n\n\u003cp\u003eActual double-free was not reproduced.\u003cbr\u003e\nThe realloc failure with particular \u0026#39;len\u0026#39; value can be reproduced on my 32bits linux machine with following code:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e#include \u0026lt;stdio.h\u0026gt;\n#include \u0026lt;stdlib.h\u0026gt;\n\nint main(void)\n{\n    void *ptr = malloc(10);\n    if (!ptr)\n        return -1;\n    int len = 0x7fffffff;\n    void *ptr2 = realloc(ptr, len);\n    if (!ptr2) {\n        printf(\u0026quot;Triggered realloc failure\\n\u0026quot;);\n        return 0;\n    }\n    return -1;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2 id=\"comment\"\u003eComment:\u003c/h2\u003e\n\n\u003cp\u003eAlso checked other occurences of \u0026#39;Curl_saferealloc()\u0026#39; calls which all seem fine otherwise.\u003c/p\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eDouble-free after a \u0026#39;realloc()\u0026#39; failure, which could be triggered remotely, depending on the use context of the \u0026#39;read_data()\u0026#39; function.\u003c/p\u003e\n","bounty_amount":"200.0","formatted_bounty":"$200","weakness":{"id":49,"name":"Double Free"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2020-12-05T08:34:35.928Z","allow_singular_disclosure_after":-2066618.163625317,"singular_disclosure_allowed":true,"vote_count":6,"voters":["sameerphad72","demonia","cryptographer","joe_glueck","darksider0509","abowalid"],"severity":{"rating":"medium","score":6.3,"author_type":"User","metrics":{"attack_vector":"network","attack_complexity":"low","privileges_required":"low","user_interaction":"required","scope":"unchanged","confidentiality":"none","integrity":"low","availability":"high"}},"structured_scope":{"databaseId":18844,"asset_type":"SOURCE_CODE","asset_identifier":"https://github.com/curl/curl","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":5717843,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Seems accurate, but very hard to actually exploit...","markdown_message":"\u003cp\u003eSeems accurate, but very hard to actually exploit...\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-03T13:00:02.527Z","updated_at":"2019-09-03T13:00:02.527Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5717900,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Proposed fix (updated):\n~~~diff\ndiff --git a/lib/security.c b/lib/security.c\nindex 550ea2da8..c5e4e135d 100644\n--- a/lib/security.c\n+++ b/lib/security.c\n@@ -189,26 +189,24 @@ socket_write(struct connectdata *conn, curl_socket_t fd, const void *to,\n static CURLcode read_data(struct connectdata *conn,\n                           curl_socket_t fd,\n                           struct krb5buffer *buf)\n {\n   int len;\n-  void *tmp = NULL;\n   CURLcode result;\n \n   result = socket_read(fd, \u0026len, sizeof(len));\n   if(result)\n     return result;\n \n   if(len) {\n     /* only realloc if there was a length */\n     len = ntohl(len);\n-    tmp = Curl_saferealloc(buf-\u003edata, len);\n+    buf-\u003edata = Curl_saferealloc(buf-\u003edata, len);\n   }\n-  if(tmp == NULL)\n+  if(!len || !buf-\u003edata)\n     return CURLE_OUT_OF_MEMORY;\n \n-  buf-\u003edata = tmp;\n   result = socket_read(fd, buf-\u003edata, len);\n   if(result)\n     return result;\n   buf-\u003esize = conn-\u003emech-\u003edecode(conn-\u003eapp_data, buf-\u003edata, len,\n                                  conn-\u003edata_prot, conn);\n","markdown_message":"\u003cp\u003eProposed fix (updated):\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight diff\"\u003e\u003ccode\u003e\u003cspan class=\"gh\"\u003ediff --git a/lib/security.c b/lib/security.c\nindex 550ea2da8..c5e4e135d 100644\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e--- a/lib/security.c\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+++ b/lib/security.c\n\u003c/span\u003e\u003cspan class=\"p\"\u003e@@ -189,26 +189,24 @@\u003c/span\u003e socket_write(struct connectdata *conn, curl_socket_t fd, const void *to,\n static CURLcode read_data(struct connectdata *conn,\n                           curl_socket_t fd,\n                           struct krb5buffer *buf)\n {\n   int len;\n\u003cspan class=\"gd\"\u003e-  void *tmp = NULL;\n\u003c/span\u003e   CURLcode result;\n\n   result = socket_read(fd, \u0026amp;len, sizeof(len));\n   if(result)\n     return result;\n\n   if(len) {\n     /* only realloc if there was a length */\n     len = ntohl(len);\n\u003cspan class=\"gd\"\u003e-    tmp = Curl_saferealloc(buf-\u0026gt;data, len);\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+    buf-\u0026gt;data = Curl_saferealloc(buf-\u0026gt;data, len);\n\u003c/span\u003e   }\n\u003cspan class=\"gd\"\u003e-  if(tmp == NULL)\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+  if(!len || !buf-\u0026gt;data)\n\u003c/span\u003e     return CURLE_OUT_OF_MEMORY;\n\n-  buf-\u0026gt;data = tmp;\n   result = socket_read(fd, buf-\u0026gt;data, len);\n   if(result)\n     return result;\n   buf-\u0026gt;size = conn-\u0026gt;mech-\u0026gt;decode(conn-\u0026gt;app_data, buf-\u0026gt;data, len,\n                                  conn-\u0026gt;data_prot, conn);\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","automated_response":false,"created_at":"2019-09-03T13:07:26.756Z","updated_at":"2019-09-03T13:10:14.563Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5717930,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"This piece of code is only used for krb5 auth over FTP (via `CURLOPT_KRBLEVEL`). Very rarely used...","markdown_message":"\u003cp\u003eThis piece of code is only used for krb5 auth over FTP (via \u003ccode\u003eCURLOPT_KRBLEVEL\u003c/code\u003e). Very rarely used...\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-03T13:12:46.283Z","updated_at":"2019-09-03T13:12:46.283Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5720719,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Agree, it might not be widespread, but if a server/client sends the wrong len value, it will directly repro the double-free. The patch is ok.","markdown_message":"\u003cp\u003eAgree, it might not be widespread, but if a server/client sends the wrong len value, it will directly repro the double-free. The patch is ok.\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-03T16:33:31.759Z","updated_at":"2019-09-03T16:33:31.759Z","actor":{"username":"thomas_v","cleared":false,"url":"/thomas_v","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":5725603,"is_internal":false,"editable":false,"type":"Activities::ReportTitleUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2019-09-04T07:42:01.633Z","updated_at":"2019-09-04T07:42:01.633Z","additional_data":{"old_title":"krb5: Potential double-free situation in read_data()","new_title":"krb5: double-free in read_data() after realloc() fail"},"actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5725609,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Verified. Advisory draft coming right up. I'd like to get this fixed and announced in sync with the 7.66.0 release on Sep 11!","markdown_message":"\u003cp\u003eVerified. Advisory draft coming right up. I\u0026#39;d like to get this fixed and announced in sync with the 7.66.0 release on Sep 11!\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-04T07:43:10.103Z","updated_at":"2019-09-04T07:43:10.103Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5725612,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Here's my first attempt at describing this flaw!","markdown_message":"\u003cp\u003eHere\u0026#39;s my first attempt at describing this flaw!\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-04T07:43:57.506Z","updated_at":"2019-09-04T07:43:57.506Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"attachments":[{"id":574429,"filename":"CVE-2019-BBBB.md","type":"text/markdown","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/NEMW4aPCriKZ7x8zyTAhkNwB?response-content-disposition=attachment%3B%20filename%3D%22CVE-2019-BBBB.md%22%3B%20filename%2A%3DUTF-8%27%27CVE-2019-BBBB.md\u0026response-content-type=text%2Fmarkdown\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ2UMPB2FX%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T063814Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEq9neBunEjsdY7f8cNZfYtjkYnfx7sYXIBk82UycrktAiEA5w10R4CJv%2FQIiYTXv1ZP8q%2BbScvvzy7qwcG%2BmPmKCXMqtAMIUxABGgwwMTM2MTkyNzQ4NDkiDKX6CTSGAGf6Bt5yHyqRA9qW1WRQYe7JztYb6rdSeSRyzKgf4LxEu42JMoyPyy0VqqdaIdaW%2F5Oe%2FZcBqKJkPjfrnsLv1E3Cttn6QZ2fsMawdDGLyKyEEvAx6LbD4TYD1QOy0YJIw6j32Nt3V4psvzyU384FsJYLymiqMGAqTzIuUS4QNvTcHn%2BFoOZvS%2F06fP5YWj%2BxpW%2BELDyBb5CFIWqKXYmkW%2BPv4IxFiMVfFF4KM80ZKVGfyJ7nRaRwvjM5YUJYHOlvXjFuPBSC3IYIgEZYlopEqTolZ1OQ2zbi1yDB%2FWl1rx7i7cbCVK6zJwPdLcPRBOa7jlMN0jlHdNPzjyKxdEaNBy7Cyflyw%2FZCl7X1dB7yuSBF8YK2st4h%2FZchseLh%2BjukipjtpVl5nDjO8BSu5evt1V1lFzADomlTKShrSgjmej1gvXmULpbdNuEwc3vMl328MfuwtHHSSvzZo5xxP0U1cq9fhM0Ztcea1ZRpQDZR4DB1jRqdjeMIXNuuwv3G7Uotj1VrvA87zW9Og6gQ9VN7fQSdOpurQFAV2WvRMIuSqv8FOusB%2B%2BEh7xquKUpKrZEfrLl0yLcAZyezk5OlnVLaoE%2BCU7%2F1YWDwq4fJ%2Fzqx58r%2Ffgzx%2FRuGFLAoCPIl7GI47ntqpCuRo5kjknXh3Vhm0Ds%2B9y0Uo9mgVKhl6XjEqADeRJOm5JpIvTZkPibWah%2FFXooiOsIWnpbe3xZbkrh62wdx0iVuonbBNy6Z0vYXXREkzeNyKh%2Fx0i0DwAehfYiLehqkIm1GqvDnaSiQ0dTRzOsrEnXwNhRtDRaBDDLvFXHGy3Xm8ucb70jki0U1otEIUfIG%2Fnfsrs7zhSOcLfi6%2B4aytuy%2FrSFLmVnwIpfIzQ%3D%3D\u0026X-Amz-Signature=3aa2950fd4cdca1f3d33996784bfe419d3f69b9e066d47d88fd4897bf4b0df67"}],"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5725634,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I've requested a CVE","markdown_message":"\u003cp\u003eI\u0026#39;ve requested a CVE\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-04T07:48:14.375Z","updated_at":"2019-09-04T07:48:14.375Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5727414,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Only modified slightly a sentence, since I reproduced the `realloc()` failure with UINT32_MAX on a 64bit machine with more than 40GB of RAM. Feel free to re-edit it if needed. Thanks a lot.","markdown_message":"\u003cp\u003eOnly modified slightly a sentence, since I reproduced the \u003ccode\u003erealloc()\u003c/code\u003e failure with UINT32_MAX on a 64bit machine with more than 40GB of RAM. Feel free to re-edit it if needed. Thanks a lot.\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-04T11:51:25.581Z","updated_at":"2019-09-04T11:51:25.581Z","actor":{"username":"thomas_v","cleared":false,"url":"/thomas_v","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"attachments":[{"id":574595,"filename":"CVE-2019-BBBB.md","type":"text/markdown","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/gmAiCCb7L7K3HeUtco4eUxoM?response-content-disposition=attachment%3B%20filename%3D%22CVE-2019-BBBB.md%22%3B%20filename%2A%3DUTF-8%27%27CVE-2019-BBBB.md\u0026response-content-type=text%2Fmarkdown\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ2UMPB2FX%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T063814Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEq9neBunEjsdY7f8cNZfYtjkYnfx7sYXIBk82UycrktAiEA5w10R4CJv%2FQIiYTXv1ZP8q%2BbScvvzy7qwcG%2BmPmKCXMqtAMIUxABGgwwMTM2MTkyNzQ4NDkiDKX6CTSGAGf6Bt5yHyqRA9qW1WRQYe7JztYb6rdSeSRyzKgf4LxEu42JMoyPyy0VqqdaIdaW%2F5Oe%2FZcBqKJkPjfrnsLv1E3Cttn6QZ2fsMawdDGLyKyEEvAx6LbD4TYD1QOy0YJIw6j32Nt3V4psvzyU384FsJYLymiqMGAqTzIuUS4QNvTcHn%2BFoOZvS%2F06fP5YWj%2BxpW%2BELDyBb5CFIWqKXYmkW%2BPv4IxFiMVfFF4KM80ZKVGfyJ7nRaRwvjM5YUJYHOlvXjFuPBSC3IYIgEZYlopEqTolZ1OQ2zbi1yDB%2FWl1rx7i7cbCVK6zJwPdLcPRBOa7jlMN0jlHdNPzjyKxdEaNBy7Cyflyw%2FZCl7X1dB7yuSBF8YK2st4h%2FZchseLh%2BjukipjtpVl5nDjO8BSu5evt1V1lFzADomlTKShrSgjmej1gvXmULpbdNuEwc3vMl328MfuwtHHSSvzZo5xxP0U1cq9fhM0Ztcea1ZRpQDZR4DB1jRqdjeMIXNuuwv3G7Uotj1VrvA87zW9Og6gQ9VN7fQSdOpurQFAV2WvRMIuSqv8FOusB%2B%2BEh7xquKUpKrZEfrLl0yLcAZyezk5OlnVLaoE%2BCU7%2F1YWDwq4fJ%2Fzqx58r%2Ffgzx%2FRuGFLAoCPIl7GI47ntqpCuRo5kjknXh3Vhm0Ds%2B9y0Uo9mgVKhl6XjEqADeRJOm5JpIvTZkPibWah%2FFXooiOsIWnpbe3xZbkrh62wdx0iVuonbBNy6Z0vYXXREkzeNyKh%2Fx0i0DwAehfYiLehqkIm1GqvDnaSiQ0dTRzOsrEnXwNhRtDRaBDDLvFXHGy3Xm8ucb70jki0U1otEIUfIG%2Fnfsrs7zhSOcLfi6%2B4aytuy%2FrSFLmVnwIpfIzQ%3D%3D\u0026X-Amz-Signature=d70009f604c6747e5c53ec4190573697c6fc366e8944b4a8d56039455a4228a2"}],"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":5727461,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"On my dev machine (32GB ram), I have no problem reallocing UINT32_MAX bytes. Of course there can be several reasons as to why such a huge alloc might fail...\n~~~c\nvoid main()\n{\n  char *val = realloc(NULL, 0xffffffff);\n  printf(\"value: %p\\n\", val);\n}\n","markdown_message":"\u003cp\u003eOn my dev machine (32GB ram), I have no problem reallocing UINT32_MAX bytes. Of course there can be several reasons as to why such a huge alloc might fail...\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight c\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eval\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erealloc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xffffffff\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eprintf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;value: %p\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","automated_response":false,"created_at":"2019-09-04T11:59:31.641Z","updated_at":"2019-09-04T11:59:31.641Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5727499,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I think I saw it failing because the kernel is a 2.6.32, since it is a server distro from 2017. Anyway, I agree with you, with current hardware/software, it will most probably not fail.","markdown_message":"\u003cp\u003eI think I saw it failing because the kernel is a 2.6.32, since it is a server distro from 2017. Anyway, I agree with you, with current hardware/software, it will most probably not fail.\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-04T12:06:43.428Z","updated_at":"2019-09-04T12:06:43.428Z","actor":{"username":"thomas_v","cleared":false,"url":"/thomas_v","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":5734660,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"CVE-2019-5481","markdown_message":"\u003cp\u003eCVE-2019-5481\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-05T05:29:08.723Z","updated_at":"2019-09-05T05:29:08.723Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5734667,"is_internal":false,"editable":false,"type":"Activities::CveIdAdded","message":"","markdown_message":"","automated_response":false,"created_at":"2019-09-05T05:31:00.616Z","updated_at":"2019-09-05T05:31:00.616Z","cve_ids":["CVE-2019-5481"],"actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5734726,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"Thanks for your work. We've decided to reward you 200 USD for this finding.","markdown_message":"\u003cp\u003eThanks for your work. We\u0026#39;ve decided to reward you 200 USD for this finding.\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-05T05:57:29.514Z","updated_at":"2019-09-05T05:57:29.514Z","actor":{"url":"/curl","ibb":true,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/035/663/2faf4c279d437d64bfda6d23d62ce1833813a4d9_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"curl"}},"bounty_amount":"200.0","bounty_currency":"usd","bonus_amount":"0.0","genius_execution_id":null,"team_handle":"curl","collaborator":{"username":"thomas_v","url":"/thomas_v"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":5737259,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks a lot, again, much appreciated.","markdown_message":"\u003cp\u003eThanks a lot, again, much appreciated.\u003c/p\u003e\n","automated_response":false,"created_at":"2019-09-05T10:22:17.528Z","updated_at":"2019-09-05T10:22:17.528Z","actor":{"username":"thomas_v","cleared":false,"url":"/thomas_v","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":5779806,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"","markdown_message":"","automated_response":false,"created_at":"2019-09-11T13:06:20.659Z","updated_at":"2019-09-11T13:06:20.659Z","actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"reporter":{"username":"thomas_v","url":"/thomas_v"},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":9730798,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"I'd like to disclose!","markdown_message":"\u003cp\u003eI\u0026#39;d like to disclose!\u003c/p\u003e\n","automated_response":false,"created_at":"2020-11-05T08:34:35.811Z","updated_at":"2020-11-05T08:34:35.811Z","first_to_agree":true,"actor":{"username":"bagder","cleared":false,"url":"/bagder","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/459/380/963f64725677dda4f5113219588e7d0c1ab9abaa_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":9823296,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-11-14T15:16:57.906Z","updated_at":"2020-11-14T15:16:57.906Z","actor":{"username":"thomas_v","cleared":false,"url":"/thomas_v","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":9823297,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-11-14T15:16:57.976Z","updated_at":"2020-11-14T15:16:57.976Z","actor":{"username":"thomas_v","cleared":false,"url":"/thomas_v","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"curl","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}