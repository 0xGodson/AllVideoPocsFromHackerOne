{"id":403793,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC80MDM3OTM=","url":"https://hackerone.com/reports/403793","title":"Stored 'undefined' Cross-site Scripting","state":"Closed","substate":"informative","severity_rating":"medium","readable_substate":"Informative","created_at":"2018-09-01T10:14:55.867Z","submitted_at":"2018-09-01T10:14:55.867Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"rootbakar___","url":"/rootbakar___","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/284/205/d6a80162d460e2378ea4346e559abbb5cb74e309_original.jpg/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":134,"url":"https://hackerone.com/khanacademy","handle":"khanacademy","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/134/e62a822e39ad039f23a0b89bfaaaf7bf97c5f11f_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/134/e62a822e39ad039f23a0b89bfaaaf7bf97c5f11f_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Khan Academy","twitter_handle":"","website":"https://www.khanacademy.org/","about":"Start learning now. Completely free, forever."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2018-09-05T16:26:12.709Z","bug_reporter_agreed_on_going_public_at":"2018-09-05T16:02:58.071Z","team_member_agreed_on_going_public_at":"2018-09-05T16:26:12.569Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hello KhanAcademy Security Team,\n\nI'm **rootbakar**, I found an XSS bug on 'BIO' in the profile, I used payload XSS **\"/\u003e\u003csvg/on\u003cscript\u003eload=prompt(document.domain);\u003e\"/\u003e\u003csvg/on\u003cscript\u003eload= prompt (document.cookie);\u003e** after I save it appears there is no trigger from the XSS, but when I try to change one of the values in the profile form and when I save it again an XSS trigger appears but with the words '**undefined**'. Every time I want to change both '**REAL NAME**' and '**LOCATION**' and when I press the save button again and after a few seconds an XSS trigger appears with the words '**undefined**'\n\n**PoC**\nThis is Video Link\nhttps://youtu.be/WGeaclSo_5A\n(Not Public Video)\n\nBest Regards,\n\n**RootBakar**\n\n## Impact\n\n**Displayed 'undefined' XSS after user repeated click SAVE button**","vulnerability_information_html":"\u003cp\u003eHello KhanAcademy Security Team,\u003c/p\u003e\n\n\u003cp\u003eI\u0026#39;m \u003cstrong\u003erootbakar\u003c/strong\u003e, I found an XSS bug on \u0026#39;BIO\u0026#39; in the profile, I used payload XSS \u003cstrong\u003e\u0026quot;/\u0026gt;\u0026lt;svg/on\u0026lt;script\u0026gt;load=prompt(document.domain);\u0026gt;\u0026quot;/\u0026gt;\u0026lt;svg/on\u0026lt;script\u0026gt;load= prompt (document.cookie);\u0026gt;\u003c/strong\u003e after I save it appears there is no trigger from the XSS, but when I try to change one of the values in the profile form and when I save it again an XSS trigger appears but with the words \u0026#39;\u003cstrong\u003eundefined\u003c/strong\u003e\u0026#39;. Every time I want to change both \u0026#39;\u003cstrong\u003eREAL NAME\u003c/strong\u003e\u0026#39; and \u0026#39;\u003cstrong\u003eLOCATION\u003c/strong\u003e\u0026#39; and when I press the save button again and after a few seconds an XSS trigger appears with the words \u0026#39;\u003cstrong\u003eundefined\u003c/strong\u003e\u0026#39;\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003ePoC\u003c/strong\u003e\u003cbr\u003e\nThis is Video Link\u003cbr\u003e\n\u003ca title=\"https://youtu.be/WGeaclSo_5A\" href=\"/redirect?url=https%3A%2F%2Fyoutu.be%2FWGeaclSo_5A\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://youtu.be/WGeaclSo_5A\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cbr\u003e\n(Not Public Video)\u003c/p\u003e\n\n\u003cp\u003eBest Regards,\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eRootBakar\u003c/strong\u003e\u003c/p\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003eDisplayed \u0026#39;undefined\u0026#39; XSS after user repeated click SAVE button\u003c/strong\u003e\u003c/p\u003e\n","weakness":{"id":62,"name":"Cross-site Scripting (XSS) - Stored"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":340974,"file_name":"2.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/340/974/e1da5a3f42ce2453b0d6d7b7a74404878044d5cc/2.png?response-content-disposition=attachment%3B%20filename%3D%222.png%22%3B%20filename%2A%3DUTF-8%27%272.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSC5UFWXL%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T055202Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCwK%2B%2BlMufFx2twThN55FpWvSNFMRcTw6DIMXMwu3SRJgIgbfhKiC5W8N8YFQB0Nj1%2Boe6pAlr8Ti%2FvGEEHHH13JNkqtAMIUxABGgwwMTM2MTkyNzQ4NDkiDKRKppBQcflzJsWylyqRAzVMKZ6jWFrSD2Y9kWok2waN0zNoEyuNoms1kUC37gd2cWniMYOCGZa9pHJ%2BTGOcJDE8mr7X3wJV03PeWNx%2FJ3x1t1adSeplF3kKkxVzwMpsJiOYMPMNaXbK6aN%2FVxaTTjwIHJMTw7ej%2BNad1lrBkNYM8xmTFPzJdlIn3krUMQVcm66POZCl3IpgIriUdvRQsdjWZjnf%2FUXejEcDwlys5fmmpAap4FXWkuE4xPD5JITrqd71Zc4guVr49IYqaJ9P8ZOa39l8Cm9yOfvHOdc%2FHHkeb3dhc64lVpxLQxnIzdRkUBVcVDfLrNaCOxpa9K0SDMt9HK%2B6%2F6SozxEKFb7iD2%2BQkM42Rwtm3vBMeKEUDeFG3yO5gW6KJtirosz7Y3m8DdEylt%2F8air6KKuH0wjD%2B9LfO7%2FWKZCn3h7tRVYtr71OXTcV4jMC7Q6El1VpYoy1%2FUyJLt0VlyMhH1u00hOd2Ed613mjv9Lq0b8iTU4W3vlCcM%2FtjGgBfI2lPMbp3cacOsLTQtiqUw%2FMXKZM7aikuuh%2BML6aqv8FOusBAaUZsZRvtcfsxqJAwQO39V21wLoeubOAIV%2BtvLyfXzwltZABeAGkBPYy8xl5ryQb8Y%2BKG%2FfwUfCGsCxtOppNqsZCDg0JzwPVO8CdiGO1QqRKJpkb23agNpWEIAa8FY4BpDjQUZHUIl4jWVfFWH2sizzpICjQxnSI3JQpi2%2B9GAdI3gAmweVyhKgicRGn9QyAfoRtqO3YWntGA8EeCXAhyWW%2BxebF5JNSGoYhvM72O00zG1YKAYz%2F6ymrbrJmLpZ0WbBqG4d2%2BRi9F0TVfiKq0rdWihYUV%2FstwlGLcPIVuYIDnBH4oA5HYk7pFw%3D%3D\u0026X-Amz-Signature=b488df2aa333a453b2c12d30eb2118a4d019a326db5b40e45911977c647ffa6c","file_size":36333,"type":"image/png"},{"id":340975,"file_name":"1.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/340/975/f55469d003a7c1576d10e21211dde20a61d57998/1.png?response-content-disposition=attachment%3B%20filename%3D%221.png%22%3B%20filename%2A%3DUTF-8%27%271.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSC5UFWXL%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T055202Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCwK%2B%2BlMufFx2twThN55FpWvSNFMRcTw6DIMXMwu3SRJgIgbfhKiC5W8N8YFQB0Nj1%2Boe6pAlr8Ti%2FvGEEHHH13JNkqtAMIUxABGgwwMTM2MTkyNzQ4NDkiDKRKppBQcflzJsWylyqRAzVMKZ6jWFrSD2Y9kWok2waN0zNoEyuNoms1kUC37gd2cWniMYOCGZa9pHJ%2BTGOcJDE8mr7X3wJV03PeWNx%2FJ3x1t1adSeplF3kKkxVzwMpsJiOYMPMNaXbK6aN%2FVxaTTjwIHJMTw7ej%2BNad1lrBkNYM8xmTFPzJdlIn3krUMQVcm66POZCl3IpgIriUdvRQsdjWZjnf%2FUXejEcDwlys5fmmpAap4FXWkuE4xPD5JITrqd71Zc4guVr49IYqaJ9P8ZOa39l8Cm9yOfvHOdc%2FHHkeb3dhc64lVpxLQxnIzdRkUBVcVDfLrNaCOxpa9K0SDMt9HK%2B6%2F6SozxEKFb7iD2%2BQkM42Rwtm3vBMeKEUDeFG3yO5gW6KJtirosz7Y3m8DdEylt%2F8air6KKuH0wjD%2B9LfO7%2FWKZCn3h7tRVYtr71OXTcV4jMC7Q6El1VpYoy1%2FUyJLt0VlyMhH1u00hOd2Ed613mjv9Lq0b8iTU4W3vlCcM%2FtjGgBfI2lPMbp3cacOsLTQtiqUw%2FMXKZM7aikuuh%2BML6aqv8FOusBAaUZsZRvtcfsxqJAwQO39V21wLoeubOAIV%2BtvLyfXzwltZABeAGkBPYy8xl5ryQb8Y%2BKG%2FfwUfCGsCxtOppNqsZCDg0JzwPVO8CdiGO1QqRKJpkb23agNpWEIAa8FY4BpDjQUZHUIl4jWVfFWH2sizzpICjQxnSI3JQpi2%2B9GAdI3gAmweVyhKgicRGn9QyAfoRtqO3YWntGA8EeCXAhyWW%2BxebF5JNSGoYhvM72O00zG1YKAYz%2F6ymrbrJmLpZ0WbBqG4d2%2BRi9F0TVfiKq0rdWihYUV%2FstwlGLcPIVuYIDnBH4oA5HYk7pFw%3D%3D\u0026X-Amz-Signature=44dee8dd87bc9d8997be81ec69fddfda6691ac738aa7e0c72dbd226471cdd794","file_size":83663,"type":"image/png"},{"id":340976,"file_name":"3.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/340/976/0d885e7fe61a4b8be090c5f26009d1627c20b45d/3.png?response-content-disposition=attachment%3B%20filename%3D%223.png%22%3B%20filename%2A%3DUTF-8%27%273.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQSC5UFWXL%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T055202Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCwK%2B%2BlMufFx2twThN55FpWvSNFMRcTw6DIMXMwu3SRJgIgbfhKiC5W8N8YFQB0Nj1%2Boe6pAlr8Ti%2FvGEEHHH13JNkqtAMIUxABGgwwMTM2MTkyNzQ4NDkiDKRKppBQcflzJsWylyqRAzVMKZ6jWFrSD2Y9kWok2waN0zNoEyuNoms1kUC37gd2cWniMYOCGZa9pHJ%2BTGOcJDE8mr7X3wJV03PeWNx%2FJ3x1t1adSeplF3kKkxVzwMpsJiOYMPMNaXbK6aN%2FVxaTTjwIHJMTw7ej%2BNad1lrBkNYM8xmTFPzJdlIn3krUMQVcm66POZCl3IpgIriUdvRQsdjWZjnf%2FUXejEcDwlys5fmmpAap4FXWkuE4xPD5JITrqd71Zc4guVr49IYqaJ9P8ZOa39l8Cm9yOfvHOdc%2FHHkeb3dhc64lVpxLQxnIzdRkUBVcVDfLrNaCOxpa9K0SDMt9HK%2B6%2F6SozxEKFb7iD2%2BQkM42Rwtm3vBMeKEUDeFG3yO5gW6KJtirosz7Y3m8DdEylt%2F8air6KKuH0wjD%2B9LfO7%2FWKZCn3h7tRVYtr71OXTcV4jMC7Q6El1VpYoy1%2FUyJLt0VlyMhH1u00hOd2Ed613mjv9Lq0b8iTU4W3vlCcM%2FtjGgBfI2lPMbp3cacOsLTQtiqUw%2FMXKZM7aikuuh%2BML6aqv8FOusBAaUZsZRvtcfsxqJAwQO39V21wLoeubOAIV%2BtvLyfXzwltZABeAGkBPYy8xl5ryQb8Y%2BKG%2FfwUfCGsCxtOppNqsZCDg0JzwPVO8CdiGO1QqRKJpkb23agNpWEIAa8FY4BpDjQUZHUIl4jWVfFWH2sizzpICjQxnSI3JQpi2%2B9GAdI3gAmweVyhKgicRGn9QyAfoRtqO3YWntGA8EeCXAhyWW%2BxebF5JNSGoYhvM72O00zG1YKAYz%2F6ymrbrJmLpZ0WbBqG4d2%2BRi9F0TVfiKq0rdWihYUV%2FstwlGLcPIVuYIDnBH4oA5HYk7pFw%3D%3D\u0026X-Amz-Signature=f1b83bf5661cc7a81f116ad7bf254da6a8db16ed8a4b714969092864639cb056","file_size":105774,"type":"image/png"}],"allow_singular_disclosure_at":null,"vote_count":7,"voters":["eveeez","haxta4ok00","trimatra-sec","cryptographer","0x08","insectbacon","mohamed_salah"],"severity":{"rating":"medium","author_type":"User"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":3287298,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"any update..??","markdown_message":"\u003cp\u003eany update..??\u003c/p\u003e\n","automated_response":false,"created_at":"2018-09-04T03:41:28.289Z","updated_at":"2018-09-04T03:41:28.289Z","actor":{"username":"rootbakar___","cleared":false,"url":"/rootbakar___","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/284/205/d6a80162d460e2378ea4346e559abbb5cb74e309_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":3297172,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"Thanks, that's an interesting bug! We won't classify it as a security issue, since it doesn't impact other users in a negative way, but we appreciate the report! If you can work out a proof-of-concept that would impact other users visiting your profile, please let me know!\n\nbest,\nDave","markdown_message":"\u003cp\u003eThanks, that\u0026#39;s an interesting bug! We won\u0026#39;t classify it as a security issue, since it doesn\u0026#39;t impact other users in a negative way, but we appreciate the report! If you can work out a proof-of-concept that would impact other users visiting your profile, please let me know!\u003c/p\u003e\n\n\u003cp\u003ebest,\u003cbr\u003e\nDave\u003c/p\u003e\n","automated_response":false,"created_at":"2018-09-05T15:12:30.271Z","updated_at":"2018-09-05T15:12:30.271Z","actor":{"username":"drosile","cleared":false,"url":"/drosile","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/Q4ceVVjALdR4FtiZDBdehawK/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":3297441,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"Ok mr. @drosile ..\n\ncan i request this report for public diclosure..??","markdown_message":"\u003cp\u003eOk mr. \u003ca href=\"/drosile\"\u003e@drosile\u003c/a\u003e ..\u003c/p\u003e\n\n\u003cp\u003ecan i request this report for public diclosure..??\u003c/p\u003e\n","automated_response":false,"created_at":"2018-09-05T16:02:58.112Z","updated_at":"2018-09-05T16:02:58.112Z","first_to_agree":true,"actor":{"username":"rootbakar___","cleared":false,"url":"/rootbakar___","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/284/205/d6a80162d460e2378ea4346e559abbb5cb74e309_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":3297545,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2018-09-05T16:26:12.631Z","updated_at":"2018-09-05T16:26:12.631Z","actor":{"username":"drosile","cleared":false,"url":"/drosile","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/Q4ceVVjALdR4FtiZDBdehawK/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":3297546,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2018-09-05T16:26:12.759Z","updated_at":"2018-09-05T16:26:12.759Z","actor":{"username":"drosile","cleared":false,"url":"/drosile","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/Q4ceVVjALdR4FtiZDBdehawK/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"khanacademy","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}