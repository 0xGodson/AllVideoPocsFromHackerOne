{"id":54610,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC81NDYxMA==","url":"https://hackerone.com/reports/54610","title":"Logout any user of same team","state":"Closed","substate":"resolved","readable_substate":"Resolved","created_at":"2015-04-03T06:32:13.344Z","submitted_at":"2015-04-03T06:32:13.344Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"oldusername","url":"/oldusername","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":69,"url":"https://hackerone.com/slack","handle":"slack","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Slack","twitter_handle":"slackhq","website":"https://slack.com","about":"All your team communication in one place, instantly searchable, and available wherever you go."}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2015-05-05T05:59:54.329Z","bug_reporter_agreed_on_going_public_at":"2015-04-05T05:59:44.434Z","team_member_agreed_on_going_public_at":null,"comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"It is possible for a user to logout other member of same team even if they had selected *Keep me signed in* option.\r\n\r\n**Steps to Verify:**\r\n1. Login to your team i.e [https://yourteamname.slack.com](https://yourteamname.slack.com).\r\n2. On new tab on the same browser request a url which would be like [https://yourteamname.slack.reset/youareloggedout](https://yourteamname.slack.reset/youareloggedout)\r\n3. You will be automatically logged out of your account even if you have selected **Keep me signed in** option.\r\n\r\nAttacker can embed the invalid password reset link in a image tag in a website of his/her control and when users visists the page they will be logged out.\r\n\r\n`\u003chtml\u003e\r\n\u003chead\u003e\r\n\t\u003ctitle\u003eI Logged You Out\u003c/title\u003e\r\n\u003c/head\u003e\r\n\u003cbody\u003e\r\n\u003cimg src='https://yourteamname.slack.com/reset/youareloggedout'\u003e\r\n\u003c/body\u003e\r\n\u003c/html\u003e`\r\n\r\nYou should not logout a user when an invalid password reset link is accessed rather than you should redirect a user to homepage whenever a password reset link is accessed when user is allready logged in.\r\n\r\nThanks\r\n**Uttam Soren**","vulnerability_information_html":"\u003cp\u003eIt is possible for a user to logout other member of same team even if they had selected \u003cem\u003eKeep me signed in\u003c/em\u003e option.\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eSteps to Verify:\u003c/strong\u003e\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eLogin to your team i.e \u003ca href=\"/redirect?url=https%3A%2F%2Fyourteamname.slack.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://yourteamname.slack.com\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eOn new tab on the same browser request a url which would be like \u003ca href=\"/redirect?url=https%3A%2F%2Fyourteamname.slack.reset%2Fyouareloggedout\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://yourteamname.slack.reset/youareloggedout\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003eYou will be automatically logged out of your account even if you have selected \u003cstrong\u003eKeep me signed in\u003c/strong\u003e option.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eAttacker can embed the invalid password reset link in a image tag in a website of his/her control and when users visists the page they will be logged out.\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003e\u0026lt;html\u0026gt;\u003cbr\u003e\n\u0026lt;head\u0026gt;\u003cbr\u003e\n    \u0026lt;title\u0026gt;I Logged You Out\u0026lt;/title\u0026gt;\u003cbr\u003e\n\u0026lt;/head\u0026gt;\u003cbr\u003e\n\u0026lt;body\u0026gt;\u003cbr\u003e\n\u0026lt;img src=\u0026#39;https://yourteamname.slack.com/reset/youareloggedout\u0026#39;\u0026gt;\u003cbr\u003e\n\u0026lt;/body\u0026gt;\u003cbr\u003e\n\u0026lt;/html\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eYou should not logout a user when an invalid password reset link is accessed rather than you should redirect a user to homepage whenever a password reset link is accessed when user is allready logged in.\u003c/p\u003e\n\n\u003cp\u003eThanks\u003cbr\u003e\n\u003cstrong\u003eUttam Soren\u003c/strong\u003e\u003c/p\u003e\n","bounty_amount":"100.0","formatted_bounty":"$100","weakness":{"id":45,"name":"Cross-Site Request Forgery (CSRF)"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2015-05-05T05:59:45.916Z","allow_singular_disclosure_after":-178417238.00417718,"singular_disclosure_allowed":true,"vote_count":0,"voters":[],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":371075,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"","markdown_message":"","automated_response":false,"created_at":"2015-04-03T18:05:15.828Z","updated_at":"2015-04-03T18:05:15.828Z","actor":{"username":"bugtriage-josh","cleared":false,"url":"/bugtriage-josh","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":372202,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"**New Attack scenario \u0026 its critical**\nA user (Attacker) can restrict all the other users of  same team to access their account i.e. they will never be able to remain looged in. Whenever a user will login then after login users will be suddenly automatically logged out of their account.\n\nVictims will not have to visit any other malicious website containg the above html code because attacker can use https://teamname.slack.com/files/create/post to embed the above url which is being used to logout users.\n\n**Steps to Verify:**\n1. Login to your slack team and navigate to https://teamname.slack.com/files/create/post.\n2. Give any title to the post.\n3. Input ![image title](https://teamname.slack.com/reset/youareloggedout) and save \u0026 publish the post.\n4. Now login from another account and click on the post above created. Opening this post will log you out of your account.\n\nNow whenever you login to that account after loged in you will be imediately logged out of your account as the malicious post will be remain open in the Flexpane and will trigger the logout. And actually now you will never be able to login to that account.\n\nI thinks now its not only a simple Logout issue but now its becomes more severe as attacker can restrict all the other users of same team to able to login to their account for forever.\n\nAnd kindly fix this soon because now I am not able to login to my own account.\n\nThanks\n**Uttam Soren**","markdown_message":"\u003cp\u003e\u003cstrong\u003eNew Attack scenario \u0026amp; its critical\u003c/strong\u003e\u003cbr\u003e\nA user (Attacker) can restrict all the other users of  same team to access their account i.e. they will never be able to remain looged in. Whenever a user will login then after login users will be suddenly automatically logged out of their account.\u003c/p\u003e\n\n\u003cp\u003eVictims will not have to visit any other malicious website containg the above html code because attacker can use \u003ca title=\"https://teamname.slack.com/files/create/post\" href=\"/redirect?url=https%3A%2F%2Fteamname.slack.com%2Ffiles%2Fcreate%2Fpost\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://teamname.slack.com/files/create/post\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e to embed the above url which is being used to logout users.\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eSteps to Verify:\u003c/strong\u003e\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eLogin to your slack team and navigate to \u003ca title=\"https://teamname.slack.com/files/create/post\" href=\"/redirect?url=https%3A%2F%2Fteamname.slack.com%2Ffiles%2Fcreate%2Fpost\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://teamname.slack.com/files/create/post\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eGive any title to the post.\u003c/li\u003e\n\u003cli\u003eInput ![image title](\u003ca title=\"https://teamname.slack.com/reset/youareloggedout\" href=\"/redirect?url=https%3A%2F%2Fteamname.slack.com%2Freset%2Fyouareloggedout\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://teamname.slack.com/reset/youareloggedout\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e) and save \u0026amp; publish the post.\u003c/li\u003e\n\u003cli\u003eNow login from another account and click on the post above created. Opening this post will log you out of your account.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eNow whenever you login to that account after loged in you will be imediately logged out of your account as the malicious post will be remain open in the Flexpane and will trigger the logout. And actually now you will never be able to login to that account.\u003c/p\u003e\n\n\u003cp\u003eI thinks now its not only a simple Logout issue but now its becomes more severe as attacker can restrict all the other users of same team to able to login to their account for forever.\u003c/p\u003e\n\n\u003cp\u003eAnd kindly fix this soon because now I am not able to login to my own account.\u003c/p\u003e\n\n\u003cp\u003eThanks\u003cbr\u003e\n\u003cstrong\u003eUttam Soren\u003c/strong\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2015-04-04T09:49:45.368Z","updated_at":"2015-04-04T10:02:27.562Z","actor":{"username":"oldusername","cleared":false,"url":"/oldusername","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":372425,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Thanks for the detailed report - a fix for this issue has now been released.","markdown_message":"\u003cp\u003eThanks for the detailed report - a fix for this issue has now been released.\u003c/p\u003e\n","automated_response":false,"created_at":"2015-04-04T21:12:03.686Z","updated_at":"2015-04-04T21:12:03.686Z","actor":{"username":"iamcal","cleared":false,"url":"/iamcal","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/138/0e164dd6477c48d57f2f5a1c56756f7ec98229cf_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"oldusername","url":"/oldusername"},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":372426,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"","markdown_message":"","automated_response":false,"created_at":"2015-04-04T21:12:11.031Z","updated_at":"2015-04-04T21:12:11.031Z","actor":{"url":"/slack","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Slack"}},"bounty_amount":"100.0","bounty_currency":"usd","genius_execution_id":null,"team_handle":"slack","collaborator":{"username":"oldusername","url":"/oldusername"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":372516,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-04-05T05:59:44.546Z","updated_at":"2015-04-05T05:59:44.546Z","first_to_agree":true,"actor":{"username":"oldusername","cleared":false,"url":"/oldusername","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":401930,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-05-05T05:59:54.732Z","updated_at":"2015-05-05T05:59:54.732Z","actor":{"url":"/slack","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Slack"}},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}