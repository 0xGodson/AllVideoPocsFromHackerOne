{"id":151459,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xNTE0NTk=","url":"https://hackerone.com/reports/151459","title":"Creating Post on a restricted channel","state":"Closed","substate":"resolved","readable_substate":"Resolved","created_at":"2016-07-15T06:44:55.717Z","submitted_at":"2016-07-15T06:44:55.717Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"thisishrsh","url":"/thisishrsh","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/076/795/544bcd2b850f01c27c2140b866a3e989bd84dfb8_original.PNG/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":69,"url":"https://hackerone.com/slack","handle":"slack","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Slack","twitter_handle":"slackhq","website":"https://slack.com","about":"All your team communication in one place, instantly searchable, and available wherever you go."}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2016-09-29T08:34:46.538Z","bug_reporter_agreed_on_going_public_at":"2016-08-30T08:34:37.329Z","team_member_agreed_on_going_public_at":null,"comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hi,\n\nI would like to report a privilege escalation issue in which a member of the team is able to create a post on a channel even if the permission to do so is denied to him by the admin.After the admin has limited the number of users who can post to a specific public channel,an unauthorized user who does not have sufficient authority to post anything on it is able to create the post based on commands available to him.I have attached a POC for further clarification.\n\nThe admin in this case has denied the team members from creating any posts on the general channel.\nIn order to bypass this restriction,login as a team member, and create a command post on any channel and intercept the request. Modify the request by changing the channel ID( replace it with the channel ID of general ) and send the request.\nWe get the success message and on the channel also we can see that the post has been created.\n\nSteps to reproduce:\n1.Login as team member.\n2.Create a command post on any public channel.\n3.Intercept the request.\n4.Replace the channel ID in the request with the one of general channel.\n\nLet me know if any other help is needed.\n\nThanks,\nHarsh.","vulnerability_information_html":"\u003cp\u003eHi,\u003c/p\u003e\n\n\u003cp\u003eI would like to report a privilege escalation issue in which a member of the team is able to create a post on a channel even if the permission to do so is denied to him by the admin.After the admin has limited the number of users who can post to a specific public channel,an unauthorized user who does not have sufficient authority to post anything on it is able to create the post based on commands available to him.I have attached a POC for further clarification.\u003c/p\u003e\n\n\u003cp\u003eThe admin in this case has denied the team members from creating any posts on the general channel.\u003cbr\u003e\nIn order to bypass this restriction,login as a team member, and create a command post on any channel and intercept the request. Modify the request by changing the channel ID( replace it with the channel ID of general ) and send the request.\u003cbr\u003e\nWe get the success message and on the channel also we can see that the post has been created.\u003c/p\u003e\n\n\u003cp\u003eSteps to reproduce:\u003cbr\u003e\n1.Login as team member.\u003cbr\u003e\n2.Create a command post on any public channel.\u003cbr\u003e\n3.Intercept the request.\u003cbr\u003e\n4.Replace the channel ID in the request with the one of general channel.\u003c/p\u003e\n\n\u003cp\u003eLet me know if any other help is needed.\u003c/p\u003e\n\n\u003cp\u003eThanks,\u003cbr\u003e\nHarsh.\u003c/p\u003e\n","bounty_amount":"500.0","formatted_bounty":"$500","weakness":{"id":75,"name":"Privilege Escalation"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":105044,"file_name":"Privilege_Escalation_Slack.mp4","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/105/044/2ba5f029d3342182632ec5edee2406b8f4067693/Privilege_Escalation_Slack.mp4?response-content-disposition=attachment%3B%20filename%3D%22Privilege_Escalation_Slack.mp4%22%3B%20filename%2A%3DUTF-8%27%27Privilege_Escalation_Slack.mp4\u0026response-content-type=video%2Fmp4\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQVBWWKZ4H%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T043317Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCmEbZvVQ%2FI1GHRJjrhZK2Y6zh4lCWK725%2FwOpNu%2BnZkAIhAIZlqGHog%2B4PZMdnvhSU5APZbycPDz1wpNXbi5uE94ueKrQDCFUQARoMMDEzNjE5Mjc0ODQ5IgxU5AAHhqo1cPAzbTcqkQOGB5pEHXl6QCBCTSHUmyd%2FF8M3rpTqzp%2BOigrWU%2BrXYHZYm%2BGDawsiXhnqeD9o8Qw0b%2Fr0efVbRmhj5baoPrxgSiY%2B9zsreR3qClZZKnS0%2Brs8OqiMGd3clBbyfOxw2fa2vgQglV4dLF6EXSiGfxOms8eWdw%2F8mPtc81dMxDIlxTs50KUnd6aUjgG5BJs2k%2FL0rOKXYBS%2FdVqIQdN8JcCKMvqDv0u7pvSGEecQXa7pGdf07ufO02E64eU0OnaTeNyoq7WlZzT%2FGyvHjVtIvbXdPW15pwZm2Q4u8%2FW7ksSv4%2BxsESWLLCop0OeGUhtIppCDQlaMPC9JTj0HYKbMEGmZagmLfgHX4DKRg75%2FLNQViGcE%2FRCCaMxd6wrsv0dlz4dekjWvp4mXzLFkuKBM6c%2F%2BAemkmkgOJKnp%2FJUV1zJTe%2BO14GyIigsvxJqvrnKvkmsUrYwar1bX%2Be7UkqGzVbMAlsbRDNIOok7bVRXerhpXnbqFQsLWlqe%2BNfa4gSSfmgu4iIjCRRMdTWsvy2NQHfTsGjDAzar%2FBTrqAcniMm3eG7%2BxDZb9XVqMyQiSNyiuBD8pwO78bO8T3Uu8vSI3S05C6UCutmNkOnjR9D2NZaOgbFO4YujbW%2FY0mhhdjSppvg%2Bzdgu0AfZOou0DDwqm4vwEc0ekiNYUD6KHvD5tZwOaalihV5dSfbzoDyvfsJI6x7RYpBZmwPcshKw3Csz0uZew1JqrbUJVmc9v6q0aXols8bxyDKKPfp6siyzKhHELgTS3XGskds%2BWx5FaWemc%2Bo8QqyIuoOtWjmUwF39ydFOfg%2FyeKdwBxELGLKCSN8MyV6ov7IBrib4UiM%2F6l36ymDoHIX8ohg%3D%3D\u0026X-Amz-Signature=71b1910579bf9cc396f8d6b99ff68573199f97160e0bcb951c6ed29010d0d272","file_size":3364980,"type":"video/mp4"}],"allow_singular_disclosure_at":"2016-09-29T08:34:37.625Z","allow_singular_disclosure_after":-134078319.96886986,"singular_disclosure_allowed":true,"vote_count":9,"voters":["derision","thisishrsh","eveeez","albatraoz","jens","nigba","dyabla","sajjadkazmi","murthy68"],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1076907,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"Thank you for your report.\n\nFrom your video, it appears that you are running the command, `/gif`, which is part of the 3rd party application, \"[Gif Keyboard](https://jweltteam.slack.com/apps/A0FLZ2GVB-gif-keyboard)\".  Please remember that Slack doesn't certify 3rd party apps that may integrate with Slack, as stated on the app page:\n \n\u003e\"Slack conducts a brief review of apps in our app directory and does not endorse or certify these apps.\"\n\nThis command would not have been available to team members originally.  In order for a team member to use this command within their Slack team, the team owner would have had to approve the installation of this app.\n\nAre you able to perform this action without using a 3rd party app?\n\nThanks, and good luck with your future bug hunting.","markdown_message":"\u003cp\u003eThank you for your report.\u003c/p\u003e\n\n\u003cp\u003eFrom your video, it appears that you are running the command, \u003ccode\u003e/gif\u003c/code\u003e, which is part of the 3rd party application, \u0026quot;\u003ca href=\"/redirect?url=https%3A%2F%2Fjweltteam.slack.com%2Fapps%2FA0FLZ2GVB-gif-keyboard\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003eGif Keyboard\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u0026quot;.  Please remember that Slack doesn\u0026#39;t certify 3rd party apps that may integrate with Slack, as stated on the app page:\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u0026quot;Slack conducts a brief review of apps in our app directory and does not endorse or certify these apps.\u0026quot;\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eThis command would not have been available to team members originally.  In order for a team member to use this command within their Slack team, the team owner would have had to approve the installation of this app.\u003c/p\u003e\n\n\u003cp\u003eAre you able to perform this action without using a 3rd party app?\u003c/p\u003e\n\n\u003cp\u003eThanks, and good luck with your future bug hunting.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-07-19T21:40:50.166Z","updated_at":"2016-07-19T21:40:50.166Z","actor":{"username":"bugtriage-josh","cleared":false,"url":"/bugtriage-josh","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":1077120,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"I'm able to perform this action even without using the 3rd party app commands.The commands which are made available by slack by default can be used to create the post.I have attached another POC in which i have used ' /me ' command to post on the restricted channel.","markdown_message":"\u003cp\u003eI\u0026#39;m able to perform this action even without using the 3rd party app commands.The commands which are made available by slack by default can be used to create the post.I have attached another POC in which i have used \u0026#39; /me \u0026#39; command to post on the restricted channel.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-07-20T00:30:31.639Z","updated_at":"2016-07-20T00:30:31.639Z","actor":{"username":"thisishrsh","cleared":false,"url":"/thisishrsh","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/076/795/544bcd2b850f01c27c2140b866a3e989bd84dfb8_original.PNG/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"attachments":[{"id":105955,"filename":"new_slack.mp4","type":"video/mp4","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/105/955/4e73d33914c5ab5d4dc1bb8a10f096a022d73540/new_slack.mp4?response-content-disposition=attachment%3B%20filename%3D%22new_slack.mp4%22%3B%20filename%2A%3DUTF-8%27%27new_slack.mp4\u0026response-content-type=video%2Fmp4\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQVBWWKZ4H%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T043317Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCmEbZvVQ%2FI1GHRJjrhZK2Y6zh4lCWK725%2FwOpNu%2BnZkAIhAIZlqGHog%2B4PZMdnvhSU5APZbycPDz1wpNXbi5uE94ueKrQDCFUQARoMMDEzNjE5Mjc0ODQ5IgxU5AAHhqo1cPAzbTcqkQOGB5pEHXl6QCBCTSHUmyd%2FF8M3rpTqzp%2BOigrWU%2BrXYHZYm%2BGDawsiXhnqeD9o8Qw0b%2Fr0efVbRmhj5baoPrxgSiY%2B9zsreR3qClZZKnS0%2Brs8OqiMGd3clBbyfOxw2fa2vgQglV4dLF6EXSiGfxOms8eWdw%2F8mPtc81dMxDIlxTs50KUnd6aUjgG5BJs2k%2FL0rOKXYBS%2FdVqIQdN8JcCKMvqDv0u7pvSGEecQXa7pGdf07ufO02E64eU0OnaTeNyoq7WlZzT%2FGyvHjVtIvbXdPW15pwZm2Q4u8%2FW7ksSv4%2BxsESWLLCop0OeGUhtIppCDQlaMPC9JTj0HYKbMEGmZagmLfgHX4DKRg75%2FLNQViGcE%2FRCCaMxd6wrsv0dlz4dekjWvp4mXzLFkuKBM6c%2F%2BAemkmkgOJKnp%2FJUV1zJTe%2BO14GyIigsvxJqvrnKvkmsUrYwar1bX%2Be7UkqGzVbMAlsbRDNIOok7bVRXerhpXnbqFQsLWlqe%2BNfa4gSSfmgu4iIjCRRMdTWsvy2NQHfTsGjDAzar%2FBTrqAcniMm3eG7%2BxDZb9XVqMyQiSNyiuBD8pwO78bO8T3Uu8vSI3S05C6UCutmNkOnjR9D2NZaOgbFO4YujbW%2FY0mhhdjSppvg%2Bzdgu0AfZOou0DDwqm4vwEc0ekiNYUD6KHvD5tZwOaalihV5dSfbzoDyvfsJI6x7RYpBZmwPcshKw3Csz0uZew1JqrbUJVmc9v6q0aXols8bxyDKKPfp6siyzKhHELgTS3XGskds%2BWx5FaWemc%2Bo8QqyIuoOtWjmUwF39ydFOfg%2FyeKdwBxELGLKCSN8MyV6ov7IBrib4UiM%2F6l36ymDoHIX8ohg%3D%3D\u0026X-Amz-Signature=126edf1aed6927c3ababc86537b6ea95190e7e492cc67d16b81b91a2411f32b8"}],"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1079087,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thanks @thisishrsh! Triaged.","markdown_message":"\u003cp\u003eThanks \u003ca href=\"/thisishrsh\"\u003e@thisishrsh\u003c/a\u003e! Triaged.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-07-20T23:58:54.521Z","updated_at":"2016-07-20T23:58:54.521Z","actor":{"username":"maxfeldman","cleared":false,"url":"/maxfeldman","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/016/613/37b54dbac5da0a42db471713959c8bf2de89a12d_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1079371,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hey @thisishrsh - we believe we've deployed a fix. Can you check if the fix has made it out to your environment?\n\nThanks!\nMax","markdown_message":"\u003cp\u003eHey \u003ca href=\"/thisishrsh\"\u003e@thisishrsh\u003c/a\u003e - we believe we\u0026#39;ve deployed a fix. Can you check if the fix has made it out to your environment?\u003c/p\u003e\n\n\u003cp\u003eThanks!\u003cbr\u003e\nMax\u003c/p\u003e\n","automated_response":false,"created_at":"2016-07-21T05:33:57.881Z","updated_at":"2016-07-21T05:33:57.881Z","actor":{"username":"maxfeldman","cleared":false,"url":"/maxfeldman","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/016/613/37b54dbac5da0a42db471713959c8bf2de89a12d_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1079383,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi @maxfeldman ,\n\nIts fixed now and an error message is getting displayed.","markdown_message":"\u003cp\u003eHi \u003ca href=\"/maxfeldman\"\u003e@maxfeldman\u003c/a\u003e ,\u003c/p\u003e\n\n\u003cp\u003eIts fixed now and an error message is getting displayed.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-07-21T05:47:47.916Z","updated_at":"2016-07-21T05:53:22.008Z","actor":{"username":"thisishrsh","cleared":false,"url":"/thisishrsh","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/076/795/544bcd2b850f01c27c2140b866a3e989bd84dfb8_original.PNG/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1081202,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Thanks for a good find!","markdown_message":"\u003cp\u003eThanks for a good find!\u003c/p\u003e\n","automated_response":false,"created_at":"2016-07-21T22:28:06.428Z","updated_at":"2016-07-21T22:28:06.428Z","actor":{"username":"maxfeldman","cleared":false,"url":"/maxfeldman","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/016/613/37b54dbac5da0a42db471713959c8bf2de89a12d_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"thisishrsh","url":"/thisishrsh"},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1081204,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"Thanks @thisishrsh for an interesting finding! Please keep up the good work!\n\nThe Slack Security Team","markdown_message":"\u003cp\u003eThanks \u003ca href=\"/thisishrsh\"\u003e@thisishrsh\u003c/a\u003e for an interesting finding! Please keep up the good work!\u003c/p\u003e\n\n\u003cp\u003eThe Slack Security Team\u003c/p\u003e\n","automated_response":false,"created_at":"2016-07-21T22:29:14.042Z","updated_at":"2016-07-21T22:29:14.042Z","actor":{"url":"/slack","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Slack"}},"bounty_amount":"500.0","bounty_currency":"usd","genius_execution_id":null,"team_handle":"slack","collaborator":{"username":"thisishrsh","url":"/thisishrsh"},"actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1161781,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-08-30T08:34:37.392Z","updated_at":"2016-08-30T08:34:37.392Z","first_to_agree":true,"actor":{"username":"thisishrsh","cleared":false,"url":"/thisishrsh","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/076/795/544bcd2b850f01c27c2140b866a3e989bd84dfb8_original.PNG/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1167229,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Requesting public disclosure","markdown_message":"\u003cp\u003eRequesting public disclosure\u003c/p\u003e\n","automated_response":false,"created_at":"2016-09-01T10:44:18.002Z","updated_at":"2016-09-01T10:44:18.002Z","actor":{"username":"thisishrsh","cleared":false,"url":"/thisishrsh","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/076/795/544bcd2b850f01c27c2140b866a3e989bd84dfb8_original.PNG/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1223164,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-09-29T08:34:46.770Z","updated_at":"2016-09-29T08:34:46.770Z","actor":{"url":"/slack","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Slack"}},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}