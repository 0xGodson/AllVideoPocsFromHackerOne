{"id":276253,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8yNzYyNTM=","url":"https://hackerone.com/reports/276253","title":"Use of uninitialized value in networkstatus_parse_vote_from_string (src/or/routerparse.c:3533)","state":"Closed","substate":"informative","severity_rating":"none","readable_substate":"Informative","created_at":"2017-10-11T04:47:19.502Z","submitted_at":"2017-10-11T04:47:19.502Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"geeknik","url":"/geeknik","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":true,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":1800,"url":"https://hackerone.com/torproject","handle":"torproject","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/001/800/6e575d0a9127b91e83833cf4a9e6be6e8b30cbc3_original.jpg/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/001/800/6e575d0a9127b91e83833cf4a9e6be6e8b30cbc3_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"paused","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Tor","twitter_handle":"torproject","website":"https://www.torproject.org/","about":"Anonymity Online"}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2017-10-31T18:53:02.105Z","bug_reporter_agreed_on_going_public_at":"2017-10-31T18:53:01.682Z","team_member_agreed_on_going_public_at":"2017-10-31T18:52:13.293Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Triggered in `22139c0`, compiled with `-fsanitize=memory` and clang 6.0.0-trunk.\n\n`./fuzz-consense \u003c test000bbb`\n\n```\n==9293==WARNING: MemorySanitizer: use-of-uninitialized-value\n    #0 0x5611f7f7e4de in networkstatus_parse_vote_from_string /root/tor/src/or/routerparse.c:3533:23\n    #1 0x5611f75bbbd1 in fuzz_main /root/tor/src/test/fuzz/fuzz_consensus.c:66:8\n    #2 0x5611f75bb29d in main /root/tor/src/test/fuzz/fuzzing_common.c:179:3\n    #3 0x7f9914298b44 in __libc_start_main /build/glibc-6V9RKT/glibc-2.19/csu/libc-start.c:287\n    #4 0x5611f75488ce in _start (/root/tor/src/test/fuzz/fuzz-consensus+0x3bc8ce)\n\nSUMMARY: MemorySanitizer: use-of-uninitialized-value /root/tor/src/or/routerparse.c:3533:23 in networkstatus_parse_vote_from_string\n```","vulnerability_information_html":"\u003cp\u003eTriggered in \u003ccode\u003e22139c0\u003c/code\u003e, compiled with \u003ccode\u003e-fsanitize=memory\u003c/code\u003e and clang 6.0.0-trunk.\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003e./fuzz-consense \u0026lt; test000bbb\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e==9293==WARNING: MemorySanitizer: use-of-uninitialized-value\n    #0 0x5611f7f7e4de in networkstatus_parse_vote_from_string /root/tor/src/or/routerparse.c:3533:23\n    #1 0x5611f75bbbd1 in fuzz_main /root/tor/src/test/fuzz/fuzz_consensus.c:66:8\n    #2 0x5611f75bb29d in main /root/tor/src/test/fuzz/fuzzing_common.c:179:3\n    #3 0x7f9914298b44 in __libc_start_main /build/glibc-6V9RKT/glibc-2.19/csu/libc-start.c:287\n    #4 0x5611f75488ce in _start (/root/tor/src/test/fuzz/fuzz-consensus+0x3bc8ce)\n\nSUMMARY: MemorySanitizer: use-of-uninitialized-value /root/tor/src/or/routerparse.c:3533:23 in networkstatus_parse_vote_from_string\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","weakness":{"id":2,"name":"Memory Corruption - Generic"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":228133,"file_name":"test000bbb.gz","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/228/133/35dfef5d7ca21215f3511a928cd659d59ed3108c/test000bbb.gz?response-content-disposition=attachment%3B%20filename%3D%22test000bbb.gz%22%3B%20filename%2A%3DUTF-8%27%27test000bbb.gz\u0026response-content-type=application%2Fgzip\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ4IZIDGEJ%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T052101Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHgvhPRXI%2B7x6zNGnfFbWtzZacTUlKPt3VwSApQji3YyAiEA2Y%2FuJ72LgjXuchHTkycORzGcHp9y6ZUl%2BeyKz%2FFfjlAqtAMIVBABGgwwMTM2MTkyNzQ4NDkiDHblJHa0bCSVtoiX8yqRA7Ct%2F1l8ihdf2xXnJNUaJGv7nq%2F1b1xXdqHLpOjb5bN22Ac%2BQjHl%2Bna1KjqQx0Qu8Fcs0WQUm6dGPZbHLiP%2FRkIHh6FlY41MtajX39mvBrMgWCmioQD4vc7NSsiqHLG4GmvgnIM0wWXfwwv%2Fmq%2BjRWJQacOyz7e9kYXzI%2BQkViUKmcuV48xoXGswHYXnPSqKC6IqSk0Rgc6j2xAmne60g5PNHQf%2BehWLSoXupow19n2vF%2BE4dhw1ZLX%2B9fBct02t5%2B41MEA5z30yhC52UxDX9%2BedHi3rXpTTyV%2FX%2BWfdeGSGSqmwrTAcipCpz01NR%2Fkk3srD5BLQB%2B6BdeDlwwcltfcgYdKO39yRPNyZePA9ihdN%2B4YHA7%2FY9ufCPbEevGDvtv3mVStbES31aUOxSmGNj%2B8fMMJqFBAtD4Qx54l8UFyMf%2BQ8PPbA0OLpU9rjip1L0zxevK6IGISP%2FPlDldWsNQvfi1Xn6QvRkmL1ANNGXqycx5MDUJExPyV801VOQ68%2FfbB87Cmdd8xIJWUNtmpsIgDtMO2wqv8FOusBRxy8OOzTGCKFydY5xn2aZtaPj3obazs55j%2BS5FoY%2BdkqAuB4pbyPDlTBBI%2Fe4ZIYYBH9t51VaQaRwrhKPTTntuBcC2b5uuKcGXYq9rnIAgbUHulNqSoxgZep0wAjzrLEFeECcDfqDCjG1QyXJkGQyq3UjLElJNKzeGgK4y5hW9emXis3wfoUPLixiL7W8M52b0Q9HQrT0RxnkkNSLj7aPyOAVCPImHNwjJ%2FI2KIbB5iD4e9PbxcHFvjKgkNUQh2pESECovpzx%2BAz7wsT%2FUMRieGT%2BFtMt1o90%2BewPxe95i025ZqzwWI1aVcXtA%3D%3D\u0026X-Amz-Signature=c48a77a340634e298408ab27cb325f7642a904cd4aa069be94f27cdf4df614e9","file_size":381,"type":"application/gzip"}],"allow_singular_disclosure_at":null,"vote_count":2,"voters":["geeknik","b4155f7c29acd42c27d007a"],"severity":{"rating":"none","author_type":"Team"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":2102508,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Better stack trace:\n\n```\n==27381==WARNING: MemorySanitizer: use-of-uninitialized-value\n    #0 0x555dedc903dc in networkstatus_parse_vote_from_string /root/tor/src/or/routerparse.c:3533:7\n    #1 0x555ded737b33 in fuzz_main /root/tor/src/test/fuzz/fuzz_consensus.c:66:8\n    #2 0x555ded736fc0 in main /root/tor/src/test/fuzz/fuzzing_common.c:179:3\n    #3 0x7f0d938633f0 in __libc_start_main /build/glibc-mXZSwJ/glibc-2.24/csu/../csu/libc-start.c:291\n    #4 0x555ded6c4a19 in _start (/root/tor/src/test/fuzz/fuzz-consensus+0x71a19)\n\n  Uninitialized value was created by a heap allocation\n    #0 0x555ded6ed77d in __interceptor_malloc (/root/tor/src/test/fuzz/fuzz-consensus+0x9a77d)\n    #1 0x555dedf94f27 in tor_malloc_ /root/tor/src/common/util.c:150:12\n    #2 0x555ded7373aa in global_init /root/tor/src/test/fuzz/fuzzing_common.c:110:18\n    #3 0x555ded73689a in main /root/tor/src/test/fuzz/fuzzing_common.c:140:3\n    #4 0x7f0d938633f0 in __libc_start_main /build/glibc-mXZSwJ/glibc-2.24/csu/../csu/libc-start.c:291\n\nSUMMARY: MemorySanitizer: use-of-uninitialized-value /root/tor/src/or/routerparse.c:3533:7 in networkstatus_parse_vote_from_string\nExiting\n```","markdown_message":"\u003cp\u003eBetter stack trace:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e==27381==WARNING: MemorySanitizer: use-of-uninitialized-value\n    #0 0x555dedc903dc in networkstatus_parse_vote_from_string /root/tor/src/or/routerparse.c:3533:7\n    #1 0x555ded737b33 in fuzz_main /root/tor/src/test/fuzz/fuzz_consensus.c:66:8\n    #2 0x555ded736fc0 in main /root/tor/src/test/fuzz/fuzzing_common.c:179:3\n    #3 0x7f0d938633f0 in __libc_start_main /build/glibc-mXZSwJ/glibc-2.24/csu/../csu/libc-start.c:291\n    #4 0x555ded6c4a19 in _start (/root/tor/src/test/fuzz/fuzz-consensus+0x71a19)\n\n  Uninitialized value was created by a heap allocation\n    #0 0x555ded6ed77d in __interceptor_malloc (/root/tor/src/test/fuzz/fuzz-consensus+0x9a77d)\n    #1 0x555dedf94f27 in tor_malloc_ /root/tor/src/common/util.c:150:12\n    #2 0x555ded7373aa in global_init /root/tor/src/test/fuzz/fuzzing_common.c:110:18\n    #3 0x555ded73689a in main /root/tor/src/test/fuzz/fuzzing_common.c:140:3\n    #4 0x7f0d938633f0 in __libc_start_main /build/glibc-mXZSwJ/glibc-2.24/csu/../csu/libc-start.c:291\n\nSUMMARY: MemorySanitizer: use-of-uninitialized-value /root/tor/src/or/routerparse.c:3533:7 in networkstatus_parse_vote_from_string\nExiting\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","automated_response":false,"created_at":"2017-10-25T18:37:13.864Z","updated_at":"2017-10-25T18:37:13.864Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2106730,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2017-10-26T22:05:12.680Z","updated_at":"2017-10-26T22:05:12.680Z","additional_data":{"old_severity":null,"new_severity":"Low","old_severity_id":null,"new_severity_id":88895},"actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2106744,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thanks for the report!\n\nBy code inspection this appears to be an actual uninitialized value that's specific to the fuzzing support framework.\n\n`global_init()` allocates an `mock_options` using `tor_malloc()` rather than `tor_malloc_zero()`, so it's entirely uninitialized, and nothing else I see initializes it afterward. `networkstatus_parse_vote_from_string()` then retrieves it using `get_options()-\u003eTestingTorNetwork` (and doesn't check any other fields).\n\nI think we should fix this to reduce the noise produced by static analyzers and sanitizers.","markdown_message":"\u003cp\u003eThanks for the report!\u003c/p\u003e\n\n\u003cp\u003eBy code inspection this appears to be an actual uninitialized value that\u0026#39;s specific to the fuzzing support framework.\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eglobal_init()\u003c/code\u003e allocates an \u003ccode\u003emock_options\u003c/code\u003e using \u003ccode\u003etor_malloc()\u003c/code\u003e rather than \u003ccode\u003etor_malloc_zero()\u003c/code\u003e, so it\u0026#39;s entirely uninitialized, and nothing else I see initializes it afterward. \u003ccode\u003enetworkstatus_parse_vote_from_string()\u003c/code\u003e then retrieves it using \u003ccode\u003eget_options()-\u0026gt;TestingTorNetwork\u003c/code\u003e (and doesn\u0026#39;t check any other fields).\u003c/p\u003e\n\n\u003cp\u003eI think we should fix this to reduce the noise produced by static analyzers and sanitizers.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-26T22:12:28.029Z","updated_at":"2017-10-26T22:12:28.029Z","actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2108949,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I think we should track this in our public bugtracker. Please let us know in one week if you object, and let us know how (or if) you would like us to credit you in the public ticket.","markdown_message":"\u003cp\u003eI think we should track this in our public bugtracker. Please let us know in one week if you object, and let us know how (or if) you would like us to credit you in the public ticket.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-27T18:01:13.012Z","updated_at":"2017-10-27T18:01:13.012Z","actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2109034,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"By all means, go ahead. You can credit Brian Carpenter (Geeknik Labs). Thank you.","markdown_message":"\u003cp\u003eBy all means, go ahead. You can credit Brian Carpenter (Geeknik Labs). Thank you.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-27T18:29:51.917Z","updated_at":"2017-10-27T18:29:51.917Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2115143,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks! This is now https://trac.torproject.org/projects/tor/ticket/24082 in our public bug tracker.","markdown_message":"\u003cp\u003eThanks! This is now \u003ca title=\"https://trac.torproject.org/projects/tor/ticket/24082\" href=\"/redirect?url=https%3A%2F%2Ftrac.torproject.org%2Fprojects%2Ftor%2Fticket%2F24082\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://trac.torproject.org/projects/tor/ticket/24082\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e in our public bug tracker.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-30T20:38:31.593Z","updated_at":"2017-10-30T20:38:31.593Z","actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2116179,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Please look at the patch at https://gitweb.torproject.org/nickm/tor.git/commit/?h=bug24082_032\u0026id=5dce134fbb4310704c6e9dcffca61221671d6e47 and let us know if it resolves the MemorySanitizer warning for you.","markdown_message":"\u003cp\u003ePlease look at the patch at \u003ca title=\"https://gitweb.torproject.org/nickm/tor.git/commit/?h=bug24082_032\u0026amp;id=5dce134fbb4310704c6e9dcffca61221671d6e47\" href=\"/redirect?url=https%3A%2F%2Fgitweb.torproject.org%2Fnickm%2Ftor.git%2Fcommit%2F%3Fh%3Dbug24082_032%26id%3D5dce134fbb4310704c6e9dcffca61221671d6e47\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://gitweb.torproject.org/nickm/tor.git/commit/?h=bug24082_032\u0026amp;id=5dce134fbb4310704c6e9dcffca61221671d6e47\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e and let us know if it resolves the MemorySanitizer warning for you.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-31T01:17:39.017Z","updated_at":"2017-10-31T01:17:39.017Z","actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2116233,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Yes. It resolves the original MSan warning, but now I see this:\n\n```\n./fuzz-consensus --debug \u003c tmp/test000bbb\n==15151==WARNING: MemorySanitizer: use-of-uninitialized-value\n    #0 0x5636fced6f9c in tor_vsscanf /root/tor/src/common/util.c:3340:13\n    #1 0x5636fcec3536 in tor_sscanf /root/tor/src/common/util.c:3440:7\n    #2 0x5636fcec41e2 in parse_iso_time_ /root/tor/src/common/util.c:1812:14\n    #3 0x5636fcec4f6d in parse_iso_time /root/tor/src/common/util.c:1864:10\n    #4 0x5636fcb2f2b0 in routerstatus_parse_entry_from_string /root/tor/src/or/routerparse.c:2619:7\n    #5 0x5636fcb453a3 in networkstatus_parse_vote_from_string /root/tor/src/or/routerparse.c:3777:17\n    #6 0x5636fc541bf5 in fuzz_main /root/tor/src/test/fuzz/fuzz_consensus.c:66:8\n    #7 0x5636fc54122c in main /root/tor/src/test/fuzz/fuzzing_common.c:179:3\n    #8 0x7feeee3e6b44 in __libc_start_main /build/glibc-6V9RKT/glibc-2.19/csu/libc-start.c:287\n    #9 0x5636fc4ceb3e in _start (/root/tor/src/test/fuzz/fuzz-consensus+0x7cb3e)\n\n  Uninitialized value was created by an allocation of 'timebuf' in the stack frame of function 'routerstatus_parse_entry_from_string'\n    #0 0x5636fcb2dbe0 in routerstatus_parse_entry_from_string /root/tor/src/or/routerparse.c:2554\n\nSUMMARY: MemorySanitizer: use-of-uninitialized-value /root/tor/src/common/util.c:3340:13 in tor_vsscanf\nExiting\n\n```","markdown_message":"\u003cp\u003eYes. It resolves the original MSan warning, but now I see this:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e./fuzz-consensus --debug \u0026lt; tmp/test000bbb\n==15151==WARNING: MemorySanitizer: use-of-uninitialized-value\n    #0 0x5636fced6f9c in tor_vsscanf /root/tor/src/common/util.c:3340:13\n    #1 0x5636fcec3536 in tor_sscanf /root/tor/src/common/util.c:3440:7\n    #2 0x5636fcec41e2 in parse_iso_time_ /root/tor/src/common/util.c:1812:14\n    #3 0x5636fcec4f6d in parse_iso_time /root/tor/src/common/util.c:1864:10\n    #4 0x5636fcb2f2b0 in routerstatus_parse_entry_from_string /root/tor/src/or/routerparse.c:2619:7\n    #5 0x5636fcb453a3 in networkstatus_parse_vote_from_string /root/tor/src/or/routerparse.c:3777:17\n    #6 0x5636fc541bf5 in fuzz_main /root/tor/src/test/fuzz/fuzz_consensus.c:66:8\n    #7 0x5636fc54122c in main /root/tor/src/test/fuzz/fuzzing_common.c:179:3\n    #8 0x7feeee3e6b44 in __libc_start_main /build/glibc-6V9RKT/glibc-2.19/csu/libc-start.c:287\n    #9 0x5636fc4ceb3e in _start (/root/tor/src/test/fuzz/fuzz-consensus+0x7cb3e)\n\n  Uninitialized value was created by an allocation of \u0026#39;timebuf\u0026#39; in the stack frame of function \u0026#39;routerstatus_parse_entry_from_string\u0026#39;\n    #0 0x5636fcb2dbe0 in routerstatus_parse_entry_from_string /root/tor/src/or/routerparse.c:2554\n\nSUMMARY: MemorySanitizer: use-of-uninitialized-value /root/tor/src/common/util.c:3340:13 in tor_vsscanf\nExiting\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","automated_response":false,"created_at":"2017-10-31T02:20:49.719Z","updated_at":"2017-10-31T02:20:49.719Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2116266,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks for testing! The new error looks like it's another instance of bytes that `vsnprintf()` writes being colored incorrectly (called via `tor_snprintf()` two lines before the `parse_iso_time_()` call), unless you have good reason to believe that `vsnprintf()` call is failing in a way that prevents it from writing the expected bytes.","markdown_message":"\u003cp\u003eThanks for testing! The new error looks like it\u0026#39;s another instance of bytes that \u003ccode\u003evsnprintf()\u003c/code\u003e writes being colored incorrectly (called via \u003ccode\u003etor_snprintf()\u003c/code\u003e two lines before the \u003ccode\u003eparse_iso_time_()\u003c/code\u003e call), unless you have good reason to believe that \u003ccode\u003evsnprintf()\u003c/code\u003e call is failing in a way that prevents it from writing the expected bytes.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-31T02:54:31.423Z","updated_at":"2017-10-31T02:54:31.423Z","actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2116274,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@argonblue, I'll have to defer to your judgement. ","markdown_message":"\u003cp\u003e\u003ca href=\"/argonblue\"\u003e@argonblue\u003c/a\u003e, I\u0026#39;ll have to defer to your judgement. \u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-31T03:07:00.514Z","updated_at":"2017-10-31T03:07:00.514Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2116294,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Does it maybe make sense to maybe use the `function attribute no_sanitize(\"memory\") to disable uninitialized checks` in those portions of code? From: https://clang.llvm.org/docs/MemorySanitizer.html","markdown_message":"\u003cp\u003eDoes it maybe make sense to maybe use the \u003ccode\u003efunction attribute no_sanitize(\u0026quot;memory\u0026quot;) to disable uninitialized checks\u003c/code\u003e in those portions of code? From: \u003ca title=\"https://clang.llvm.org/docs/MemorySanitizer.html\" href=\"/redirect?url=https%3A%2F%2Fclang.llvm.org%2Fdocs%2FMemorySanitizer.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://clang.llvm.org/docs/MemorySanitizer.html\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-31T03:20:19.721Z","updated_at":"2017-10-31T03:20:19.721Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2117488,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks for the suggestion. I think we like to avoid adding code annotations that only serve to work around limitations of analysis tools because they can make the code less readable. I think we want to be especially wary of adding annotations to accommodate a tool that's still in prerelease.","markdown_message":"\u003cp\u003eThanks for the suggestion. I think we like to avoid adding code annotations that only serve to work around limitations of analysis tools because they can make the code less readable. I think we want to be especially wary of adding annotations to accommodate a tool that\u0026#39;s still in prerelease.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-31T14:07:59.307Z","updated_at":"2017-10-31T14:07:59.307Z","actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2117752,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Well, to be fair, I was only suggesting a a conditional or ifdef that detects when -fsanitize=memory is used and MSan is pretty mature, it is available going back to [clang 3.5](http://releases.llvm.org/3.5.0/tools/clang/docs/MemorySanitizer.html). I only use Clang 6.0.0-trunk because the bleading edge is where they add new checks, code coverage, etc. Gotta stay ahead of the curve sometimes. Anyways, maybe something to keep in mind for the test suite in the future. (=","markdown_message":"\u003cp\u003eWell, to be fair, I was only suggesting a a conditional or ifdef that detects when -fsanitize=memory is used and MSan is pretty mature, it is available going back to \u003ca href=\"/redirect?url=http%3A%2F%2Freleases.llvm.org%2F3.5.0%2Ftools%2Fclang%2Fdocs%2FMemorySanitizer.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003eclang 3.5\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e. I only use Clang 6.0.0-trunk because the bleading edge is where they add new checks, code coverage, etc. Gotta stay ahead of the curve sometimes. Anyways, maybe something to keep in mind for the test suite in the future. (=\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-31T15:35:44.876Z","updated_at":"2017-10-31T15:35:44.876Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2118279,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2017-10-31T17:54:17.416Z","updated_at":"2017-10-31T17:54:17.416Z","additional_data":{"old_severity":"Low","new_severity":"None","old_severity_id":88895,"new_severity_id":90087},"actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2118281,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"Thanks again for the report. Closing as Informative because it's not a vulnerability.","markdown_message":"\u003cp\u003eThanks again for the report. Closing as Informative because it\u0026#39;s not a vulnerability.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-10-31T17:54:34.799Z","updated_at":"2017-10-31T17:54:34.799Z","actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2118681,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-10-31T18:52:13.354Z","updated_at":"2017-10-31T18:52:13.354Z","first_to_agree":true,"actor":{"username":"argonblue","cleared":false,"url":"/argonblue","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2118684,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-10-31T18:53:01.899Z","updated_at":"2017-10-31T18:53:01.899Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2118685,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-10-31T18:53:02.237Z","updated_at":"2017-10-31T18:53:02.237Z","actor":{"username":"geeknik","cleared":true,"url":"/geeknik","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/7xfGZCKCxUuGLYGfuUZM3XyY/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"torproject","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}