{"id":255132,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8yNTUxMzI=","url":"https://hackerone.com/reports/255132","title":"Credential gets exposed","state":"Closed","substate":"informative","severity_rating":"low","readable_substate":"Informative","created_at":"2017-07-31T11:21:47.758Z","submitted_at":"2017-07-31T11:21:47.758Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"luke081515","url":"/luke081515","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":18,"url":"https://hackerone.com/phabricator","handle":"phabricator","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/018/61446f7e6f0684c8c9f7c36c918b7ecd58183588_original.jpg/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/018/61446f7e6f0684c8c9f7c36c918b7ecd58183588_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Phabricator","twitter_handle":"phabricator","website":"http://phacility.com/phabricator/","about":"Phabricator is a collection of open source web applications that help software companies build better software."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2017-08-02T18:21:06.852Z","bug_reporter_agreed_on_going_public_at":"2017-08-02T18:18:29.863Z","team_member_agreed_on_going_public_at":"2017-08-02T18:21:06.799Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"1. Create a repo\n2. Mirror it to an URL\n3. Assign a credential to the mirror\n4. I've now had an existing repo, and wanted to change it to mirror only, so that phabricator pulls from an URL instead of self-hosting.\n\nI now recived this error msg:\n    Pull of 'Luke081515Bot' failed: Working copy at \"/srv/repos/LUKE\" has a mismatched origin URI, \"https://Luke081515:\u003credacted\u003e@bitbucket.org/Luke081515/lukebot\". The expected origin URI is \"https://newUrl/Luke/Luke081515Bot.git\". Fix your configuration, or set the remote URI correctly. To avoid breaking anything, Phabricator will not automatically fix this.\n\nIn this case the \u003credacted\u003e part was my password for bitbucket, completly visible for everyone who is able to see the repo. Phabricator should not expose the whole URLs including passwords. \n\nSo in theory everyone who can edit a repo, but can't view a credential can get access to it by producing this git error and then see the password at the raw error.\n","vulnerability_information_html":"\u003col\u003e\n\u003cli\u003eCreate a repo\u003c/li\u003e\n\u003cli\u003eMirror it to an URL\u003c/li\u003e\n\u003cli\u003eAssign a credential to the mirror\u003c/li\u003e\n\u003cli\u003eI\u0026#39;ve now had an existing repo, and wanted to change it to mirror only, so that phabricator pulls from an URL instead of self-hosting.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eI now recived this error msg:\u003cbr\u003e\n    Pull of \u0026#39;Luke081515Bot\u0026#39; failed: Working copy at \u0026quot;/srv/repos/LUKE\u0026quot; has a mismatched origin URI, \u0026quot;\u003ca title=\"https://luke081515\" href=\"/redirect?url=https%3A%2F%2Fluke081515\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://luke081515\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u0026lt;redacted\u0026gt;@bitbucket.org/Luke081515/lukebot\u0026quot;. The expected origin URI is \u0026quot;\u003ca title=\"https://newurl/Luke/Luke081515Bot.git\" href=\"/redirect?url=https%3A%2F%2Fnewurl%2FLuke%2FLuke081515Bot.git\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://newurl/Luke/Luke081515Bot.git\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u0026quot;. Fix your configuration, or set the remote URI correctly. To avoid breaking anything, Phabricator will not automatically fix this.\u003c/p\u003e\n\n\u003cp\u003eIn this case the \u0026lt;redacted\u0026gt; part was my password for bitbucket, completly visible for everyone who is able to see the repo. Phabricator should not expose the whole URLs including passwords. \u003c/p\u003e\n\n\u003cp\u003eSo in theory everyone who can edit a repo, but can\u0026#39;t view a credential can get access to it by producing this git error and then see the password at the raw error.\u003c/p\u003e\n","weakness":{"id":18,"name":"Information Disclosure"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":208516,"file_name":"PhabExpose.PNG","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/208/516/7b7bd484b0fb5e3cedeaf1f0ed7838748e9966b9/PhabExpose.PNG?response-content-disposition=attachment%3B%20filename%3D%22PhabExpose.PNG%22%3B%20filename%2A%3DUTF-8%27%27PhabExpose.PNG\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQVN4C5GIR%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T051314Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICjdrX7ABZ%2BvfX76vY4hAT36HAFa7ABTRFnFNWlME3RsAiA6spUqHGGbpGIJMpDYYPRLrN21uLj3JvPgDLV04KLXWCq0AwhSEAEaDDAxMzYxOTI3NDg0OSIM%2BwbYtZgzO0HRNuilKpED0QRzghA3dQ82LDNvNHg%2F%2Bapjkbzzquj0OQyaslf6lhZ6ae5aaEALaU1htc90%2FTkEnCjK7YAB%2BOOqYauHnXFwgnicH8P2qB1b6qq8ByPdiyv%2F6FeKLaeKEKd1ked0wxhxGILfvv9geWvP9kPkCkrnpW%2Bk3I2nWFhXQ59oSwcUQzXUMoZ0agtptlqAo0vIB0BQ8w3QdM1eyZALy%2Fa2aEoAk0NEEkFhGgVq6y7NSlne0HYNYsnTubU1gtBiWgKFN75WWxAKzP41DZr9biaTv2LpKz%2BS54%2B0D7gM01Pv9DWNFSxduldCjFNWMHaz53TpINKZivByzZ%2FZritkdAHNoYR8NUHdDo4fG9KADtaMgItKYoCYS9dQ3VQKUnEB%2FG5XIqiEWJNuiVPw9Xo1zZJ7ItciKJ%2F2lZOYbSY5IWLtOLK3LAXfBln%2BqWM6KN%2BYSgAqj80OMMoKJozuCJRCLPgT%2BsuXVxgkfPMjWm0msUwRdOuNqAG3PPIFx7Qi20ur1fS33s63LIR24RY3pe1aeEm14DkixQAwqvyp%2FwU67AFUTZKxgkosuC9%2FFnLTDWAcFKkGbWeTSyQlX9WvARJtmEGSKKE3O3RCz4o1fvK2y8cIWG4ZDqIQnnY30DkA5lvQ1S96196eUcIlxUE3IU6WzlYzirsAJvCXzxdcKxl0gn59sA3vLFJkUTgoas7IMyJTtRG6%2B0%2BVBuYKCHqJR1eTwSQxZvSP%2Bzn9VyHRQJZnA1hWcpkteF706gKj%2FXnieX9VW%2FOBOoEUExU1kfEmA0ZpoQRXSm8ma7vzsQoYhwoevAvKutaOvkhM8WM71tgT1%2FjC27FmA%2F%2FsDsAjQs2Rv9IujFElYACO0n6OSheOZw%3D%3D\u0026X-Amz-Signature=ec836020b0c2bcc76a5574fce375881c4bf33318907a420ed51ca04b3a1aa35c","file_size":45238,"type":"image/png"}],"allow_singular_disclosure_at":null,"vote_count":1,"voters":["annonymous1"],"severity":{"rating":"low","author_type":"Team"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1879529,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2017-07-31T14:04:44.768Z","updated_at":"2017-07-31T14:04:44.768Z","additional_data":{"old_severity":"High","new_severity":"Low","old_severity_id":63463,"new_severity_id":63484},"actor":{"username":"epriestley","cleared":false,"url":"/epriestley","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/043/3ebca5250ea5abd54b49ccc9d69c636af4585b2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"phabricator","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1879530,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"We'll fix this, but do not consider it to be a significant security issue.\n\nAnyone who edit the repository can likely learn the password already, by changing the URL to point at a server they control. Since HTTP passwords are symmetric and sent in plain text, they can then read the password from the request we send to their server. See also: \u003chttps://secure.phabricator.com/T4721#53742\u003e\n\nUsing asymmetric authentication (SSH) instead will: prevent disclosure through `ps`; prevent disclosure through error messages; and prevent disclosure through pointing the URI at an evil server.","markdown_message":"\u003cp\u003eWe\u0026#39;ll fix this, but do not consider it to be a significant security issue.\u003c/p\u003e\n\n\u003cp\u003eAnyone who edit the repository can likely learn the password already, by changing the URL to point at a server they control. Since HTTP passwords are symmetric and sent in plain text, they can then read the password from the request we send to their server. See also: \u003ca title=\"https://secure.phabricator.com/T4721#53742\" href=\"/redirect?url=https%3A%2F%2Fsecure.phabricator.com%2FT4721%2353742\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://secure.phabricator.com/T4721#53742\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eUsing asymmetric authentication (SSH) instead will: prevent disclosure through \u003ccode\u003eps\u003c/code\u003e; prevent disclosure through error messages; and prevent disclosure through pointing the URI at an evil server.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-31T14:04:48.222Z","updated_at":"2017-07-31T14:04:48.222Z","actor":{"username":"epriestley","cleared":false,"url":"/epriestley","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/043/3ebca5250ea5abd54b49ccc9d69c636af4585b2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"phabricator","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1879935,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"This error message is now censored in the upstream:\n\nhttps://secure.phabricator.com/D18304","markdown_message":"\u003cp\u003eThis error message is now censored in the upstream:\u003c/p\u003e\n\n\u003cp\u003e\u003ca title=\"https://secure.phabricator.com/D18304\" href=\"/redirect?url=https%3A%2F%2Fsecure.phabricator.com%2FD18304\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://secure.phabricator.com/D18304\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-31T16:50:43.502Z","updated_at":"2017-07-31T16:50:43.502Z","actor":{"username":"epriestley","cleared":false,"url":"/epriestley","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/043/3ebca5250ea5abd54b49ccc9d69c636af4585b2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"phabricator","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1886019,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-08-02T18:18:29.888Z","updated_at":"2017-08-02T18:18:29.888Z","first_to_agree":true,"actor":{"username":"luke081515","cleared":false,"url":"/luke081515","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"phabricator","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1886030,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-08-02T18:21:06.834Z","updated_at":"2017-08-02T18:21:06.834Z","actor":{"username":"epriestley","cleared":false,"url":"/epriestley","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/043/3ebca5250ea5abd54b49ccc9d69c636af4585b2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"phabricator","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1886031,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-08-02T18:21:06.867Z","updated_at":"2017-08-02T18:21:06.867Z","actor":{"username":"epriestley","cleared":false,"url":"/epriestley","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/043/3ebca5250ea5abd54b49ccc9d69c636af4585b2e_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"phabricator","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}